{"version":3,"sources":["../../../core/src/index.tsx","../../../core/src/components/pages/error/index.tsx","../../../core/src/hooks/auth/usePermissions/index.ts","../../../core/src/contexts/auth/index.tsx","../../../core/src/hooks/auth/useGetIdentity/index.ts","../../../core/src/hooks/auth/useLogout/index.ts","../../../core/src/hooks/auth/useLogin/index.ts","../../../core/src/hooks/auth/useRegister/index.ts","../../../core/src/hooks/auth/useForgotPassword/index.ts","../../../core/src/hooks/auth/useUpdatePassword/index.ts","../../../core/src/hooks/auth/useAuthenticated/index.ts","../../../core/src/hooks/auth/useCheckError/index.ts","../../../core/src/hooks/auth/useIsExistAuthentication.ts","../../../core/src/hooks/data/useList.ts","../../../core/src/definitions/helpers/userFriendlySeconds/index.ts","../../../core/src/definitions/helpers/importCSVMapper/index.ts","../../../core/src/definitions/helpers/userFriendlyResourceName/index.ts","../../../core/src/definitions/table/index.ts","../../../core/src/definitions/upload/file2Base64/index.ts","../../../core/src/definitions/helpers/handleUseParams/index.tsx","../../../core/src/definitions/helpers/queryKeys/index.ts","../../../core/src/definitions/helpers/hasPermission/index.ts","../../../core/src/definitions/helpers/routeGenerator/index.ts","../../../core/src/definitions/helpers/treeView/createTreeView/index.ts","../../../core/src/definitions/helpers/humanizeString/index.ts","../../../core/src/contexts/refine/index.tsx","../../../core/src/components/layoutWrapper/defaultLayout/index.tsx","../../../core/src/definitions/helpers/handleRefineOptions/index.ts","../../../core/src/definitions/helpers/redirectPage/index.ts","../../../core/src/definitions/helpers/sequentialPromises/index.ts","../../../core/src/definitions/helpers/pickDataProvider/index.ts","../../../core/src/definitions/helpers/handleMultiple/index.ts","../../../core/src/hooks/data/useOne.ts","../../../core/src/hooks/data/useMany.ts","../../../core/src/hooks/data/useUpdate.ts","../../../core/src/contexts/undoableQueue/undoableQueueContext.tsx","../../../core/src/hooks/data/useCreate.ts","../../../core/src/hooks/data/useDelete.ts","../../../core/src/hooks/data/useCreateMany.ts","../../../core/src/hooks/data/useUpdateMany.ts","../../../core/src/hooks/data/useDeleteMany.ts","../../../core/src/hooks/data/useApiUrl.ts","../../../core/src/hooks/data/useCustom.ts","../../../core/src/hooks/data/useCustomMutation.ts","../../../core/src/hooks/data/useDataProvider.tsx","../../../core/src/contexts/data/index.tsx","../../../core/src/hooks/live/useResourceSubscription/index.ts","../../../core/src/contexts/live/index.tsx","../../../core/src/hooks/live/useLiveMode/index.ts","../../../core/src/hooks/live/useSubscription/index.ts","../../../core/src/hooks/live/usePublish/index.ts","../../../core/src/hooks/resource/useResource/index.ts","../../../core/src/contexts/resource/index.tsx","../../../core/src/hooks/resource/useResourceWithRoute/index.ts","../../../core/src/hooks/notification/useCancelNotification/index.tsx","../../../core/src/hooks/notification/useNotification/index.ts","../../../core/src/contexts/notification/index.tsx","../../../core/src/hooks/notification/useHandleNotification/index.ts","../../../core/src/hooks/translate/useSetLocale.ts","../../../core/src/contexts/translation/index.tsx","../../../core/src/hooks/translate/useTranslate.ts","../../../core/src/hooks/translate/useGetLocale.ts","../../../core/src/hooks/refine/useMutationMode.ts","../../../core/src/hooks/refine/useWarnAboutChange/index.ts","../../../core/src/contexts/unsavedWarn/index.tsx","../../../core/src/hooks/refine/useSyncWithLocation.ts","../../../core/src/hooks/refine/useTitle.tsx","../../../core/src/hooks/refine/useRefineContext.ts","../../../core/src/hooks/export/index.ts","../../../core/src/hooks/form/useForm.ts","../../../core/src/hooks/redirection/index.ts","../../../core/src/hooks/navigation/index.ts","../../../core/src/hooks/show/useShow.ts","../../../core/src/hooks/import/index.tsx","../../../core/src/hooks/modal/useModal/index.tsx","../../../core/src/hooks/router/useRouterContext.ts","../../../core/src/contexts/router/index.tsx","../../../core/src/hooks/accessControl/useCan/index.ts","../../../core/src/contexts/accessControl/index.tsx","../../../core/src/hooks/accessControl/useCanWithoutCache.ts","../../../core/src/hooks/useSelect/index.ts","../../../core/src/hooks/useTable/index.ts","../../../core/src/hooks/auditLog/useLog/index.ts","../../../core/src/contexts/auditLog/index.tsx","../../../core/src/hooks/auditLog/useLogList/index.ts","../../../core/src/hooks/invalidate/index.tsx","../../../core/src/hooks/breadcrumb/index.ts","../../../core/src/hooks/menu/useMenu.tsx","../../../core/src/components/pages/login/index.tsx","../../../core/src/components/pages/auth/index.tsx","../../../core/src/components/pages/auth/components/login/index.tsx","../../../core/src/components/pages/auth/components/register/index.tsx","../../../core/src/components/pages/auth/components/forgotPassword/index.tsx","../../../core/src/components/pages/auth/components/updatePassword/index.tsx","../../../core/src/components/pages/ready/index.tsx","../../../core/src/components/containers/refine/index.tsx","../../../core/src/components/telemetry/index.tsx","../../../core/src/hooks/useTelemetryData/index.ts","../../../core/src/hooks/deepMemo/index.tsx","../../../core/src/hooks/memoized/index.tsx","../../../core/src/components/undoableQueue/index.tsx","../../../core/src/components/layoutWrapper/index.tsx","../../../core/src/components/authenticated/index.tsx","../../../core/src/components/routeChangeHandler/index.tsx","../../../core/src/components/canAccess/index.tsx","../../src/useForm/index.ts","../../src/useStepsForm/index.ts","../../src/useModalForm/index.ts","../../src/index.ts"],"sourcesContent":["import { ReactNode } from \"react\";\n\nexport * from \"./components\";\nexport * from \"./hooks\";\n\nexport {\n    Action,\n    ActionWithPage,\n    AccessControlProvider,\n    AuditLogProvider,\n    AuthProvider,\n    BaseKey,\n    BaseRecord,\n    CanParams,\n    CanReturnType,\n    ConditionalFilter,\n    CreateManyResponse,\n    CreateResponse,\n    CrudFilter,\n    CrudFilters,\n    CrudOperators,\n    CrudSort,\n    CrudSorting,\n    CustomResponse,\n    DeleteManyResponse,\n    DeleteOneResponse,\n    FormAction,\n    GetListResponse,\n    GetManyResponse,\n    GetOneResponse,\n    HttpError,\n    LayoutProps,\n    LiveEvent,\n    LiveModeProps,\n    LogicalFilter,\n    LogParams,\n    MapDataFn,\n    MetaDataQuery,\n    MutationMode,\n    NotificationProvider,\n    OpenNotificationParams,\n    Option,\n    Pagination,\n    PromptProps,\n    RedirectionTypes,\n    RedirectAction,\n    ResourceErrorRouterParams,\n    ResourceProps,\n    ResourceRouterParams,\n    RouteAction,\n    SortOrder,\n    SuccessErrorNotification,\n    TitleProps,\n    TranslationProvider,\n    UpdateManyResponse,\n    UpdateResponse,\n    I18nProvider,\n    IAccessControlContext,\n    IAuthContext,\n    IDataContextProvider as DataProvider,\n    ILiveContext as LiveProvider,\n    ILog,\n    ILogData,\n    ILoginForm,\n    INotificationContext,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext as ResourceProvider,\n    ITranslationContext,\n    IResourceItem,\n    IRouterProvider,\n    ITreeMenu,\n    IQueryKeys,\n} from \"./interfaces\";\n\n// all auth types\nexport * from \"./interfaces/auth\";\n\nexport {\n    getDefaultFilter,\n    getDefaultSortOrder,\n    parseTableParams,\n    parseTableParamsFromQuery,\n    setInitialFilters,\n    setInitialSorters,\n    stringifyTableParams,\n    unionFilters,\n    unionSorters,\n} from \"./definitions/table\";\nexport {\n    createTreeView,\n    handleUseParams,\n    importCSVMapper,\n    routeGenerator,\n    userFriendlyResourceName,\n} from \"./definitions/helpers\";\nexport { file2Base64 } from \"./definitions/upload\";\n","import React, { useEffect, useState } from \"react\";\n\nimport {\n    useNavigation,\n    useTranslate,\n    useResourceWithRoute,\n    useRouterContext,\n} from \"@hooks\";\nimport { ResourceErrorRouterParams, ActionWithPage } from \"../../../interfaces\";\n\n/**\n * When the app is navigated to a non-existent route, refine shows a default error page.\n * A custom error component can be used for this error page.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#catchall} for more details.\n */\nexport const ErrorComponent: React.FC = () => {\n    const [errorMessage, setErrorMessage] = useState<string>();\n    const { push } = useNavigation();\n    const translate = useTranslate();\n    const actionTypes: ActionWithPage[] = [\"edit\", \"create\", \"show\"];\n\n    const { useParams } = useRouterContext();\n\n    const params = useParams<ResourceErrorRouterParams>();\n    const resource = useResourceWithRoute();\n\n    useEffect(() => {\n        if (params.resource) {\n            const resourceFromRoute = resource(params.resource);\n            if (\n                params.action &&\n                actionTypes.includes(params.action) &&\n                !resourceFromRoute[params.action]\n            ) {\n                setErrorMessage(\n                    translate(\n                        \"pages.error.info\",\n                        {\n                            action: params.action,\n                            resource: params.resource,\n                        },\n                        `You may have forgotten to add the \"${params.action}\" component to \"${params.resource}\" resource.`,\n                    ),\n                );\n            }\n        }\n    }, [params]);\n\n    return (\n        <>\n            <h1>\n                {translate(\n                    \"pages.error.404\",\n                    undefined,\n                    \"Sorry, the page you visited does not exist.\",\n                )}\n            </h1>\n            {errorMessage && <p>{errorMessage}</p>}\n            <button onClick={() => push(\"/\")}>\n                {translate(\"pages.error.backHome\", undefined, \"Back Home\")}\n            </button>\n        </>\n    );\n};\n","import { useContext } from \"react\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext } from \"../../../interfaces\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\n/**\n * `usePermissions` calls the `getPermissions` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/usePermissions} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport const usePermissions = <TData = any>(\n    options?: UseQueryOptions<TData>,\n): UseQueryResult<TData, unknown> => {\n    const { getPermissions } = useContext<IAuthContext>(AuthContext);\n\n    const queryResponse = useQuery<TData>(\n        [\"usePermissions\"],\n        // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        getPermissions ?? (() => Promise.resolve(undefined)),\n        {\n            enabled: !!getPermissions,\n            ...options,\n        },\n    );\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nimport { useNavigation } from \"@hooks\";\nimport { IAuthContext } from \"../../interfaces\";\n\nexport const AuthContext = React.createContext<IAuthContext>({});\n\nexport const AuthContextProvider: React.FC<\n    IAuthContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, isProvided, ...authOperations }) => {\n    const { replace } = useNavigation();\n    const queryClient = useQueryClient();\n\n    const invalidateAuthStore = () => {\n        queryClient.invalidateQueries([\"useAuthenticated\"]);\n        queryClient.invalidateQueries([\"getUserIdentity\"]);\n        queryClient.invalidateQueries([\"usePermissions\"]);\n    };\n\n    const loginFunc = async (params: any) => {\n        try {\n            const result = await authOperations.login?.(params);\n\n            invalidateAuthStore();\n            return Promise.resolve(result);\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const registerFunc = async (params: any) => {\n        try {\n            const result = await authOperations.register?.(params);\n\n            invalidateAuthStore();\n            return Promise.resolve(result);\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const logoutFunc = async (params: any) => {\n        try {\n            const redirectPath = await authOperations.logout?.(params);\n\n            invalidateAuthStore();\n\n            return Promise.resolve(redirectPath);\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const checkAuthFunc = async (params: any) => {\n        try {\n            await authOperations.checkAuth?.(params);\n            return Promise.resolve();\n        } catch (error) {\n            if ((error as { redirectPath?: string })?.redirectPath) {\n                replace((error as { redirectPath: string }).redirectPath);\n            }\n\n            return Promise.reject(error);\n        }\n    };\n\n    return (\n        <AuthContext.Provider\n            value={{\n                ...authOperations,\n                login: loginFunc,\n                logout: logoutFunc,\n                checkAuth: checkAuthFunc,\n                register: registerFunc,\n                isProvided,\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};\n","import React from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext } from \"../../../interfaces\";\n\nexport type UseGetIdentityProps<TData> = {\n    queryOptions?: UseQueryOptions<TData>;\n};\n\n/**\n * `useGetIdentity` calls the `getUserIdentity` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useGetIdentity} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport const useGetIdentity = <TData = any>({\n    queryOptions,\n}: UseGetIdentityProps<TData> = {}): UseQueryResult<TData, unknown> => {\n    const { getUserIdentity } = React.useContext<IAuthContext>(AuthContext);\n\n    const queryResponse = useQuery<TData>(\n        [\"getUserIdentity\"],\n        // Enabled check for `getUserIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        getUserIdentity ?? (() => Promise.resolve({})),\n        {\n            enabled: !!getUserIdentity,\n            retry: false,\n            ...queryOptions,\n        },\n    );\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext, TLogoutData } from \"../../../interfaces\";\nimport { useNavigation, useNotification } from \"@hooks\";\n\ntype Variables = {\n    redirectPath?: string | false;\n};\n\n/**\n * `useLogout` calls the `logout` method from the {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useLogout} for more details.\n *\n */\nexport const useLogout = <TVariables = {}>(): UseMutationResult<\n    TLogoutData,\n    Error,\n    (TVariables & Variables) | void,\n    unknown\n> => {\n    const { push } = useNavigation();\n    const { logout: logoutFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n    const { open } = useNotification();\n\n    const queryResponse = useMutation<\n        TLogoutData,\n        Error,\n        (TVariables & Variables) | void,\n        unknown\n    >([\"useLogout\"], logoutFromContext, {\n        onSuccess: (data, variables) => {\n            const redirectPath = variables?.redirectPath ?? data;\n\n            if (redirectPath === false) {\n                return;\n            }\n\n            if (redirectPath) {\n                push(redirectPath);\n                return;\n            }\n\n            push(\"/login\");\n        },\n        onError: (error: Error) => {\n            open?.({\n                key: \"useLogout-error\",\n                type: \"error\",\n                message: error?.name || \"Logout Error\",\n                description:\n                    error?.message || \"Something went wrong during logout\",\n            });\n        },\n    });\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport { useNavigation, useRouterContext, useNotification } from \"@hooks\";\nimport { AuthContext } from \"@contexts/auth\";\n\nimport { IAuthContext, TLoginData } from \"../../../interfaces\";\n\n/**\n * `useLogin` calls `login` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useLogin} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport const useLogin = <TVariables = {}>(): UseMutationResult<\n    TLoginData,\n    Error,\n    TVariables,\n    unknown\n> => {\n    const { replace } = useNavigation();\n    const { login: loginFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n\n    const { useLocation } = useRouterContext();\n    const { search } = useLocation();\n    const { close, open } = useNotification();\n\n    const { to } = qs.parse(search, {\n        ignoreQueryPrefix: true,\n    });\n\n    const queryResponse = useMutation<TLoginData, Error, TVariables, unknown>(\n        [\"useLogin\"],\n        loginFromContext,\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (to) {\n                    return replace(to as string);\n                }\n\n                if (redirectPathFromAuth !== false) {\n                    if (typeof redirectPathFromAuth === \"string\") {\n                        replace(redirectPathFromAuth);\n                    } else {\n                        replace(\"/\");\n                    }\n                }\n                close?.(\"login-error\");\n            },\n            onError: (error: any) => {\n                open?.({\n                    message: error?.name || \"Login Error\",\n                    description: error?.message || \"Invalid credentials\",\n                    key: \"login-error\",\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { useNavigation, useNotification } from \"@hooks\";\n\nimport { IAuthContext, TRegisterData } from \"../../../interfaces\";\n\n/**\n * `useRegister` calls `register` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useRegister} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport const useRegister = <TVariables = {}>(): UseMutationResult<\n    TRegisterData,\n    Error,\n    TVariables,\n    unknown\n> => {\n    const { replace } = useNavigation();\n    const { register: registerFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n\n    const { close, open } = useNotification();\n\n    const queryResponse = useMutation<\n        TRegisterData,\n        Error,\n        TVariables,\n        unknown\n    >([\"useRegister\"], registerFromContext, {\n        onSuccess: (redirectPathFromAuth) => {\n            if (redirectPathFromAuth !== false) {\n                if (redirectPathFromAuth) {\n                    replace(redirectPathFromAuth);\n                } else {\n                    replace(\"/\");\n                }\n            }\n            close?.(\"register-error\");\n        },\n        onError: (error: any) => {\n            open?.({\n                message: error?.name || \"Register Error\",\n                description: error?.message || \"Error while registering\",\n                key: \"register-error\",\n                type: \"error\",\n            });\n        },\n    });\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { useNavigation, useNotification } from \"@hooks\";\n\nimport { IAuthContext, TForgotPasswordData } from \"../../../interfaces\";\n\n/**\n * `useForgotPassword` calls `forgotPassword` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useForgotPassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport const useForgotPassword = <TVariables = {}>(): UseMutationResult<\n    TForgotPasswordData,\n    Error,\n    TVariables,\n    unknown\n> => {\n    const { replace } = useNavigation();\n    const { forgotPassword: forgotPasswordFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n\n    const { close, open } = useNotification();\n\n    const queryResponse = useMutation<\n        TForgotPasswordData,\n        Error,\n        TVariables,\n        unknown\n    >([\"useForgotPassword\"], forgotPasswordFromContext, {\n        onSuccess: (redirectPathFromAuth) => {\n            if (redirectPathFromAuth !== false) {\n                if (redirectPathFromAuth) {\n                    replace(redirectPathFromAuth);\n                }\n            }\n            close?.(\"forgot-password-error\");\n        },\n        onError: (error: any) => {\n            open?.({\n                message: error?.name || \"Forgot Password Error\",\n                description: error?.message || \"Error while resetting password\",\n                key: \"forgot-password-error\",\n                type: \"error\",\n            });\n        },\n    });\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { useNavigation, useNotification, useRouterContext } from \"@hooks\";\nimport {\n    IAuthContext,\n    TUpdatePasswordData,\n    UpdatePasswordFormTypes,\n} from \"../../../interfaces\";\n\n/**\n * `useUpdatePassword` calls `updatePassword` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useUpdatePassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport const useUpdatePassword = <\n    TVariables extends UpdatePasswordFormTypes = {},\n>(): UseMutationResult<TUpdatePasswordData, Error, TVariables, unknown> => {\n    const { replace } = useNavigation();\n    const { updatePassword: updatePasswordFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n\n    const { close, open } = useNotification();\n    const { useLocation } = useRouterContext();\n\n    const { search } = useLocation();\n\n    const queryStrings = qs.parse(search, {\n        ignoreQueryPrefix: true,\n    });\n\n    const queryResponse = useMutation<\n        TUpdatePasswordData,\n        Error,\n        TVariables,\n        unknown\n    >(\n        [\"useUpdatePassword\"],\n        async (variables) => {\n            return updatePasswordFromContext?.({\n                ...queryStrings,\n                ...variables,\n            });\n        },\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        replace(redirectPathFromAuth);\n                    }\n                }\n                close?.(\"update-password-error\");\n            },\n            onError: (error: any) => {\n                open?.({\n                    message: error?.name || \"Update Password Error\",\n                    description:\n                        error?.message || \"Error while updating password\",\n                    key: \"update-password-error\",\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import { useContext } from \"react\";\nimport { useQuery, UseQueryResult } from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext } from \"../../../interfaces\";\n\n/**\n *  `useAuthenticated` calls the `checkAuth` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useAuthenticated} for more details.\n *\n */\nexport const useAuthenticated = (\n    params?: any,\n): UseQueryResult<any, unknown> => {\n    const { checkAuth } = useContext<IAuthContext>(AuthContext);\n\n    const queryResponse = useQuery(\n        [\"useAuthenticated\", params],\n        async () => (await checkAuth?.(params)) ?? {},\n        {\n            retry: false,\n        },\n    );\n\n    return queryResponse;\n};\n","import React from \"react\";\nimport { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext } from \"../../../interfaces\";\nimport { useLogout } from \"@hooks\";\n\n/**\n * `useCheckError` calls the `checkError` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useCheckError} for more details.\n *\n */\nexport const useCheckError = (): UseMutationResult<\n    void,\n    string | undefined,\n    any,\n    unknown\n> => {\n    const { checkError: checkErrorFromContext } =\n        React.useContext<IAuthContext>(AuthContext);\n\n    const { mutate: logout } = useLogout();\n\n    const queryResponse = useMutation(\n        [\"useCheckError\"],\n        checkErrorFromContext,\n        {\n            onError: (redirectPath?: string) => {\n                logout({ redirectPath });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import { useContext } from \"react\";\nimport { AuthContext } from \"@contexts/auth\";\nimport { IAuthContext } from \"../../interfaces\";\n\n/**\n * A hook that the UI uses\n * @internal\n */\nexport const useIsExistAuthentication = (): boolean => {\n    const { isProvided } = useContext<IAuthContext>(AuthContext);\n\n    return isProvided || false;\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport {\n    GetListResponse,\n    CrudFilters,\n    Pagination,\n    BaseRecord,\n    HttpError,\n    CrudSorting,\n    MetaDataQuery,\n    SuccessErrorNotification,\n    LiveModeProps,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useCheckError,\n    useHandleNotification,\n    useResourceSubscription,\n    useTranslate,\n    useDataProvider,\n} from \"@hooks\";\nimport { queryKeys, pickDataProvider } from \"@definitions/helpers\";\n\nexport interface UseListConfig {\n    pagination?: Pagination;\n    hasPagination?: boolean;\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n}\n\nexport type UseListProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Configuration for pagination, sorting and filtering\n     * @type [`UseListConfig`](/docs/api-reference/core/hooks/data/useList/#config-parameters)\n     */\n    config?: UseListConfig;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options,\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useList` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useList} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useList = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    config,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseListProps<TData, TError>): QueryObserverResult<\n    GetListResponse<TData>,\n    TError\n> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const queryKey = queryKeys(\n        resource,\n        pickDataProvider(resource, dataProviderName, resources),\n        metaData,\n    );\n    const { getList } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n\n    const translate = useTranslate();\n    const { mutate: checkError } = useCheckError();\n    const handleNotification = useHandleNotification();\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        params: {\n            metaData,\n            pagination: config?.pagination,\n            hasPagination: config?.hasPagination,\n            sort: config?.sort,\n            filters: config?.filters,\n            subscriptionType: \"useList\",\n            ...liveParams,\n        },\n        channel: `resources/${resource}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetListResponse<TData>, TError>(\n        queryKey.list(config),\n        ({ queryKey, pageParam, signal }) => {\n            const { hasPagination, ...restConfig } = config || {};\n            return getList<TData>({\n                resource,\n                ...restConfig,\n                hasPagination,\n                metaData: {\n                    ...metaData,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            });\n        },\n        {\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              { metaData, config },\n                              resource,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, { metaData, config }, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${resource}-useList-notification`,\n                    message: translate(\n                        \"common:notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","export const userFriendlySecond = (miliseconds: number): number => {\n    return miliseconds / 1000; //convert to seconds\n};\n","import zip from \"lodash/zip\";\nimport fromPairs from \"lodash/fromPairs\";\nimport { MapDataFn } from \"../../../interfaces\";\n\nexport const importCSVMapper = <TItem = any, TVariables = any>(\n    data: any[][],\n    mapData: MapDataFn<TItem, TVariables> = (item) => item as any,\n): TVariables[] => {\n    const [headers, ...body] = data;\n    return body\n        .map((entry) => fromPairs(zip(headers, entry)))\n        .map((item: any, index, array: any) =>\n            mapData.call(undefined, item, index, array),\n        );\n};\n","import pluralize from \"pluralize\";\nimport { humanizeString } from \"@definitions\";\n\n/**\n * A method that the internal uses\n * @internal\n */\nexport const userFriendlyResourceName = (\n    resource = \"\",\n    type: \"singular\" | \"plural\",\n): string => {\n    const humanizeResource = humanizeString(resource);\n    if (type === \"singular\") {\n        return pluralize.singular(humanizeResource);\n    }\n    return pluralize.plural(humanizeResource);\n};\n","import qs, { IStringifyOptions } from \"qs\";\nimport unionWith from \"lodash/unionWith\";\nimport differenceWith from \"lodash/differenceWith\";\nimport warnOnce from \"warn-once\";\n\nimport {\n    CrudFilters,\n    CrudSorting,\n    CrudFilter,\n    CrudSort,\n    CrudOperators,\n    SortOrder,\n} from \"../../interfaces\";\n\nexport const parseTableParams = (url: string) => {\n    const { current, pageSize, sorter, filters } = qs.parse(\n        url.substring(1), // remove first ? character\n    );\n\n    return {\n        parsedCurrent: current && Number(current),\n        parsedPageSize: pageSize && Number(pageSize),\n        parsedSorter: (sorter as CrudSorting) ?? [],\n        parsedFilters: (filters as CrudFilters) ?? [],\n    };\n};\n\nexport const parseTableParamsFromQuery = (params: any) => {\n    const url = qs.stringify(params);\n    return parseTableParams(`/${url}`);\n};\n\nexport const stringifyTableParams = (params: {\n    pagination?: { current?: number; pageSize?: number };\n    sorter: CrudSorting;\n    filters: CrudFilters;\n    [key: string]: any;\n}): string => {\n    const options: IStringifyOptions = {\n        skipNulls: true,\n        arrayFormat: \"indices\",\n        encode: false,\n    };\n    const { pagination, sorter, filters, ...rest } = params;\n\n    const queryString = qs.stringify(\n        { ...rest, ...(pagination ? pagination : {}), sorter, filters },\n        options,\n    );\n\n    return queryString;\n};\n\nexport const compareFilters = (\n    left: CrudFilter,\n    right: CrudFilter,\n): boolean => {\n    if (\n        left.operator !== \"and\" &&\n        left.operator !== \"or\" &&\n        right.operator !== \"and\" &&\n        right.operator !== \"or\"\n    ) {\n        return (\n            (\"field\" in left ? left.field : undefined) ==\n                (\"field\" in right ? right.field : undefined) &&\n            left.operator == right.operator\n        );\n    }\n\n    return (\n        (\"key\" in left ? left.key : undefined) ==\n            (\"key\" in right ? right.key : undefined) &&\n        left.operator == right.operator\n    );\n};\n\nexport const compareSorters = (left: CrudSort, right: CrudSort): boolean =>\n    left.field == right.field;\n// Keep only one CrudFilter per type according to compareFilters\n// Items in the array that is passed first to unionWith have higher priority\n// CrudFilter items with undefined values are necessary to signify no filter\n// After union, don't keep CrudFilter items with undefined value in the result\n// Items in the arrays with higher priority are put at the end.\nexport const unionFilters = (\n    permanentFilter: CrudFilters,\n    newFilters: CrudFilters,\n    prevFilters: CrudFilters = [],\n): CrudFilters => {\n    const isKeyRequired = newFilters.filter(\n        (f) => (f.operator === \"or\" || f.operator === \"and\") && !f.key,\n    );\n\n    if (isKeyRequired.length > 1) {\n        warnOnce(\n            true,\n            `[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. \\nFor more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`,\n        );\n    }\n\n    return unionWith(\n        permanentFilter,\n        newFilters,\n        prevFilters,\n        compareFilters,\n    ).filter(\n        (crudFilter) =>\n            crudFilter.value !== undefined &&\n            crudFilter.value !== null &&\n            (crudFilter.operator !== \"or\" ||\n                (crudFilter.operator === \"or\" &&\n                    crudFilter.value.length !== 0)) &&\n            (crudFilter.operator !== \"and\" ||\n                (crudFilter.operator === \"and\" &&\n                    crudFilter.value.length !== 0)),\n    );\n};\n\nexport const unionSorters = (\n    permanentSorter: CrudSorting,\n    newSorters: CrudSorting,\n): CrudSorting =>\n    unionWith(permanentSorter, newSorters, compareSorters).filter(\n        (crudSorter) =>\n            crudSorter.order !== undefined && crudSorter.order !== null,\n    );\n// Prioritize filters in the permanentFilter and put it at the end of result array\nexport const setInitialFilters = (\n    permanentFilter: CrudFilters,\n    defaultFilter: CrudFilters,\n): CrudFilters => [\n    ...differenceWith(defaultFilter, permanentFilter, compareFilters),\n    ...permanentFilter,\n];\n\nexport const setInitialSorters = (\n    permanentSorter: CrudSorting,\n    defaultSorter: CrudSorting,\n): CrudSorting => [\n    ...differenceWith(defaultSorter, permanentSorter, compareSorters),\n    ...permanentSorter,\n];\n\nexport const getDefaultSortOrder = (\n    columnName: string,\n    sorter?: CrudSorting,\n): SortOrder | undefined => {\n    if (!sorter) {\n        return undefined;\n    }\n\n    const sortItem = sorter.find((item) => item.field === columnName);\n\n    if (sortItem) {\n        return sortItem.order as SortOrder;\n    }\n\n    return undefined;\n};\n\nexport const getDefaultFilter = (\n    columnName: string,\n    filters?: CrudFilters,\n    operatorType: CrudOperators = \"eq\",\n): CrudFilter[\"value\"] | undefined => {\n    const filter = filters?.find((filter) => {\n        if (\n            filter.operator !== \"or\" &&\n            filter.operator !== \"and\" &&\n            \"field\" in filter\n        ) {\n            const { operator, field } = filter;\n            return field === columnName && operator === operatorType;\n        }\n        return undefined;\n    });\n\n    if (filter) {\n        return filter.value || [];\n    }\n\n    return undefined;\n};\n","export const file2Base64 = (file: any): Promise<string> => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        const resultHandler = () => {\n            if (reader.result) {\n                reader.removeEventListener(\"load\", resultHandler, false);\n\n                resolve(reader.result as string);\n            }\n        };\n\n        reader.addEventListener(\"load\", resultHandler, false);\n\n        reader.readAsDataURL(file.originFileObj as Blob);\n        reader.onerror = (error) => {\n            reader.removeEventListener(\"load\", resultHandler, false);\n            return reject(error);\n        };\n    });\n};\n","export const handleUseParams = (params: any = {}): any => {\n    if (params?.id) {\n        return {\n            ...params,\n            id: decodeURIComponent(params.id),\n        };\n    }\n    return params;\n};\n","import { IQueryKeys } from \"src/interfaces\";\nimport { QueryKey } from \"@tanstack/react-query\";\n\nimport { MetaDataQuery } from \"src/interfaces\";\n\nexport const queryKeys = (\n    resource?: string,\n    dataProviderName?: string,\n    metaData?: MetaDataQuery | undefined,\n): IQueryKeys => {\n    const providerName = dataProviderName || \"default\";\n    const keys: IQueryKeys = {\n        all: [providerName],\n        resourceAll: [providerName, resource || \"\"],\n        list: (config) => [\n            ...keys.resourceAll,\n            \"list\",\n            { ...config, ...metaData } as QueryKey,\n        ],\n        many: (ids) =>\n            [\n                ...keys.resourceAll,\n                \"getMany\",\n                (ids && ids.map(String)) as QueryKey,\n                { ...metaData } as QueryKey,\n            ].filter((item) => item !== undefined),\n        detail: (id) => [\n            ...keys.resourceAll,\n            \"detail\",\n            id?.toString(),\n            { ...metaData } as QueryKey,\n        ],\n        logList: (meta) =>\n            [\"logList\", resource, meta as any, metaData as QueryKey].filter(\n                (item) => item !== undefined,\n            ),\n    };\n    return keys;\n};\n","export const hasPermission = (\n    permissions: string[] | undefined,\n    action: string | undefined,\n): boolean => {\n    if (!permissions || !action) {\n        return false;\n    }\n    return !!permissions.find((i) => i === action);\n};\n","import { ResourceProps } from \"src/interfaces\";\n\nconst getParentOf = (item: ResourceProps) => {\n    return (resourceItem: ResourceProps) =>\n        item.parentName ? resourceItem.name === item.parentName : false;\n};\n\nexport const routeGenerator = (\n    item: ResourceProps,\n    resourcesFromProps: ResourceProps[],\n): string | undefined => {\n    let route;\n\n    const resourceRoute = item.options?.route ?? item.name;\n\n    if (item.parentName) {\n        const parent = resourcesFromProps.find(getParentOf(item));\n\n        if (parent?.parentName) {\n            const routePrefix = routeGenerator(parent, resourcesFromProps);\n\n            route = `${routePrefix}/${resourceRoute}`;\n        } else if (item.parentName) {\n            const parentPrefix =\n                parent?.options?.route ?? parent?.name ?? item.parentName;\n            route = `${parentPrefix}/${resourceRoute}`;\n        }\n    } else {\n        route = resourceRoute;\n    }\n    return route;\n};\n","import { IResourceItem, ITreeMenu, IMenuItem } from \"src/interfaces\";\n\nexport const createTreeView = (\n    resources: IResourceItem[] | IMenuItem[],\n): ITreeMenu[] | ITreeMenu[] => {\n    const tree = [];\n    const resourcesRouteObject: { [key: string]: any } = {};\n    const resourcesNameObject: { [key: string]: any } = {};\n    let parent: IResourceItem | IMenuItem;\n    let child: ITreeMenu;\n\n    for (let i = 0; i < resources.length; i++) {\n        parent = resources[i];\n\n        const route = parent.route ?? parent.options?.route ?? \"\";\n\n        resourcesRouteObject[route] = parent;\n        resourcesRouteObject[route][\"children\"] = [];\n\n        resourcesNameObject[parent.name] = parent;\n        resourcesNameObject[parent.name][\"children\"] = [];\n    }\n\n    for (const name in resourcesRouteObject) {\n        if (resourcesRouteObject.hasOwnProperty(name)) {\n            child = resourcesRouteObject[name];\n\n            if (child.parentName && resourcesNameObject[child.parentName]) {\n                resourcesNameObject[child.parentName][\"children\"].push(child);\n            } else {\n                tree.push(child);\n            }\n        }\n    }\n\n    return tree;\n};\n","export const humanizeString = (text: string): string => {\n    text = text.replace(/([a-z]{1})([A-Z]{1})/g, \"$1-$2\");\n    text = text.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g, \"$1-$2$3\");\n\n    text = text\n        .toLowerCase()\n        .replace(/[_-]+/g, \" \")\n        .replace(/\\s{2,}/g, \" \")\n        .trim();\n    text = text.charAt(0).toUpperCase() + text.slice(1);\n\n    return text;\n};\n// https://www.npmjs.com/package/humanize-string\n","import React from \"react\";\n\nimport {\n    IRefineContextOptions,\n    IRefineContext,\n    IRefineContextProvider,\n} from \"./IRefineContext\";\nimport { DefaultLayout } from \"@components/layoutWrapper/defaultLayout\";\n\nimport { LoginPage as DefaultLoginPage } from \"@components/pages\";\n\nexport const defaultRefineOptions: IRefineContextOptions = {\n    mutationMode: \"pessimistic\",\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    warnWhenUnsavedChanges: false,\n    liveMode: \"off\",\n    redirect: {\n        afterCreate: \"list\",\n        afterClone: \"list\",\n        afterEdit: \"list\",\n    },\n};\n\nexport const RefineContext = React.createContext<IRefineContext>({\n    hasDashboard: false,\n    mutationMode: \"pessimistic\",\n    warnWhenUnsavedChanges: false,\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    Title: undefined,\n    Sider: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Layout: DefaultLayout,\n    OffLayoutArea: undefined,\n    liveMode: \"off\",\n    onLiveEvent: undefined,\n    options: defaultRefineOptions,\n});\n\nexport const RefineContextProvider: React.FC<IRefineContextProvider> = ({\n    hasDashboard,\n    mutationMode,\n    warnWhenUnsavedChanges,\n    syncWithLocation,\n    undoableTimeout,\n    children,\n    DashboardPage,\n    Title,\n    Layout = DefaultLayout,\n    Header,\n    Sider,\n    Footer,\n    OffLayoutArea,\n    LoginPage = DefaultLoginPage,\n    catchAll,\n    liveMode = \"off\",\n    onLiveEvent,\n    options,\n}) => {\n    return (\n        <RefineContext.Provider\n            value={{\n                hasDashboard,\n                mutationMode,\n                warnWhenUnsavedChanges,\n                syncWithLocation,\n                Title,\n                undoableTimeout,\n                Layout,\n                Header,\n                Sider,\n                Footer,\n                OffLayoutArea,\n                DashboardPage,\n                LoginPage,\n                catchAll,\n                liveMode,\n                onLiveEvent,\n                options,\n            }}\n        >\n            {children}\n        </RefineContext.Provider>\n    );\n};\n","import React from \"react\";\n\nimport { LayoutProps } from \"../../../interfaces\";\n\nexport const DefaultLayout: React.FC<LayoutProps> = ({ children }) => {\n    return <div>{children}</div>;\n};\n","import { QueryClient, QueryClientConfig } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\n\nimport { defaultRefineOptions } from \"@contexts/refine\";\nimport {\n    IRefineContextOptions,\n    IRefineOptions,\n    LiveModeProps,\n    MutationMode,\n} from \"src/interfaces\";\n\ntype HandleRefineOptionsProps = {\n    options?: IRefineOptions;\n    mutationMode?: MutationMode;\n    syncWithLocation?: boolean;\n    warnWhenUnsavedChanges?: boolean;\n    undoableTimeout?: number;\n    liveMode?: LiveModeProps[\"liveMode\"];\n    disableTelemetry?: boolean;\n    reactQueryClientConfig?: QueryClientConfig;\n    reactQueryDevtoolConfig?:\n        | React.ComponentProps<typeof ReactQueryDevtools>\n        | false;\n};\n\ntype HandleRefineOptionsReturnValues = {\n    optionsWithDefaults: IRefineContextOptions;\n    disableTelemetryWithDefault: boolean;\n    reactQueryWithDefaults: {\n        clientConfig: QueryClientConfig | InstanceType<typeof QueryClient>;\n        devtoolConfig: false | React.ComponentProps<typeof ReactQueryDevtools>;\n    };\n};\n\nexport const handleRefineOptions = ({\n    options,\n    disableTelemetry,\n    liveMode,\n    mutationMode,\n    reactQueryClientConfig,\n    reactQueryDevtoolConfig,\n    syncWithLocation,\n    undoableTimeout,\n    warnWhenUnsavedChanges,\n}: HandleRefineOptionsProps = {}): HandleRefineOptionsReturnValues => {\n    const optionsWithDefaults: IRefineContextOptions = {\n        breadcrumb: options?.breadcrumb,\n        mutationMode:\n            options?.mutationMode ??\n            mutationMode ??\n            defaultRefineOptions.mutationMode,\n        undoableTimeout:\n            options?.undoableTimeout ??\n            undoableTimeout ??\n            defaultRefineOptions.undoableTimeout,\n        syncWithLocation:\n            options?.syncWithLocation ??\n            syncWithLocation ??\n            defaultRefineOptions.syncWithLocation,\n        warnWhenUnsavedChanges:\n            options?.warnWhenUnsavedChanges ??\n            warnWhenUnsavedChanges ??\n            defaultRefineOptions.warnWhenUnsavedChanges,\n        liveMode:\n            options?.liveMode ?? liveMode ?? defaultRefineOptions.liveMode,\n        redirect: {\n            afterCreate:\n                options?.redirect?.afterCreate ??\n                defaultRefineOptions.redirect.afterCreate,\n            afterClone:\n                options?.redirect?.afterClone ??\n                defaultRefineOptions.redirect.afterClone,\n            afterEdit:\n                options?.redirect?.afterEdit ??\n                defaultRefineOptions.redirect.afterEdit,\n        },\n    };\n\n    const disableTelemetryWithDefault =\n        options?.disableTelemetry ?? disableTelemetry ?? false;\n\n    const reactQueryWithDefaults = {\n        clientConfig:\n            options?.reactQuery?.clientConfig ?? reactQueryClientConfig ?? {},\n        devtoolConfig:\n            options?.reactQuery?.devtoolConfig ?? reactQueryDevtoolConfig ?? {},\n    };\n\n    return {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    };\n};\n","import {\n    FormAction,\n    IRefineContextOptions,\n    RedirectAction,\n} from \"src/interfaces\";\n\ntype RedirectPageProps = {\n    redirectFromProps?: RedirectAction;\n    action: FormAction;\n    redirectOptions: IRefineContextOptions[\"redirect\"];\n};\n\nexport const redirectPage = ({\n    redirectFromProps,\n    action,\n    redirectOptions,\n}: RedirectPageProps): RedirectAction => {\n    if (redirectFromProps || redirectFromProps === false) {\n        return redirectFromProps;\n    }\n\n    switch (action) {\n        case \"clone\":\n            return redirectOptions.afterClone;\n        case \"create\":\n            return redirectOptions.afterCreate;\n        case \"edit\":\n            return redirectOptions.afterEdit;\n    }\n};\n","type EachResolve<TResolve, Response> = (\n    result: TResolve,\n    index: number,\n) => Response;\ntype EachReject<TReject, Response> = (\n    error: TReject,\n    index: number,\n) => Response;\n\nexport const sequentialPromises = async <\n    TResolve = unknown,\n    TReject = unknown,\n    TResolveResponse = unknown,\n    TRejectResponse = unknown,\n>(\n    promises: (() => Promise<TResolve>)[],\n    onEachResolve: EachResolve<TResolve, TResolveResponse>,\n    onEachReject: EachReject<TReject, TRejectResponse>,\n): Promise<(TResolveResponse | TRejectResponse)[]> => {\n    const results = [];\n    // @ts-expect-error Remove this when we enable `downLevelIterations`\n    for (const [index, promise] of promises.entries()) {\n        try {\n            const result = await promise();\n\n            results.push(onEachResolve(result, index));\n        } catch (error) {\n            results.push(onEachReject(error as TReject, index));\n        }\n    }\n    return results;\n};\n","import { IResourceItem } from \"@contexts/resource\";\n\nexport const pickDataProvider = (\n    resourceName?: string,\n    dataProviderName?: string,\n    resources?: IResourceItem[],\n) => {\n    if (dataProviderName) {\n        return dataProviderName;\n    }\n\n    const resource = resources?.find((item) => item.name === resourceName);\n\n    if (resource?.options?.dataProviderName) {\n        return resource.options.dataProviderName;\n    }\n\n    return \"default\";\n};\n","export const handleMultiple = async <TData = unknown>(\n    promises: Promise<{ data: TData }>[],\n): Promise<{ data: TData[] }> => {\n    return {\n        data: (await Promise.all(promises)).map((res) => res.data),\n    };\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    GetOneResponse,\n    HttpError,\n    BaseRecord,\n    BaseKey,\n    MetaDataQuery,\n    LiveModeProps,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useCheckError,\n    useTranslate,\n    useResourceSubscription,\n    useHandleNotification,\n    useDataProvider,\n} from \"@hooks\";\nimport { queryKeys, pickDataProvider } from \"@definitions\";\n\nexport type UseOneProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * id of the item in the resource\n     * @type [`BaseKey`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    id: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, TError>;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `\"default\"``\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useOne` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving single items from a `resource`.\n *\n * It uses `getOne` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useOne} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useOne = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    id,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseOneProps<TData, TError>): QueryObserverResult<GetOneResponse<TData>> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const queryKey = queryKeys(\n        resource,\n        pickDataProvider(resource, dataProviderName, resources),\n        metaData,\n    );\n\n    const { getOne } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n    const translate = useTranslate();\n    const { mutate: checkError } = useCheckError();\n    const handleNotification = useHandleNotification();\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        channel: `resources/${resource}`,\n        params: {\n            ids: id ? [id] : [],\n            id: id,\n            metaData,\n            subscriptionType: \"useOne\",\n            ...liveParams,\n        },\n        enabled: queryOptions?.enabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetOneResponse<TData>, TError>(\n        queryKey.detail(id),\n        ({ queryKey, pageParam, signal }) =>\n            getOne<TData>({\n                resource,\n                id,\n                metaData: {\n                    ...metaData,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            }),\n        {\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { id, metaData }, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, { id, metaData }, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-getOne-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    BaseRecord,\n    BaseKey,\n    GetManyResponse,\n    HttpError,\n    MetaDataQuery,\n    LiveModeProps,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useCheckError,\n    useResourceSubscription,\n    useHandleNotification,\n    useDataProvider,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    handleMultiple,\n} from \"@definitions/helpers\";\n\nexport type UseManyProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * ids of the item in the resource\n     * @type [`BaseKey[]`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    ids: BaseKey[];\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetManyResponse<TData>, TError>;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving multiple items from a `resource`.\n *\n * It uses `getMany` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    ids,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseManyProps<TData, TError>): QueryObserverResult<\n    GetManyResponse<TData>\n> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const queryKey = queryKeys(\n        resource,\n        pickDataProvider(resource, dataProviderName, resources),\n        metaData,\n    );\n\n    const { getMany, getOne } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n\n    const translate = useTranslate();\n    const { mutate: checkError } = useCheckError();\n    const handleNotification = useHandleNotification();\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        params: {\n            ids: ids ?? [],\n            metaData,\n            subscriptionType: \"useMany\",\n            ...liveParams,\n        },\n        channel: `resources/${resource}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetManyResponse<TData>, TError>(\n        queryKey.many(ids),\n        ({ queryKey, pageParam, signal }) => {\n            if (getMany) {\n                return getMany({\n                    resource,\n                    ids,\n                    metaData: {\n                        ...metaData,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                });\n            } else {\n                return handleMultiple(\n                    ids.map((id) =>\n                        getOne<TData>({\n                            resource,\n                            id,\n                            metaData: {\n                                ...metaData,\n                                queryContext: {\n                                    queryKey,\n                                    pageParam,\n                                    signal,\n                                },\n                            },\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, ids, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, ids, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids[0]}-${resource}-getMany-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import {\n    useMutation,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    BaseRecord,\n    BaseKey,\n    UpdateResponse,\n    MutationMode,\n    PrevContext as UpdateContext,\n    HttpError,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    PreviousQuery,\n    GetListResponse,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport pluralize from \"pluralize\";\nimport {\n    useResource,\n    useMutationMode,\n    useCancelNotification,\n    useTranslate,\n    useCheckError,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n} from \"@hooks\";\nimport { queryKeys, pickDataProvider } from \"@definitions/helpers\";\n\nexport type UpdateParams<TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * id for mutation function\n     */\n    id: BaseKey;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Callback that runs when undo button is clicked on `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseUpdateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateResponse<TData>,\n    TError,\n    UpdateParams<TVariables>,\n    UpdateContext<TData>\n>;\n\n/**\n * `useUpdate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for update mutations.\n *\n * It uses `update` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useUpdate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseUpdateReturnType<TData, TError, TVariables> => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const translate = useTranslate();\n    const { mutate: checkError } = useCheckError();\n    const publish = usePublish();\n    const { log } = useLog();\n    const { notificationDispatch } = useCancelNotification();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        UpdateResponse<TData>,\n        TError,\n        UpdateParams<TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            id,\n            values,\n            resource,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            metaData,\n            dataProviderName,\n        }) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(resource, dataProviderName, resources),\n                ).update<TData, TVariables>({\n                    resource,\n                    id,\n                    variables: values,\n                    metaData,\n                });\n            }\n            const updatePromise = new Promise<UpdateResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                resource,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .update<TData, TVariables>({\n                                resource,\n                                id,\n                                variables: values,\n                                metaData,\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: id,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                resource,\n                id,\n                mutationMode,\n                values,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.map((record: TData) => {\n                                if (record.id?.toString() === id?.toString()) {\n                                    return {\n                                        id,\n                                        ...values,\n                                    } as unknown as TData;\n                                }\n                                return record;\n                            });\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (record.id?.toString() === id?.toString()) {\n                                    record = {\n                                        id,\n                                        ...values,\n                                    } as unknown as TData;\n                                }\n                                return record;\n                            });\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.detail(id),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            return {\n                                ...previous,\n                                data: {\n                                    ...previous.data,\n                                    ...values,\n                                },\n                            };\n                        },\n                    );\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\", \"detail\"],\n                },\n            ) => {\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                    id,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource },\n                });\n            },\n            onSuccess: (\n                data,\n                {\n                    id,\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    values,\n                    metaData,\n                },\n                context,\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { id, values }, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: data.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                });\n\n                let previousData: any;\n                if (context) {\n                    const queryData = queryClient.getQueryData<\n                        UpdateResponse<TData>\n                    >(context.queryKey.detail(id));\n\n                    previousData = Object.keys(values).reduce<any>(\n                        (acc, item) => {\n                            acc[item] = queryData?.data?.[item];\n                            return acc;\n                        },\n                        {},\n                    );\n                }\n\n                const { fields, operation, variables, ...rest } =\n                    metaData || {};\n\n                log?.mutate({\n                    action: \"update\",\n                    resource,\n                    data: values,\n                    previousData,\n                    meta: {\n                        id,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { id, resource, errorNotification, values },\n                context,\n            ) => {\n                // set back the queries to the context:\n\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { id, values }, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: translate(\n                                    `${resource}.${resource}`,\n                                    resourceSingular,\n                                ),\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n        },\n    );\n\n    return mutation;\n};\n","import React, { ReactNode, useReducer } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nimport { UndoableQueue } from \"@components\";\n\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../interfaces\";\nimport { ActionTypes } from \"./actionTypes\";\n\nexport const UndoableQueueContext = React.createContext<IUndoableQueueContext>({\n    notifications: [],\n    notificationDispatch: () => false,\n});\n\nconst initialState: IUndoableQueue[] = [];\n\nexport const undoableQueueReducer = (state: IUndoableQueue[], action: any) => {\n    switch (action.type) {\n        case ActionTypes.ADD:\n            const newState = state.filter(\n                (notificationItem: IUndoableQueue) => {\n                    return !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    );\n                },\n            );\n\n            return [\n                ...newState,\n                {\n                    ...action.payload,\n                    isRunning: true,\n                },\n            ];\n        case ActionTypes.REMOVE:\n            return state.filter(\n                (notificationItem: IUndoableQueue) =>\n                    !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    ),\n            );\n        case ActionTypes.DECREASE_NOTIFICATION_SECOND:\n            return state.map((notificationItem: IUndoableQueue) => {\n                if (\n                    isEqual(notificationItem.id, action.payload.id) &&\n                    notificationItem.resource == action.payload.resource\n                ) {\n                    return {\n                        ...notificationItem,\n                        seconds: action.payload.seconds - 1000,\n                    };\n                }\n                return notificationItem;\n            });\n        default:\n            return state;\n    }\n};\n\nexport const UndoableQueueContextProvider: React.FC<{\n    children: ReactNode;\n}> = ({ children }) => {\n    const [notifications, notificationDispatch] = useReducer(\n        undoableQueueReducer,\n        initialState,\n    );\n\n    const notificationData = { notifications, notificationDispatch };\n\n    return (\n        <UndoableQueueContext.Provider value={notificationData}>\n            {children}\n            {typeof window !== \"undefined\" &&\n                notifications.map((notification) => (\n                    <UndoableQueue\n                        key={`${notification.id}-${notification.resource}-queue`}\n                        notification={notification}\n                    />\n                ))}\n        </UndoableQueueContext.Provider>\n    );\n};\n","import { useMutation, UseMutationResult } from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\nimport { pickDataProvider } from \"@definitions/helpers\";\n\nimport {\n    CreateResponse,\n    BaseRecord,\n    HttpError,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useCheckError,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n} from \"@hooks\";\n\ntype useCreateParams<TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseCreateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCreateParams<TVariables>,\n    unknown\n>;\n\n/**\n * `useCreate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses `create` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useCreate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCreate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseCreateReturnType<TData, TError, TVariables> => {\n    const { mutate: checkError } = useCheckError();\n    const dataProvider = useDataProvider();\n    const invalidateStore = useInvalidate();\n\n    const { resources } = useResource();\n\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCreateParams<TVariables>,\n        unknown\n    >(\n        ({\n            resource,\n            values,\n            metaData,\n            dataProviderName,\n        }: useCreateParams<TVariables>) => {\n            return dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            ).create<TData, TVariables>({\n                resource,\n                variables: values,\n                metaData,\n            });\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    resource,\n                    successNotification: successNotificationFromProp,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                    metaData,\n                },\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, values, resource)\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${resource}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully created ${resourceSingular}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"created\",\n                    payload: {\n                        ids: data?.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    metaData || {};\n\n                log?.mutate({\n                    action: \"create\",\n                    resource,\n                    data: values,\n                    meta: {\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        id: data?.data?.id ?? undefined,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                {\n                    resource,\n                    errorNotification: errorNotificationFromProp,\n                    values,\n                },\n            ) => {\n                checkError(err);\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, values, resource)\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${resource}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${resourceSingular} (status code: ${err.statusCode})`,\n                    ),\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useQueryClient,\n    useMutation,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    useResource,\n    useMutationMode,\n    useCancelNotification,\n    useTranslate,\n    useCheckError,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    DeleteOneResponse,\n    MutationMode,\n    PrevContext as DeleteContext,\n    BaseRecord,\n    BaseKey,\n    HttpError,\n    GetListResponse,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    PreviousQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport { queryKeys, pickDataProvider } from \"@definitions/helpers\";\n\nexport type DeleteParams<TVariables> = {\n    id: BaseKey;\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    metaData?: MetaDataQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n    values?: TVariables;\n} & SuccessErrorNotification;\n\nexport type UseDeleteReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteOneResponse<TData>,\n    TError,\n    DeleteParams<TVariables>,\n    DeleteContext<TData>\n>;\n\n/**\n * `useDelete` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for delete mutations.\n *\n * It uses `deleteOne` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useDelete} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDelete = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseDeleteReturnType<TData, TError, TVariables> => {\n    const { mutate: checkError } = useCheckError();\n    const dataProvider = useDataProvider();\n\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        DeleteOneResponse<TData>,\n        TError,\n        DeleteParams<TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            id,\n            mutationMode,\n            undoableTimeout,\n            resource,\n            onCancel,\n            metaData,\n            dataProviderName,\n            values,\n        }) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(resource, dataProviderName, resources),\n                ).deleteOne<TData, TVariables>({\n                    resource,\n                    id,\n                    metaData,\n                    variables: values,\n                });\n            }\n\n            const deletePromise = new Promise<DeleteOneResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                resource,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .deleteOne<TData, TVariables>({\n                                resource,\n                                id,\n                                metaData,\n                                variables: values,\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return deletePromise;\n        },\n        {\n            onMutate: async ({\n                id,\n                resource,\n                mutationMode,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) =>\n                                    record.id?.toString() !== id.toString(),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    return (\n                                        record.id?.toString() !== id?.toString()\n                                    );\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource },\n                });\n            },\n            onSuccess: (\n                _data,\n                {\n                    id,\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    metaData,\n                },\n                context,\n            ) => {\n                const resourceSingular = pluralize.singular(resource ?? \"\");\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, id, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully deleted a ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"deleted\",\n                    payload: {\n                        ids: id ? [id] : [],\n                    },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    metaData || {};\n\n                log?.mutate({\n                    action: \"delete\",\n                    resource,\n                    meta: {\n                        id,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n            },\n            onError: (\n                err: TError,\n                { id, resource, errorNotification },\n                context,\n            ) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n\n                    const resourceSingular = pluralize.singular(resource ?? \"\");\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, id, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n        },\n    );\n\n    return mutation;\n};\n","import { useMutation, UseMutationResult } from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    BaseRecord,\n    CreateManyResponse,\n    HttpError,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n} from \"@hooks\";\nimport { handleMultiple, pickDataProvider } from \"@definitions\";\n\ntype useCreateManyParams<TVariables> = {\n    resource: string;\n    values: TVariables[];\n    metaData?: MetaDataQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseCreateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateManyResponse<TData>,\n    TError,\n    useCreateManyParams<TVariables>,\n    unknown\n>;\n\n/**\n * `useCreateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple create mutations.\n *\n * It uses `createMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useCreateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useCreateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseCreateManyReturnType<TData, TError, TVariables> => {\n    const dataProvider = useDataProvider();\n\n    const { resources } = useResource();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        CreateManyResponse<TData>,\n        TError,\n        useCreateManyParams<TVariables>\n    >(\n        ({\n            resource,\n            values,\n            metaData,\n            dataProviderName,\n        }: useCreateManyParams<TVariables>) => {\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            if (selectedDataProvider.createMany) {\n                return selectedDataProvider.createMany<TData, TVariables>({\n                    resource,\n                    variables: values,\n                    metaData,\n                });\n            } else {\n                return handleMultiple(\n                    values.map((val) =>\n                        selectedDataProvider.create<TData, TVariables>({\n                            resource,\n                            variables: val,\n                            metaData,\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            onSuccess: (\n                response,\n                {\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                },\n            ) => {\n                const resourcePlural = pluralize.plural(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(response, values, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${resource}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully created ${resourcePlural}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                const ids = response?.data\n                    .filter((item) => item?.id !== undefined)\n                    .map((item) => item.id!);\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"created\",\n                    payload: {\n                        ids,\n                    },\n                    date: new Date(),\n                });\n            },\n            onError: (err: TError, { resource, errorNotification, values }) => {\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, values, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${resource}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${resource} (status code: ${err.statusCode}`,\n                    ),\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useMutation,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    useResource,\n    useCancelNotification,\n    useCheckError,\n    useMutationMode,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    BaseRecord,\n    BaseKey,\n    UpdateManyResponse,\n    HttpError,\n    MutationMode,\n    QueryResponse,\n    PrevContext as UpdateContext,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    GetListResponse,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    handleMultiple,\n} from \"@definitions/helpers\";\n\ntype UpdateManyParams<TVariables> = {\n    ids: BaseKey[];\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    values: TVariables;\n    metaData?: MetaDataQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\ntype UseUpdateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateManyResponse<TData>,\n    TError,\n    UpdateManyParams<TVariables>,\n    UpdateContext<TData>\n>;\n\n/**\n * `useUpdateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple update mutations.\n *\n * It uses `updateMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useUpdateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseUpdateManyReturnType<TData, TError, TVariables> => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const { mutate: checkError } = useCheckError();\n    const { notificationDispatch } = useCancelNotification();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        UpdateManyResponse<TData>,\n        TError,\n        UpdateManyParams<TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            ids,\n            values,\n            resource,\n            onCancel,\n            mutationMode,\n            undoableTimeout,\n            metaData,\n            dataProviderName,\n        }: UpdateManyParams<TVariables>) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.updateMany) {\n                    return selectedDataProvider.updateMany<TData, TVariables>({\n                        resource,\n                        ids,\n                        variables: values,\n                        metaData,\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.update<TData, TVariables>({\n                                resource,\n                                id,\n                                variables: values,\n                                metaData,\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<UpdateManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n\n        {\n            onMutate: async ({\n                resource,\n                ids,\n                values,\n                mutationMode,\n                dataProviderName,\n                metaData,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                    metaData,\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries = queryClient.getQueriesData<\n                    QueryResponse<TData>\n                >(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (\n                                    record.id !== undefined &&\n                                    ids\n                                        .filter((id) => id !== undefined)\n                                        .map(String)\n                                        .includes(record.id.toString())\n                                ) {\n                                    return {\n                                        ...record,\n                                        ...values,\n                                    };\n                                }\n\n                                return record;\n                            });\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (\n                                    record.id !== undefined &&\n                                    ids\n                                        .filter((id) => id !== undefined)\n                                        .map(String)\n                                        .includes(record.id.toString())\n                                ) {\n                                    return {\n                                        ...record,\n                                        ...values,\n                                    };\n                                }\n                                return record;\n                            });\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n                    for (const id of ids) {\n                        queryClient.setQueriesData(\n                            queryKey.detail(id),\n                            (previous?: GetListResponse<TData> | null) => {\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = {\n                                    ...previous.data,\n                                    ...values,\n                                };\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (_data, _error, { ids, resource, dataProviderName }) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    invalidates: [\"list\", \"many\"],\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                });\n\n                ids.forEach((id) =>\n                    invalidateStore({\n                        resource,\n                        invalidates: [\"detail\"],\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        id,\n                    }),\n                );\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource },\n                });\n            },\n            onSuccess: (\n                data,\n                { ids, resource, successNotification, values },\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { ids, values }, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${resource}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: ids.map(String),\n                    },\n                    date: new Date(),\n                });\n            },\n            onError: (\n                err: TError,\n                { ids, resource, errorNotification, values },\n                context,\n            ) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { ids, values }, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${resource}-updateMany-error-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useQueryClient,\n    useMutation,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    DeleteManyResponse,\n    HttpError,\n    BaseRecord,\n    BaseKey,\n    MutationMode,\n    PreviousQuery,\n    GetListResponse,\n    PrevContext as DeleteContext,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useMutationMode,\n    useCancelNotification,\n    useCheckError,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport { queryKeys, pickDataProvider, handleMultiple } from \"@definitions\";\n\nexport type DeleteManyParams<TVariables> = {\n    ids: BaseKey[];\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    metaData?: MetaDataQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n    values?: TVariables;\n} & SuccessErrorNotification;\n\nexport type UseDeleteManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteManyResponse<TData>,\n    TError,\n    DeleteManyParams<TVariables>,\n    unknown\n>;\n\n/**\n * `useDeleteMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple delete mutations.\n *\n * It uses `deleteMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useDeleteMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDeleteMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseDeleteManyReturnType<TData, TError, TVariables> => {\n    const { mutate: checkError } = useCheckError();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const dataProvider = useDataProvider();\n\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const mutation = useMutation<\n        DeleteManyResponse<TData>,\n        TError,\n        DeleteManyParams<TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            resource,\n            ids,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            metaData,\n            dataProviderName,\n            values,\n        }: DeleteManyParams<TVariables>) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.deleteMany) {\n                    return selectedDataProvider.deleteMany<TData, TVariables>({\n                        resource,\n                        ids,\n                        metaData,\n                        variables: values,\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.deleteOne<TData, TVariables>({\n                                resource,\n                                id,\n                                metaData,\n                                variables: values,\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<DeleteManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                ids,\n                resource,\n                mutationMode,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (item) =>\n                                    item.id &&\n                                    !ids\n                                        .map(String)\n                                        .includes(item.id.toString()),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    if (record.id) {\n                                        return !ids\n                                            .map(String)\n                                            .includes(record.id.toString());\n                                    }\n                                    return false;\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    for (const id of ids) {\n                        queryClient.setQueriesData(\n                            queryKey.detail(id),\n                            (previous?: any | null) => {\n                                if (!previous || previous.data.id == id) {\n                                    return null;\n                                }\n                                return {\n                                    ...previous,\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            // Always refetch after error or success:\n            onSettled: (\n                _data,\n                _error,\n                {\n                    resource,\n                    ids,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource },\n                });\n            },\n            onSuccess: (\n                _data,\n                { ids, resource, successNotification },\n                context,\n            ) => {\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, ids, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${resource}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully deleted ${resource}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"deleted\",\n                    payload: { ids },\n                    date: new Date(),\n                });\n\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n            },\n            onError: (err, { ids, resource, errorNotification }, context) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, ids, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n        },\n    );\n\n    return mutation;\n};\n","import { useDataProvider } from \"@hooks\";\n\nexport const useApiUrl = (dataProviderName?: string): string => {\n    const dataProvider = useDataProvider();\n\n    const { getApiUrl } = dataProvider(dataProviderName);\n\n    return getApiUrl();\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    CustomResponse,\n    CrudSorting,\n    CrudFilters,\n    BaseRecord,\n    HttpError,\n    MetaDataQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useTranslate,\n    useCheckError,\n    useHandleNotification,\n    useDataProvider,\n} from \"@hooks\";\n\ninterface UseCustomConfig<TQuery, TPayload> {\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n    query?: TQuery;\n    payload?: TPayload;\n    headers?: {};\n}\n\nexport type UseCustomProps<TData, TError, TQuery, TPayload> = {\n    /**\n     * request's URL\n     */\n    url: string;\n    /**\n     * request's method (`GET`, `POST`, etc.)\n     */\n    method: \"get\" | \"delete\" | \"head\" | \"options\" | \"post\" | \"put\" | \"patch\";\n    /**\n     * The config of your request. You can send headers, payload, query, filters and sort using this field\n     */\n    config?: UseCustomConfig<TQuery, TPayload>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\"\n     */\n    queryOptions?: UseQueryOptions<CustomResponse<TData>, TError>;\n    /**\n     * Metadata query for `dataProvider`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification;\n\n/**\n * `useCustom` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for custom requests.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useCustom} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TQuery - Values for query params\n * @typeParam TPayload - Values for params\n *\n */\nexport const useCustom = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TQuery = unknown,\n    TPayload = unknown,\n>({\n    url,\n    method,\n    config,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    metaData,\n    dataProviderName,\n}: UseCustomProps<TData, TError, TQuery, TPayload>): QueryObserverResult<\n    CustomResponse<TData>,\n    TError\n> => {\n    const dataProvider = useDataProvider();\n\n    const { custom } = dataProvider(dataProviderName);\n    const { mutate: checkError } = useCheckError();\n    const translate = useTranslate();\n    const handleNotification = useHandleNotification();\n\n    if (custom) {\n        const queryResponse = useQuery<CustomResponse<TData>, TError>(\n            [\n                dataProviderName,\n                \"custom\",\n                method,\n                url,\n                { ...config, ...metaData },\n            ],\n            ({ queryKey, pageParam, signal }) =>\n                custom<TData>({\n                    url,\n                    method,\n                    ...config,\n                    metaData: {\n                        ...metaData,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                }),\n            {\n                ...queryOptions,\n                onSuccess: (data) => {\n                    queryOptions?.onSuccess?.(data);\n\n                    const notificationConfig =\n                        typeof successNotification === \"function\"\n                            ? successNotification(data, {\n                                  ...config,\n                                  ...metaData,\n                              })\n                            : successNotification;\n\n                    handleNotification(notificationConfig);\n                },\n                onError: (err: TError) => {\n                    checkError(err);\n                    queryOptions?.onError?.(err);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { ...config, ...metaData })\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${method}-notification`,\n                        message: translate(\n                            \"common:notifications.error\",\n                            { statusCode: err.statusCode },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                },\n            },\n        );\n        return queryResponse;\n    } else {\n        throw Error(\"Not implemented custom on data provider.\");\n    }\n};\n","import { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { useDataProvider, useHandleNotification, useTranslate } from \"@hooks\";\nimport {\n    CreateResponse,\n    BaseRecord,\n    HttpError,\n    SuccessErrorNotification,\n    MetaDataQuery,\n} from \"../../interfaces\";\n\ninterface UseCustomMutationConfig {\n    headers?: {};\n}\n\ntype useCustomMutationParams<TVariables> = {\n    url: string;\n    method: \"post\" | \"put\" | \"patch\" | \"delete\";\n    values: TVariables;\n    metaData?: MetaDataQuery;\n    dataProviderName?: string;\n    config?: UseCustomMutationConfig;\n} & SuccessErrorNotification;\n\nexport type UseCustomMutationReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCustomMutationParams<TVariables>,\n    unknown\n>;\n\n/**\n * `useCustomMutation` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useCustomMutation} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCustomMutation = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>(): UseCustomMutationReturnType<TData, TError, TVariables> => {\n    const handleNotification = useHandleNotification();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCustomMutationParams<TVariables>,\n        unknown\n    >(\n        ({\n            url,\n            method,\n            values,\n            metaData,\n            dataProviderName,\n            config,\n        }: useCustomMutationParams<TVariables>) => {\n            const { custom } = dataProvider(dataProviderName);\n\n            if (custom) {\n                return custom<TData>({\n                    url,\n                    method,\n                    payload: values,\n                    metaData,\n                    headers: { ...config?.headers },\n                });\n            }\n\n            throw Error(\"Not implemented custom on data provider.\");\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    successNotification: successNotificationFromProp,\n                    config,\n                    metaData,\n                },\n            ) => {\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, {\n                              ...config,\n                              ...metaData,\n                          })\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (\n                err: TError,\n                {\n                    errorNotification: errorNotificationFromProp,\n                    method,\n                    config,\n                    metaData,\n                },\n            ) => {\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, {\n                              ...config,\n                              ...metaData,\n                          })\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `${method}-notification`,\n                    message: translate(\n                        \"common:notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return mutation;\n};\n","import { useCallback, useContext } from \"react\";\n\nimport { DataContext } from \"@contexts/data\";\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const useDataProvider = (): ((\n    /**\n     * The name of the `data provider` you want to access\n     */\n    dataProviderName?: string,\n) => IDataContextProvider) => {\n    const context = useContext<IDataMultipleContextProvider>(DataContext);\n\n    const handleDataProvider = useCallback(\n        (dataProviderName?: string) => {\n            if (dataProviderName) {\n                const dataProvider = context[dataProviderName];\n                if (!dataProvider) {\n                    throw new Error(\n                        `\"${dataProviderName}\" Data provider not found`,\n                    );\n                }\n                return context[dataProviderName];\n            }\n            if (context.default) {\n                return context.default;\n            } else\n                throw new Error(\n                    `There is no \"default\" data provider. Please pass dataProviderName.`,\n                );\n        },\n        [context],\n    );\n\n    return handleDataProvider;\n};\n","import React from \"react\";\nimport { ReactNode } from \"react\";\n\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const defaultDataProvider = () => {\n    return {\n        default: {\n            create: () => Promise.resolve({ data: { id: 1 } }),\n            createMany: () => Promise.resolve({ data: [] }),\n            deleteOne: () => Promise.resolve({ data: { id: 1 } }),\n            deleteMany: () => Promise.resolve({ data: [] }),\n            getList: () => Promise.resolve({ data: [], total: 0 }),\n            getMany: () => Promise.resolve({ data: [] }),\n            getOne: () => Promise.resolve({ data: { id: 1 } }),\n            update: () => Promise.resolve({ data: { id: 1 } }),\n            updateMany: () => Promise.resolve({ data: [] }),\n            custom: () => Promise.resolve({ data: {} }),\n            getApiUrl: () => \"\",\n        },\n    };\n};\n\nexport const DataContext = React.createContext<IDataMultipleContextProvider>(\n    defaultDataProvider() as IDataMultipleContextProvider,\n);\n\nexport const DataContextProvider: React.FC<\n    | IDataMultipleContextProvider\n    | (IDataContextProvider & {\n          children: ReactNode;\n      })\n> = ({ children, ...rest }) => {\n    let dataProviders;\n    if (!rest.getList || !rest.getOne) {\n        dataProviders = rest as IDataMultipleContextProvider;\n    } else {\n        dataProviders = {\n            default: rest,\n        } as IDataMultipleContextProvider;\n    }\n    return (\n        <DataContext.Provider value={dataProviders}>\n            {children}\n        </DataContext.Provider>\n    );\n};\n","import { useContext, useEffect } from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    IRefineContext,\n    LiveEvent,\n    LiveModeProps,\n    MetaDataQuery,\n    Pagination,\n} from \"../../../interfaces\";\nimport { LiveContext } from \"@contexts/live\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { queryKeys } from \"@definitions\";\n\nexport type UseResourceSubscriptionProps = {\n    channel: string;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        metaData?: MetaDataQuery;\n        pagination?: Pagination;\n        hasPagination?: boolean;\n        sort?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType: \"useList\" | \"useOne\" | \"useMany\";\n        [key: string]: any;\n    };\n    types: LiveEvent[\"type\"][];\n    resource: string;\n    enabled?: boolean;\n} & LiveModeProps;\n\nexport type PublishType = {\n    (event: LiveEvent): void;\n};\n\nexport const useResourceSubscription = ({\n    resource,\n    params,\n    channel,\n    types,\n    enabled = true,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n}: UseResourceSubscriptionProps): void => {\n    const queryClient = useQueryClient();\n    const queryKey = queryKeys(resource);\n\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n    const {\n        liveMode: liveModeFromContext,\n        onLiveEvent: onLiveEventContextCallback,\n    } = useContext<IRefineContext>(RefineContext);\n\n    const liveMode = liveModeFromProp ?? liveModeFromContext;\n\n    useEffect(() => {\n        let subscription: any;\n\n        if (liveMode && liveMode !== \"off\" && enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params: {\n                    resource,\n                    ...params,\n                },\n                types,\n                callback: (event) => {\n                    if (liveMode === \"auto\") {\n                        queryClient.invalidateQueries(queryKey.resourceAll);\n                    }\n\n                    onLiveEvent?.(event);\n                    onLiveEventContextCallback?.(event);\n                },\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import React from \"react\";\n\nimport { ILiveContext, ILiveContextProvider } from \"./ILiveContext\";\n\nexport const LiveContext = React.createContext<ILiveContext>(undefined);\n\nexport const LiveContextProvider: React.FC<ILiveContextProvider> = ({\n    liveProvider,\n    children,\n}) => {\n    return (\n        <LiveContext.Provider value={liveProvider}>\n            {children}\n        </LiveContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport { LiveModeProps, IRefineContext } from \"../../../interfaces\";\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useLiveMode = (\n    liveMode: LiveModeProps[\"liveMode\"],\n): LiveModeProps[\"liveMode\"] => {\n    const { liveMode: liveModeFromContext } =\n        useContext<IRefineContext>(RefineContext);\n\n    return liveMode ?? liveModeFromContext;\n};\n","import { useContext, useEffect } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    LiveEvent,\n    MetaDataQuery,\n    Pagination,\n} from \"../../../interfaces\";\n\nexport type UseSubscriptionProps = {\n    /**\n     * Channel name to subscribe.\n     */\n    channel: string;\n    /**\n     * Callback that is run when new events from subscription arrive.\n     */\n    onLiveEvent: (event: LiveEvent) => void;\n    /**\n     * Type of events to subscribe. `\"*\"` means all events.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    types?: LiveEvent[\"type\"][];\n    /**\n     * Determines subscription should subscribe or not.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    enabled?: boolean;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        metaData?: MetaDataQuery;\n        pagination?: Pagination;\n        hasPagination?: boolean;\n        sort?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType?: \"useList\" | \"useOne\" | \"useMany\";\n        resource?: string;\n        [key: string]: any;\n    };\n};\n\nexport const useSubscription = ({\n    params,\n    channel,\n    types = [\"*\"],\n    enabled = true,\n    onLiveEvent,\n}: UseSubscriptionProps): void => {\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n\n    useEffect(() => {\n        let subscription: any;\n\n        if (enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params,\n                types,\n                callback: onLiveEvent,\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import { useContext } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport { ILiveContext } from \"../../../interfaces\";\n\nexport const usePublish: () => NonNullable<ILiveContext>[\"publish\"] = () => {\n    const liveContext = useContext<ILiveContext>(LiveContext);\n\n    return liveContext?.publish;\n};\n","import { useContext } from \"react\";\n\nimport { ResourceContext } from \"@contexts/resource\";\nimport { BaseKey, IResourceItem, ResourceRouterParams } from \"src/interfaces\";\nimport { useRouterContext, useResourceWithRoute } from \"@hooks\";\n\nexport type UseResourcePropsType = {\n    /**\n     * Determines which resource to use for redirection\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    resourceName?: string;\n    /**\n     * Determines which resource to use for redirection\n     * @default Resource name that it reads from route\n     */\n    resourceNameOrRouteName?: string;\n    /**\n     * Adds id to the end of the URL\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    recordItemId?: BaseKey;\n};\n\ntype UseResourceReturnType = {\n    resources: IResourceItem[];\n    resource: IResourceItem;\n    resourceName: string;\n    id?: BaseKey;\n};\n\n/**\n * `useResource` is used to get `resources` that are defined as property of the `<Refine>` component.\n *\n * @see {@link https://refine.dev/docs/core/hooks/resource/useResource} for more details.\n */\nexport const useResource = ({\n    resourceName: propResourceName,\n    resourceNameOrRouteName,\n    recordItemId,\n}: UseResourcePropsType = {}): UseResourceReturnType => {\n    const { resources } = useContext(ResourceContext);\n\n    const resourceWithRoute = useResourceWithRoute();\n\n    const { useParams } = useRouterContext();\n\n    const params = useParams<ResourceRouterParams>();\n\n    const resource = resourceWithRoute(\n        resourceNameOrRouteName ?? params.resource,\n    );\n\n    const resourceName = propResourceName ?? resource.name;\n\n    const id = recordItemId ?? params.id;\n\n    return { resources, resource, resourceName, id };\n};\n","import React, { ReactNode } from \"react\";\n\nimport { IResourceContext } from \"./IResourceContext\";\n\nexport {\n    IResourceItem,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext,\n} from \"./IResourceContext\";\n\nexport const ResourceContext = React.createContext<IResourceContext>({\n    resources: [],\n});\n\nexport const ResourceContextProvider: React.FC<\n    IResourceContext & { children: ReactNode }\n> = ({ resources, children }) => {\n    return (\n        <ResourceContext.Provider value={{ resources }}>\n            {children}\n        </ResourceContext.Provider>\n    );\n};\n","import { useContext, useCallback } from \"react\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { IResourceItem } from \"../../../interfaces\";\n\nexport type UseResourceWithRouteReturnType = (route: string) => IResourceItem;\n\nexport const useResourceWithRoute = (): UseResourceWithRouteReturnType => {\n    const { resources } = useContext(ResourceContext);\n\n    const resourceWithRoute = useCallback(\n        (route: string) => {\n            const resource = resources.find((p) => p.route === route);\n\n            if (!resource) {\n                const resourceWithName = resources.find(\n                    (p) => p.name === route,\n                );\n                return (\n                    resourceWithName ??\n                    ({ name: route, route: route } as IResourceItem)\n                );\n            }\n            return resource;\n        },\n        [resources],\n    );\n\n    return resourceWithRoute;\n};\n","import { useContext } from \"react\";\n\nimport { UndoableQueueContext } from \"@contexts/undoableQueue\";\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../../interfaces\";\n\nexport type UseCancelNotificationType = () => {\n    notifications: IUndoableQueue[];\n    notificationDispatch: React.Dispatch<any>;\n};\n\nexport const useCancelNotification: UseCancelNotificationType = () => {\n    const { notifications, notificationDispatch } =\n        useContext<IUndoableQueueContext>(UndoableQueueContext);\n\n    return { notifications, notificationDispatch };\n};\n","import { useContext } from \"react\";\n\nimport { NotificationContext } from \"@contexts/notification\";\nimport { INotificationContext } from \"../../../interfaces\";\n\nexport const useNotification = (): INotificationContext => {\n    const { open, close } = useContext(NotificationContext);\n\n    return { open, close };\n};\n","import React, { createContext } from \"react\";\n\nimport { INotificationContext } from \"./INotificationContext\";\n\n/** @deprecated default value for notification context has no use and is an empty object.  */\nexport const defaultNotificationProvider: INotificationContext = {};\n\nexport const NotificationContext = createContext<INotificationContext>({});\n\nexport const NotificationContextProvider: React.FC<\n    INotificationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ open, close, children }) => {\n    return (\n        <NotificationContext.Provider value={{ open, close }}>\n            {children}\n        </NotificationContext.Provider>\n    );\n};\n","import { useCallback } from \"react\";\n\nimport { OpenNotificationParams } from \"../../../interfaces\";\nimport { useNotification } from \"@hooks\";\n\nexport const useHandleNotification = (): typeof handleNotification => {\n    const { open } = useNotification();\n\n    const handleNotification = useCallback(\n        (\n            notification: OpenNotificationParams | false | undefined,\n            fallbackNotification?: OpenNotificationParams,\n        ) => {\n            if (notification !== false) {\n                if (notification) {\n                    open?.(notification);\n                } else if (fallbackNotification) {\n                    open?.(fallbackNotification);\n                }\n            }\n        },\n        [],\n    );\n\n    return handleNotification;\n};\n","import { useCallback, useContext } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to change the locale at runtime, refine provides the `useSetLocale` hook.\n * It returns the changeLocale method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useSetLocale} for more details.\n */\nexport const useSetLocale = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback((lang: string) => i18nProvider?.changeLocale(lang), []);\n};\n","import React from \"react\";\n\nimport { ITranslationContext } from \"../../interfaces\";\n\n/** @deprecated default value for translation context has no use and is an empty object.  */\nexport const defaultProvider: ITranslationContext = {};\n\nexport const TranslationContext = React.createContext<ITranslationContext>({});\n\nexport const TranslationContextProvider: React.FC<\n    ITranslationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, i18nProvider }) => {\n    return (\n        <TranslationContext.Provider\n            value={{\n                i18nProvider: i18nProvider,\n            }}\n        >\n            {children}\n        </TranslationContext.Provider>\n    );\n};\n","import { useContext, useMemo } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to translate the texts in your own components, refine provides the `useTranslate` hook.\n * It returns the translate method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useTranslate} for more details.\n */\nexport const useTranslate = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    const fn = useMemo(() => {\n        function translate(\n            key: string,\n            options?: any,\n            defaultMessage?: string,\n        ): string;\n        function translate(key: string, defaultMessage?: string): string;\n\n        function translate(\n            key: string,\n            options?: string | any,\n            defaultMessage?: string,\n        ) {\n            return (\n                i18nProvider?.translate(key, options, defaultMessage) ??\n                defaultMessage ??\n                (typeof options === \"string\" &&\n                typeof defaultMessage === \"undefined\"\n                    ? options\n                    : key)\n            );\n        }\n\n        return translate;\n    }, [i18nProvider]);\n\n    return fn;\n};\n","import { useContext, useCallback } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\nexport type UseGetLocaleType = () => () => string | undefined;\n\n/**\n * If you need to know the current locale, refine provides the `useGetLocale` hook.\n * It returns the `getLocale` method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useGetLocale} for more details.\n */\nexport const useGetLocale: UseGetLocaleType = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback(() => i18nProvider?.getLocale(), []);\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseMutationModeType = () => {\n    mutationMode: IRefineContextOptions[\"mutationMode\"];\n    undoableTimeout: IRefineContextOptions[\"undoableTimeout\"];\n};\n\n/**\n * Mutation mode determines which mode the mutation runs with.\n * Mutations can run under three different modes: `pessimistic`, `optimistic` and `undoable`.\n * Each mode corresponds to a different type of user experience.\n *\n * @see {@link https://refine.dev/docs/guides-and-concepts/mutation-mode} for more details.\n */\nexport const useMutationMode: UseMutationModeType = () => {\n    const { mutationMode, undoableTimeout } = useContext(RefineContext);\n\n    return { mutationMode, undoableTimeout };\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { UnsavedWarnContext } from \"@contexts/unsavedWarn\";\nimport {\n    IRefineContextOptions,\n    IUnsavedWarnContext,\n} from \"../../../interfaces\";\n\ntype UseWarnAboutChangeType = () => {\n    warnWhenUnsavedChanges: IRefineContextOptions[\"warnWhenUnsavedChanges\"];\n    warnWhen: NonNullable<IUnsavedWarnContext[\"warnWhen\"]>;\n    setWarnWhen: NonNullable<IUnsavedWarnContext[\"setWarnWhen\"]>;\n};\n\n/**\n * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n * To activate this feature, set the `warnWhenUnsavedChanges` to `true`.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#warnwhenunsavedchanges} for more details.\n */\nexport const useWarnAboutChange: UseWarnAboutChangeType = () => {\n    const { warnWhenUnsavedChanges } = useContext(RefineContext);\n\n    const { warnWhen, setWarnWhen } = useContext(UnsavedWarnContext);\n\n    return {\n        warnWhenUnsavedChanges,\n        warnWhen: Boolean(warnWhen),\n        setWarnWhen: setWarnWhen ?? (() => undefined),\n    };\n};\n","import React, { ReactNode, useState } from \"react\";\n\nimport { IUnsavedWarnContext } from \"./IUnsavedWarnContext\";\n\nexport const UnsavedWarnContext = React.createContext<IUnsavedWarnContext>({});\n\nexport const UnsavedWarnContextProvider: React.FC<{ children: ReactNode }> = ({\n    children,\n}) => {\n    const [warnWhen, setWarnWhen] = useState(false);\n\n    return (\n        <UnsavedWarnContext.Provider value={{ warnWhen, setWarnWhen }}>\n            {children}\n        </UnsavedWarnContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseSyncWithLocationType = () => {\n    syncWithLocation: IRefineContextOptions[\"syncWithLocation\"];\n};\n\n/**\n * List query parameter values can be edited manually by typing directly in the URL.\n * To activate this feature `syncWithLocation` needs to be set to `true`.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#syncwithlocation} for more details.\n */\nexport const useSyncWithLocation: UseSyncWithLocationType = () => {\n    const { syncWithLocation } = useContext(RefineContext);\n\n    return { syncWithLocation };\n};\n","import { useContext } from \"react\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { TitleProps } from \"../../interfaces\";\n\n/**\n * `useTitle` returns a component that calls the `<Title>` passed to the `<Refine>`.\n * In this way, it becomes easier for us to access this component in various parts of the application.\n *\n * @see {@link https://refine.dev/docs/core/hooks/refine/useTitle} for more details.\n */\nexport const useTitle: () => React.FC<TitleProps> | undefined = () => {\n    const { Title } = useContext(RefineContext);\n\n    return Title;\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useRefineContext = () => {\n    const {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    } = useContext(RefineContext);\n\n    return {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    };\n};\n","import { useState } from \"react\";\nimport {\n    useResource,\n    useResourceWithRoute,\n    useRouterContext,\n    useDataProvider,\n} from \"@hooks\";\nimport {\n    ResourceRouterParams,\n    BaseRecord,\n    MapDataFn,\n    CrudSorting,\n    CrudFilters,\n    MetaDataQuery,\n} from \"../../interfaces\";\nimport { userFriendlyResourceName, pickDataProvider } from \"@definitions\";\nimport { ExportToCsv, Options } from \"export-to-csv-fix-source-map\";\n\ntype UseExportOptionsType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resourceName?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents\n     */\n    mapData?: MapDataFn<TData, TVariables>;\n    /**\n     *  Sorts records\n     */\n    sorter?: CrudSorting;\n    /**\n     *  Filters records\n     */\n    filters?: CrudFilters;\n    maxItemCount?: number;\n    /**\n     *  Requests to fetch data are made as batches by page size. By default, it is 20. Used for `getList` method of `DataProvider`\n     */\n    pageSize?: number;\n    /**\n     *  Used for exporting options\n     *  @type [Options](https://github.com/alexcaza/export-to-csv)\n     */\n    exportOptions?: Options;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     *  Callback to handle error events of this hook\n     */\n    onError?: (error: any) => void;\n};\n\ntype UseExportReturnType = {\n    isLoading: boolean;\n    triggerExport: () => Promise<void>;\n};\n\n/**\n * `useExport` hook allows you to make your resources exportable.\n *\n * @see {@link https://refine.dev/docs/core/hooks/import-export/useExport} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TVariables - Values for params.\n *\n */\nexport const useExport = <\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n>({\n    resourceName,\n    sorter,\n    filters,\n    maxItemCount,\n    pageSize = 20,\n    mapData = (item) => item as any,\n    exportOptions,\n    metaData,\n    dataProviderName,\n    onError,\n}: UseExportOptionsType<TData, TVariables> = {}): UseExportReturnType => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const { resources } = useResource();\n\n    const resourceWithRoute = useResourceWithRoute();\n    const dataProvider = useDataProvider();\n\n    const { useParams } = useRouterContext();\n\n    const { resource: routeResourceName } = useParams<ResourceRouterParams>();\n    let { name: resource } = resourceWithRoute(routeResourceName);\n\n    if (resourceName) {\n        resource = resourceName;\n    }\n\n    const filename = `${userFriendlyResourceName(\n        resource,\n        \"plural\",\n    )}-${new Date().toLocaleString()}`;\n\n    const { getList } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n\n    const triggerExport = async () => {\n        setIsLoading(true);\n\n        let rawData: BaseRecord[] = [];\n\n        let current = 1;\n        let preparingData = true;\n        while (preparingData) {\n            try {\n                const { data, total } = await getList<TData>({\n                    resource,\n                    filters,\n                    sort: sorter,\n                    pagination: {\n                        current,\n                        pageSize,\n                    },\n                    metaData,\n                });\n\n                current++;\n\n                rawData.push(...data);\n\n                if (maxItemCount && rawData.length >= maxItemCount) {\n                    rawData = rawData.slice(0, maxItemCount);\n                    preparingData = false;\n                }\n\n                if (total === rawData.length) {\n                    preparingData = false;\n                }\n            } catch (error) {\n                setIsLoading(false);\n                preparingData = false;\n\n                onError?.(error);\n\n                return;\n            }\n        }\n\n        const csvExporter = new ExportToCsv({\n            filename,\n            useKeysAsHeaders: true,\n            ...exportOptions,\n        });\n\n        csvExporter.generateCsv(rawData.map(mapData as any));\n\n        setIsLoading(false);\n    };\n\n    return {\n        isLoading,\n        triggerExport,\n    };\n};\n","import React, { Dispatch, SetStateAction } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\n\nimport {\n    useResourceWithRoute,\n    useRouterContext,\n    useWarnAboutChange,\n    useCreate,\n    useUpdate,\n    useRedirectionAfterSubmission,\n    useMutationMode,\n    useOne,\n    useRefineContext,\n} from \"@hooks\";\n\nimport {\n    BaseRecord,\n    CreateResponse,\n    GetOneResponse,\n    HttpError,\n    LiveModeProps,\n    ResourceRouterParams,\n    RedirectAction,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    UpdateResponse,\n    MutationMode,\n    BaseKey,\n    IQueryKeys,\n    FormAction,\n} from \"../../interfaces\";\nimport { UpdateParams, UseUpdateReturnType } from \"../data/useUpdate\";\nimport { UseCreateReturnType } from \"../data/useCreate\";\nimport { redirectPage } from \"@definitions/helpers\";\n\nexport type ActionParams = {\n    /**\n     * Type of the form mode\n     * @default Action that it reads from route otherwise \"create\" is used\n     */\n    action?: FormAction;\n};\n\ntype ActionFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Record id for fetching\n     * @default Id that it reads from the URL\n     */\n    id?: BaseKey;\n    /**\n     * Page to redirect after a succesfull mutation\n     * @type `\"show\" | \"edit\" | \"list\" | \"create\" | false`\n     * @default `\"list\"`\n     */\n    redirect?: RedirectAction;\n    /**\n     * Metadata query for dataProvider\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     * @default `\"pessimistic\"*`\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Called when a mutation is successful\n     */\n    onMutationSuccess?: (\n        data: CreateResponse<TData> | UpdateResponse<TData>,\n        variables: TVariables,\n        context: any,\n    ) => void;\n    /**\n     * Called when a mutation encounters an error\n     */\n    onMutationError?: (\n        error: TError,\n        variables: TVariables,\n        context: any,\n    ) => void;\n    /**\n     * Duration to wait before executing mutations when `mutationMode = \"undoable\"`\n     * @default `5000*`\n     */\n    undoableTimeout?: number;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     * @type  `all`, `resourceAll`, `list`, `many`, `detail`, `false`\n     * @default `[\"list\", \"many\", \"detail\"]`\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options of useOne hook used while in edit mode.\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, HttpError>;\n} & SuccessErrorNotification &\n    ActionParams &\n    LiveModeProps;\n\nexport type UseFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = ActionFormProps<TData, TError, TVariables> & ActionParams & LiveModeProps;\n\nexport type UseFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    id?: BaseKey;\n    setId: Dispatch<SetStateAction<BaseKey | undefined>>;\n\n    queryResult?: QueryObserverResult<GetOneResponse<TData>>;\n    mutationResult:\n        | UseUpdateReturnType<TData, TError, TVariables>\n        | UseCreateReturnType<TData, TError, TVariables>;\n    formLoading: boolean;\n    onFinish: (\n        values: TVariables,\n    ) => Promise<CreateResponse<TData> | UpdateResponse<TData> | void>;\n    redirect: (\n        redirect: RedirectAction,\n        idFromFunction?: BaseKey | undefined,\n    ) => void;\n};\n\n/**\n * `useForm` is used to manage forms. It uses Ant Design {@link https://ant.design/components/form/ Form} data scope management under the hood and returns the required props for managing the form actions.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/form/useForm} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n *\n */\nexport const useForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    resource: resourceFromProps,\n    action: actionFromProps,\n    id: idFromProps,\n    onMutationSuccess,\n    onMutationError,\n    redirect: redirectFromProps,\n    successNotification,\n    errorNotification,\n    metaData,\n    mutationMode: mutationModeProp,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    undoableTimeout,\n    dataProviderName,\n    invalidates,\n    queryOptions,\n}: UseFormProps<TData, TError, TVariables> = {}): UseFormReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { options } = useRefineContext();\n    const { useParams } = useRouterContext();\n    const {\n        resource: resourceFromRoute,\n        action: actionFromRoute,\n        id: idFromParams,\n    } = useParams<ResourceRouterParams>();\n\n    const defaultId =\n        !resourceFromProps || resourceFromProps === resourceFromRoute\n            ? idFromProps ?? idFromParams\n            : idFromProps;\n\n    // id state is needed to determine selected record in a context for example useModal\n    const [id, setId] = React.useState<BaseKey | undefined>(defaultId);\n\n    React.useEffect(() => {\n        if (defaultId !== id) {\n            setId(idFromProps);\n        }\n    }, [idFromProps]);\n\n    const resourceName = resourceFromProps ?? resourceFromRoute;\n    const action =\n        actionFromProps ??\n        (actionFromRoute === \"show\" ? \"create\" : actionFromRoute) ??\n        \"create\";\n\n    const resourceWithRoute = useResourceWithRoute();\n    const resource = resourceWithRoute(resourceName);\n\n    const { mutationMode: mutationModeContext } = useMutationMode();\n    const mutationMode = mutationModeProp ?? mutationModeContext;\n\n    const isCreate = action === \"create\";\n    const isEdit = action === \"edit\";\n    const isClone = action === \"clone\";\n\n    const redirect = redirectPage({\n        redirectFromProps,\n        action,\n        redirectOptions: options.redirect,\n    });\n\n    const enableQuery = id !== undefined && (isEdit || isClone);\n\n    const queryResult = useOne<TData>({\n        resource: resource.name,\n        id: id ?? \"\",\n        queryOptions: {\n            enabled: enableQuery,\n            ...queryOptions,\n        },\n        liveMode,\n        onLiveEvent,\n        liveParams,\n        metaData,\n        dataProviderName,\n    });\n\n    const { isFetching: isFetchingQuery } = queryResult;\n\n    const mutationResultCreate = useCreate<TData, TError, TVariables>();\n    const { mutate: mutateCreate, isLoading: isLoadingCreate } =\n        mutationResultCreate;\n\n    const mutationResultUpdate = useUpdate<TData, TError, TVariables>();\n    const { mutate: mutateUpdate, isLoading: isLoadingUpdate } =\n        mutationResultUpdate;\n\n    const { setWarnWhen } = useWarnAboutChange();\n\n    const handleSubmitWithRedirect = useRedirectionAfterSubmission();\n\n    const onFinishCreate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        const onSuccess = (id?: BaseKey) => {\n            handleSubmitWithRedirect({\n                redirect,\n                resource,\n                id,\n            });\n        };\n\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        return new Promise<CreateResponse<TData> | void>((resolve, reject) => {\n            if (mutationMode !== \"pessimistic\") {\n                resolve();\n            }\n            return mutateCreate(\n                {\n                    values,\n                    resource: resource.name,\n                    successNotification,\n                    errorNotification,\n                    metaData,\n                    dataProviderName,\n                    invalidates,\n                },\n                {\n                    onSuccess: (data, _, context) => {\n                        if (onMutationSuccess) {\n                            onMutationSuccess(data, values, context);\n                        }\n\n                        const responseId = data?.data?.id;\n\n                        onSuccess(responseId);\n\n                        resolve(data);\n                    },\n                    onError: (error: TError, _, context) => {\n                        if (onMutationError) {\n                            return onMutationError(error, values, context);\n                        }\n                        reject();\n                    },\n                },\n            );\n        });\n    };\n\n    const onFinishUpdate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        const variables: UpdateParams<TVariables> = {\n            id: id ?? \"\",\n            values,\n            resource: resource.name,\n            mutationMode,\n            undoableTimeout,\n            successNotification,\n            errorNotification,\n            metaData,\n            dataProviderName,\n            invalidates,\n        };\n\n        const onSuccess = () => {\n            // If it is in modal mode set it to undefined. Otherwise set it to current id from route.\n            setId(defaultId);\n            handleSubmitWithRedirect({\n                redirect,\n                resource,\n                id,\n            });\n        };\n\n        // setWarnWhen is set to \"false\" at the start of the mutation. With the help of setTimeout we guarantee that the value false is set.\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        // setTimeout is required to make onSuccess e.g. callbacks to work if component unmounts i.e. on route change\n        return new Promise<UpdateResponse<TData> | void>((resolve, reject) => {\n            if (mutationMode !== \"pessimistic\") {\n                resolve();\n            }\n            return setTimeout(() => {\n                mutateUpdate(variables, {\n                    onSuccess: (data, _, context) => {\n                        if (onMutationSuccess) {\n                            onMutationSuccess(data, values, context);\n                        }\n\n                        if (mutationMode === \"pessimistic\") {\n                            onSuccess();\n                        }\n\n                        resolve(data);\n                    },\n                    onError: (error: TError, _, context) => {\n                        if (onMutationError) {\n                            return onMutationError(error, values, context);\n                        }\n                        reject();\n                    },\n                });\n            });\n        });\n    };\n\n    const createResult = {\n        formLoading: isFetchingQuery || isLoadingCreate,\n        mutationResult: mutationResultCreate,\n        onFinish: onFinishCreate,\n    };\n\n    const editResult = {\n        formLoading: isFetchingQuery || isLoadingUpdate,\n        mutationResult: mutationResultUpdate,\n        onFinish: onFinishUpdate,\n    };\n\n    const result = isCreate || isClone ? createResult : editResult;\n\n    return {\n        ...result,\n        queryResult,\n        id,\n        setId,\n        redirect: (redirect, idFromFunction?: BaseKey | undefined) => {\n            handleSubmitWithRedirect({\n                redirect:\n                    redirect !== undefined\n                        ? redirect\n                        : isEdit\n                        ? \"list\"\n                        : \"edit\",\n                resource,\n                id: idFromFunction ?? id,\n            });\n        },\n    };\n};\n","import { useCallback } from \"react\";\n\nimport { BaseKey, IResourceItem, RedirectAction } from \"../../interfaces\";\nimport { useNavigation } from \"@hooks\";\n\nexport type UseRedirectionAfterSubmissionType = () => (options: {\n    redirect: RedirectAction;\n    resource: IResourceItem;\n    id?: BaseKey;\n}) => void;\n\nexport const useRedirectionAfterSubmission: UseRedirectionAfterSubmissionType =\n    () => {\n        const { show, edit, list, create } = useNavigation();\n\n        const handleSubmitWithRedirect = useCallback(\n            ({\n                redirect,\n                resource,\n                id,\n            }: {\n                redirect: RedirectAction;\n                resource: IResourceItem;\n                id?: BaseKey;\n            }) => {\n                if (redirect && resource.route) {\n                    if (resource.canShow && redirect === \"show\" && id) {\n                        return show(resource.route, id);\n                    }\n\n                    if (resource.canEdit && redirect === \"edit\" && id) {\n                        return edit(resource.route, id);\n                    }\n\n                    if (resource.canCreate && redirect === \"create\") {\n                        return create(resource.route);\n                    }\n\n                    return list(resource.route, \"push\");\n                } else {\n                    return;\n                }\n            },\n            [],\n        );\n\n        return handleSubmitWithRedirect;\n    };\n","import { useResourceWithRoute, useRouterContext } from \"@hooks\";\nimport { BaseKey } from \"../../interfaces\";\n\nexport type HistoryType = \"push\" | \"replace\";\n\n/**\n * `refine` uses {@link https://reactrouter.com/web/api/Hooks `React Router`} and comes with all redirects out of the box.\n * It allows you to manage your routing operations in refine.\n * Using this hook, you can manage all the routing operations of your application very easily.\n *\n * @see {@link https://refine.dev/docs/core/hooks/navigation/useNavigation} for more details.\n */\nexport const useNavigation = () => {\n    const { useHistory } = useRouterContext();\n    const history = useHistory();\n    const resourceWithRoute = useResourceWithRoute();\n\n    const handleUrl = (url: string, type: HistoryType = \"push\") => {\n        type === \"push\" ? history.push(url) : history.replace(url);\n    };\n\n    const createUrl = (resource: string) => {\n        const resourceName = resourceWithRoute(resource);\n        return `/${resourceName.route}/create`;\n    };\n\n    const editUrl = (resource: string, id: BaseKey) => {\n        const resourceName = resourceWithRoute(resource);\n        const encodedId = encodeURIComponent(id);\n\n        return `/${resourceName.route}/edit/${encodedId}`;\n    };\n\n    const cloneUrl = (resource: string, id: BaseKey) => {\n        const resourceName = resourceWithRoute(resource);\n        const encodedId = encodeURIComponent(id);\n        return `/${resourceName.route}/clone/${encodedId}`;\n    };\n\n    const showUrl = (resource: string, id: BaseKey) => {\n        const resourceName = resourceWithRoute(resource);\n        const encodedId = encodeURIComponent(id);\n        return `/${resourceName.route}/show/${encodedId}`;\n    };\n\n    const listUrl = (resource: string) => {\n        const resourceName = resourceWithRoute(resource);\n        return `/${resourceName.route}`;\n    };\n\n    const create = (resource: string, type: HistoryType = \"push\") => {\n        handleUrl(createUrl(resource), type);\n    };\n\n    const edit = (\n        resource: string,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n    ) => {\n        handleUrl(editUrl(resource, id), type);\n    };\n\n    const clone = (\n        resource: string,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n    ) => {\n        handleUrl(cloneUrl(resource, id), type);\n    };\n\n    const show = (\n        resource: string,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n    ) => {\n        handleUrl(showUrl(resource, id), type);\n    };\n\n    const list = (resource: string, type: HistoryType = \"push\") => {\n        handleUrl(listUrl(resource), type);\n    };\n\n    const push = (path: string, ...rest: unknown[]) => {\n        history.push(path, ...rest);\n    };\n\n    const replace = (path: string, ...rest: unknown[]) => {\n        history.replace(path, ...rest);\n    };\n\n    const goBack = () => {\n        history.goBack();\n    };\n\n    return {\n        create,\n        createUrl,\n        edit,\n        editUrl,\n        clone,\n        cloneUrl,\n        show,\n        showUrl,\n        list,\n        listUrl,\n        push,\n        replace,\n        goBack,\n    };\n};\n","import React, { useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\n\nimport { useOne, useResourceWithRoute, useRouterContext } from \"@hooks\";\n\nimport {\n    ResourceRouterParams,\n    BaseRecord,\n    GetOneResponse,\n    SuccessErrorNotification,\n    MetaDataQuery,\n    LiveModeProps,\n    BaseKey,\n    HttpError,\n} from \"../../interfaces\";\n\nexport type useShowReturnType<TData extends BaseRecord = BaseRecord> = {\n    queryResult: QueryObserverResult<GetOneResponse<TData>>;\n    showId?: BaseKey;\n    setShowId: React.Dispatch<React.SetStateAction<BaseKey | undefined>>;\n};\n\nexport type useShowProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Reads `:resource` from the URL\n     */\n    resource?: string;\n    /**\n     * Data item ID for API data interactions\n     * @default Reads `:id` from the URL\n     */\n    id?: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, HttpError>;\n    /**\n     * Additional meta data to pass to the data provider's `getOne`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * Target data provider name for API call to be made\n     * @default `\"default\"`\n     */\n    dataProviderName?: string;\n} & LiveModeProps &\n    SuccessErrorNotification;\n\n/**\n * `useShow` hook allows you to fetch the desired record.\n * It uses `getOne` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/api-references/components/refine-config `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/core/hooks/show/useShow} for more details.\n */\nexport const useShow = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource: resourceFromProp,\n    id,\n    successNotification,\n    errorNotification,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    dataProviderName,\n    queryOptions,\n}: useShowProps<TData, TError> = {}): useShowReturnType<TData> => {\n    const { useParams } = useRouterContext();\n\n    const { resource: routeResourceName, id: idFromRoute } =\n        useParams<ResourceRouterParams>();\n\n    const defaultId =\n        !resourceFromProp || resourceFromProp === routeResourceName\n            ? id ?? idFromRoute\n            : id;\n\n    const [showId, setShowId] = useState<BaseKey | undefined>(defaultId);\n\n    React.useEffect(() => {\n        if (defaultId !== showId) {\n            setShowId(defaultId);\n        }\n    }, [defaultId]);\n\n    const resourceWithRoute = useResourceWithRoute();\n\n    const resource = resourceWithRoute(resourceFromProp ?? routeResourceName);\n\n    const queryResult = useOne<TData>({\n        resource: resource.name,\n        id: showId ?? \"\",\n        queryOptions: {\n            enabled: showId !== undefined,\n            ...queryOptions,\n        },\n        successNotification,\n        errorNotification,\n        metaData,\n        liveMode,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    return {\n        queryResult,\n        showId,\n        setShowId,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { parse, ParseConfig } from \"papaparse\";\nimport chunk from \"lodash/chunk\";\n\nimport {\n    useCreate,\n    useCreateMany,\n    useResourceWithRoute,\n    useRouterContext,\n} from \"@hooks\";\nimport {\n    MapDataFn,\n    BaseRecord,\n    HttpError,\n    ResourceRouterParams,\n    MetaDataQuery,\n} from \"../../interfaces\";\nimport { importCSVMapper, sequentialPromises } from \"@definitions\";\nimport { UseCreateReturnType } from \"../../hooks/data/useCreate\";\nimport { UseCreateManyReturnType } from \"../../hooks/data/useCreateMany\";\n\nexport type ImportSuccessResult<TVariables, TData> = {\n    request: TVariables[];\n    type: \"success\";\n    response: TData[];\n};\n\nexport type ImportErrorResult<TVariables> = {\n    request: TVariables[];\n    type: \"error\";\n    response: HttpError[];\n};\n\nexport type OnFinishParams<TVariables, TData> = {\n    succeeded: ImportSuccessResult<TVariables, TData>[];\n    errored: ImportErrorResult<TVariables>[];\n};\n\nexport type OnProgressParams = {\n    totalAmount: number;\n    processedAmount: number;\n};\n\nexport type ImportOptions<\n    TItem,\n    TVariables = any,\n    TData extends BaseRecord = BaseRecord,\n> = {\n    /**\n     * Resource name for API data interactions.\n     * @default Resource name that it reads from route\n     */\n    resourceName?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents.\n     */\n    mapData?: MapDataFn<TItem, TVariables>;\n    /**\n     * Custom Papa Parse options.\n     * @type [`ParseConfig`](https://www.papaparse.com/docs)\n     */\n    paparseOptions?: ParseConfig;\n    /**\n     * Requests batch size. If it is 1, all records are sent one by one. By default, it is [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER) to send all records in one batch. If it is more than 1, `createMany` should be implemented on DataProvider.\n     */\n    batchSize?: number;\n    /**\n     * Called with errors and successful responses when all requests are sent.\n     */\n    onFinish?: (results: OnFinishParams<TVariables, TData>) => void;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     *  A callback function that returns a current state of uploading process.\n     *\n     *  Ex: `percentage = onProgressParams.processedAmount / onProgressParams.totalAmount * 100`\n     */\n    onProgress?: (onProgressParams: OnProgressParams) => void;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n};\n\nexport type CreatedValuesType<TVariables, TData> =\n    | ImportSuccessResult<TVariables, TData>\n    | ImportErrorResult<TVariables>;\n\nexport type HandleChangeType<TVariables, TData> = (onChangeParams: {\n    file: Partial<File>;\n}) => Promise<CreatedValuesType<TVariables, TData>[]>;\n\nexport type UseImportInputPropsType = {\n    type: \"file\";\n    accept: string;\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport type UseImportReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = {},\n    TError extends HttpError = HttpError,\n> = {\n    inputProps: UseImportInputPropsType;\n    mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n    isLoading: boolean;\n    handleChange: HandleChangeType<TVariables, TData>;\n};\n\n/**\n * `useImport` hook allows you to handle your csv import logic easily.\n *\n * @see {@link https://refine.dev/docs/core/hooks/import-export/useImport} for more details.\n *\n * @typeParam TItem - Interface of parsed csv data\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useImport = <\n    TItem = any,\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = any,\n>({\n    resourceName,\n    mapData = (item) => item as unknown as TVariables,\n    paparseOptions,\n    batchSize = Number.MAX_SAFE_INTEGER,\n    onFinish,\n    metaData,\n    onProgress,\n    dataProviderName,\n}: ImportOptions<TItem, TVariables, TData> = {}): UseImportReturnType<\n    TData,\n    TVariables,\n    TError\n> => {\n    const [processedAmount, setProcessedAmount] = useState<number>(0);\n    const [totalAmount, setTotalAmount] = useState<number>(0);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const resourceWithRoute = useResourceWithRoute();\n    const { useParams } = useRouterContext();\n\n    const { resource: routeResourceName } = useParams<ResourceRouterParams>();\n    const { name: resource } = resourceWithRoute(\n        resourceName ?? routeResourceName,\n    );\n\n    const createMany = useCreateMany<TData, TError, TVariables>();\n    const create = useCreate<TData, TError, TVariables>();\n\n    let mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n\n    if (batchSize === 1) {\n        mutationResult = create;\n    } else {\n        mutationResult = createMany;\n    }\n\n    const handleCleanup = () => {\n        setTotalAmount(0);\n        setProcessedAmount(0);\n        setIsLoading(false);\n    };\n\n    const handleFinish = (\n        createdValues: CreatedValuesType<TVariables, TData>[],\n    ) => {\n        const result = {\n            succeeded: createdValues.filter(\n                (item) => item.type === \"success\",\n            ) as unknown as ImportSuccessResult<TVariables, TData>[],\n            errored: createdValues.filter(\n                (item) => item.type === \"error\",\n            ) as unknown as ImportErrorResult<TVariables>[],\n        };\n\n        onFinish?.(result);\n        setIsLoading(false);\n    };\n\n    useEffect(() => {\n        onProgress?.({ totalAmount, processedAmount });\n    }, [totalAmount, processedAmount]);\n\n    const handleChange: HandleChangeType<TVariables, TData> = ({ file }) => {\n        handleCleanup();\n        return new Promise<CreatedValuesType<TVariables, TData>[]>(\n            (resolve) => {\n                setIsLoading(true);\n                parse(file as any, {\n                    complete: async ({ data }: { data: unknown[][] }) => {\n                        const values = importCSVMapper(data, mapData);\n\n                        setTotalAmount(values.length);\n\n                        if (batchSize === 1) {\n                            // Create Processor Functions\n                            const valueFns = values.map((value) => {\n                                const fn = async () => {\n                                    const response = await create.mutateAsync({\n                                        resource,\n                                        values: value,\n                                        successNotification: false,\n                                        errorNotification: false,\n                                        dataProviderName,\n                                        metaData,\n                                    });\n\n                                    return { response, value };\n                                };\n                                return fn;\n                            });\n                            // Sequentially run processor functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                valueFns,\n                                ({ response, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return currentAmount + 1;\n                                    });\n\n                                    return {\n                                        response: [response.data],\n                                        type: \"success\",\n                                        request: [value],\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: [values[index]],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // Resolve with created values\n                            resolve(createdValues);\n                        } else {\n                            // Create Chunks\n                            const chunks = chunk(values, batchSize);\n                            // Create Chunk Processor Functions\n                            const chunkedFns = chunks.map((chunkedValues) => {\n                                const fn = async () => {\n                                    const response =\n                                        await createMany.mutateAsync({\n                                            resource,\n                                            values: chunkedValues,\n                                            successNotification: false,\n                                            errorNotification: false,\n                                            dataProviderName,\n                                            metaData,\n                                        });\n\n                                    return {\n                                        response,\n                                        value: chunkedValues,\n                                        currentBatchLength:\n                                            chunkedValues.length,\n                                    };\n                                };\n\n                                return fn;\n                            });\n                            // Sequentially run chunked functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                chunkedFns,\n                                ({ response, currentBatchLength, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return (\n                                            currentAmount + currentBatchLength\n                                        );\n                                    });\n\n                                    return {\n                                        response: response.data,\n                                        type: \"success\",\n                                        request: value,\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: chunks[index],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // resolve with all created values\n                            resolve(createdValues);\n                        }\n                    },\n\n                    ...paparseOptions,\n                });\n            },\n        ).then((createdValues) => {\n            handleFinish(createdValues);\n            return createdValues;\n        });\n    };\n\n    return {\n        inputProps: {\n            type: \"file\",\n            accept: \".csv\",\n            onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n                if (event.target.files && event.target.files.length > 0) {\n                    handleChange({ file: event.target.files[0] });\n                }\n            },\n        },\n        mutationResult,\n        isLoading,\n        handleChange,\n    };\n};\n","import { useCallback, useState } from \"react\";\n\nexport type useModalReturnType = {\n    visible: boolean;\n    show: () => void;\n    close: () => void;\n};\n\nexport type useModalProps = {\n    /**\n     * Initial state of the modal\n     */\n    defaultVisible?: boolean;\n};\n\nexport const useModal = ({\n    defaultVisible = false,\n}: useModalProps = {}): useModalReturnType => {\n    const [visible, setVisible] = useState(defaultVisible);\n\n    const show = useCallback(() => setVisible(true), [visible]);\n    const close = useCallback(() => setVisible(false), [visible]);\n\n    return {\n        visible,\n        show,\n        close,\n    };\n};\n","import { useContext } from \"react\";\nimport { RouterContext } from \"@contexts/router\";\n\nexport const useRouterContext = () => {\n    const { useHistory, useLocation, useParams, Prompt, Link, routes } =\n        useContext(RouterContext);\n\n    return {\n        useHistory,\n        useLocation,\n        useParams,\n        Prompt,\n        Link,\n        routes,\n    };\n};\n","import React from \"react\";\n\nimport { IRouterContext } from \"../../interfaces\";\n\nexport const defaultProvider: IRouterContext = {\n    useHistory: () => false,\n    useLocation: () => false,\n    useParams: () => ({} as any),\n    Prompt: () => null,\n    Link: () => null,\n};\n\nexport const RouterContext =\n    React.createContext<IRouterContext>(defaultProvider);\n\nexport const RouterContextProvider: React.FC<\n    IRouterContext & {\n        children?: React.ReactNode;\n    }\n> = ({\n    children,\n    useHistory,\n    useLocation,\n    useParams,\n    Prompt,\n    Link,\n    routes,\n}) => {\n    return (\n        <RouterContext.Provider\n            value={{\n                useHistory,\n                useLocation,\n                useParams,\n                Prompt,\n                Link,\n                routes,\n            }}\n        >\n            {children}\n        </RouterContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { CanParams, CanReturnType } from \"../../../interfaces\";\n\nexport type UseCanProps = CanParams & {\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<CanReturnType>;\n};\n\n/**\n * `useCan` uses the `can` as the query function for `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`}. It takes the parameters that `can` takes. It can also be configured with `queryOptions` for `useQuery`. Returns the result of `useQuery`.\n * @see {@link https://refine.dev/docs/core/hooks/accessControl/useCan} for more details.\n *\n * @typeParam CanParams {@link https://refine.dev/docs/core/interfaceReferences#canparams}\n * @typeParam CanReturnType {@link https://refine.dev/docs/core/interfaceReferences#canreturntype}\n *\n */\nexport const useCan = ({\n    action,\n    resource,\n    params,\n    queryOptions,\n}: UseCanProps): UseQueryResult<CanReturnType> => {\n    const { can } = useContext(AccessControlContext);\n\n    /**\n     * Since `react-query` stringifies the query keys, it will throw an error for a circular dependency if we include `React.ReactNode` elements inside the keys.\n     * The feature in #2220(https://github.com/refinedev/refine/issues/2220) includes such change and to fix this, we need to remove `icon` property in the `resource`\n     */\n    const { resource: _resource, ...paramsRest } = params ?? {};\n\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    const {\n        icon: _icon,\n        list: _list,\n        edit: _edit,\n        create: _create,\n        show: _show,\n        children: _children,\n        ...restResource\n    } = _resource ?? {};\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n\n    const queryResponse = useQuery<CanReturnType>(\n        [\n            \"useCan\",\n            {\n                action,\n                resource,\n                params: { ...paramsRest, resource: restResource },\n                enabled: queryOptions?.enabled,\n            },\n        ],\n        // Enabled check for `can` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        () =>\n            can?.({ action, resource, params }) ??\n            Promise.resolve({ can: true }),\n        {\n            enabled: typeof can !== \"undefined\",\n            ...queryOptions,\n            retry: false,\n        },\n    );\n\n    return typeof can === \"undefined\"\n        ? ({ data: { can: true } } as typeof queryResponse)\n        : queryResponse;\n};\n","import React from \"react\";\n\nimport { IAccessControlContext } from \"./IAccessControlContext\";\n\n/** @deprecated default value for access control context has no use and is an empty object. */\nexport const defaultAccessControlContext: IAccessControlContext = {};\n\nexport const AccessControlContext = React.createContext<IAccessControlContext>(\n    {},\n);\n\nexport const AccessControlContextProvider: React.FC<\n    IAccessControlContext & {\n        children?: React.ReactNode;\n    }\n> = ({ can, children }) => {\n    return (\n        <AccessControlContext.Provider value={{ can }}>\n            {children}\n        </AccessControlContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { IAccessControlContext } from \"../../interfaces\";\n\nexport const useCanWithoutCache = (): IAccessControlContext => {\n    const { can } = useContext(AccessControlContext);\n\n    return { can };\n};\n","import { useCallback, useMemo, useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport uniqBy from \"lodash/uniqBy\";\nimport debounce from \"lodash/debounce\";\nimport get from \"lodash/get\";\n\nimport { useList, useMany } from \"@hooks\";\nimport {\n    CrudSorting,\n    Option,\n    BaseRecord,\n    GetManyResponse,\n    GetListResponse,\n    CrudFilters,\n    SuccessErrorNotification,\n    HttpError,\n    MetaDataQuery,\n    LiveModeProps,\n    BaseKey,\n    Pagination,\n} from \"../../interfaces\";\n\nexport type UseSelectProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Set the option's value\n     * @default `\"title\"`\n     */\n    optionLabel?: string;\n    /**\n     * Set the option's label value\n     * @default `\"id\"`\n     */\n    optionValue?: string;\n    /**\n     * Allow us to sort the options\n     */\n    sort?: CrudSorting;\n    /**\n     * Resource name for API data interactions\n     */\n    filters?: CrudFilters;\n    /**\n     * Adds extra `options`\n     */\n    defaultValue?: BaseKey | BaseKey[];\n    /**\n     * The number of milliseconds to delay\n     * @default `300`\n     */\n    debounce?: number;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     * Pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type {  current?: number; pageSize?: number;}\n     * @default `undefined`\n     */\n    pagination?: Pagination;\n    /**\n     * Disabling pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type boolean\n     * @default `undefined`\n     */\n    hasPagination?: boolean;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    defaultValueQueryOptions?: UseQueryOptions<GetManyResponse<TData>, TError>;\n    /**\n     * If defined, this callback allows us to override all filters for every search request.\n     * @default `undefined`\n     */\n    onSearch?: (value: string) => CrudFilters;\n    /**\n     * Metadata query for `dataProvider`\n     * @default `{}`\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `default`\n     */\n    dataProviderName?: string;\n    /**\n     * Amount of records to fetch in select box list.\n     * @deprecated use [`pagination`](https://refine.dev/docs/api-reference/core/interfaceReferences/#pagination) instead\n     * @default `undefined`\n     */\n    fetchSize?: number;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\nexport type UseSelectReturnType<TData extends BaseRecord = BaseRecord> = {\n    queryResult: QueryObserverResult<GetListResponse<TData>>;\n    defaultValueQueryResult: QueryObserverResult<GetManyResponse<TData>>;\n    onSearch: (value: string) => void;\n    options: Option[];\n};\n\nexport const useSelect = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>(\n    props: UseSelectProps<TData, TError>,\n): UseSelectReturnType<TData> => {\n    const [search, setSearch] = useState<CrudFilters>([]);\n    const [options, setOptions] = useState<Option[]>([]);\n    const [selectedOptions, setSelectedOptions] = useState<Option[]>([]);\n\n    const {\n        resource,\n        sort,\n        filters = [],\n        optionLabel = \"title\",\n        optionValue = \"id\",\n        debounce: debounceValue = 300,\n        successNotification,\n        errorNotification,\n        defaultValueQueryOptions: defaultValueQueryOptionsFromProps,\n        queryOptions,\n        fetchSize,\n        pagination,\n        hasPagination,\n        liveMode,\n        defaultValue = [],\n        onLiveEvent,\n        onSearch: onSearchFromProp,\n        liveParams,\n        metaData,\n        dataProviderName,\n    } = props;\n\n    const defaultValues = Array.isArray(defaultValue)\n        ? defaultValue\n        : [defaultValue];\n\n    const defaultValueQueryOnSuccess = useCallback(\n        (data: GetManyResponse<TData>) => {\n            setSelectedOptions(\n                data.data.map((item) => ({\n                    label: get(item, optionLabel),\n                    value: get(item, optionValue),\n                })),\n            );\n        },\n        [optionLabel, optionValue],\n    );\n\n    const defaultValueQueryOptions =\n        defaultValueQueryOptionsFromProps ?? (queryOptions as any);\n\n    const defaultValueQueryResult = useMany<TData, TError>({\n        resource,\n        ids: defaultValues,\n        queryOptions: {\n            ...defaultValueQueryOptions,\n            enabled:\n                defaultValues.length > 0 &&\n                (defaultValueQueryOptionsFromProps?.enabled ?? true),\n            onSuccess: (data) => {\n                defaultValueQueryOnSuccess(data);\n                defaultValueQueryOptions?.onSuccess?.(data);\n            },\n        },\n        metaData,\n        liveMode: \"off\",\n        dataProviderName,\n    });\n\n    const defaultQueryOnSuccess = useCallback(\n        (data: GetListResponse<TData>) => {\n            {\n                setOptions(\n                    data.data.map((item) => ({\n                        label: get(item, optionLabel),\n                        value: get(item, optionValue),\n                    })),\n                );\n            }\n        },\n        [optionLabel, optionValue],\n    );\n\n    const queryResult = useList<TData, TError>({\n        resource,\n        config: {\n            sort,\n            filters: filters.concat(search),\n            pagination: {\n                current: pagination?.current,\n                pageSize: pagination?.pageSize ?? fetchSize,\n            },\n            hasPagination,\n        },\n        queryOptions: {\n            ...queryOptions,\n            onSuccess: (data) => {\n                defaultQueryOnSuccess(data);\n                queryOptions?.onSuccess?.(data);\n            },\n        },\n        successNotification,\n        errorNotification,\n        metaData,\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const onSearch = (value: string) => {\n        if (onSearchFromProp) {\n            setSearch(onSearchFromProp(value));\n            return;\n        }\n\n        if (!value) {\n            setSearch([]);\n            return;\n        } else {\n            setSearch([\n                {\n                    field: optionLabel,\n                    operator: \"contains\",\n                    value,\n                },\n            ]);\n        }\n    };\n\n    return {\n        queryResult,\n        defaultValueQueryResult,\n        options: useMemo(\n            () => uniqBy([...options, ...selectedOptions], \"value\"),\n            [options, selectedOptions],\n        ),\n        onSearch: debounce(onSearch, debounceValue),\n    };\n};\n","import React, { useMemo, useState, useEffect } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport qs from \"qs\";\nimport differenceWith from \"lodash/differenceWith\";\nimport isEqual from \"lodash/isEqual\";\n\nimport {\n    useRouterContext,\n    useSyncWithLocation,\n    useNavigation,\n    useResourceWithRoute,\n    useList,\n    useLiveMode,\n} from \"@hooks\";\nimport {\n    stringifyTableParams,\n    parseTableParams,\n    unionFilters,\n    setInitialFilters,\n    setInitialSorters,\n    unionSorters,\n} from \"@definitions/table\";\n\nimport {\n    ResourceRouterParams,\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    GetListResponse,\n    SuccessErrorNotification,\n    HttpError,\n    MetaDataQuery,\n    LiveModeProps,\n} from \"../../interfaces\";\n\ntype SetFilterBehavior = \"merge\" | \"replace\";\n\nexport type useTableProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Initial page index\n     * @default 10\n     */\n    initialCurrent?: number;\n    /**\n     * Initial number of items per page\n     * @default 10\n     */\n    initialPageSize?: number;\n    /**\n     * Initial sorter state\n     */\n    initialSorter?: CrudSorting;\n    /**\n     * Default and unchangeable sorter state\n     *  @default `[]`\n     */\n    permanentSorter?: CrudSorting;\n    /**\n     * Initial filter state\n     */\n    initialFilter?: CrudFilters;\n    /**\n     * WDefault and unchangeable filter state\n     * @default `[]`\n     */\n    permanentFilter?: CrudFilters;\n    /**\n     *Default behavior of the `setFilters` function\n     * @default `\"merge\"`\n     */\n    defaultSetFilterBehavior?: SetFilterBehavior;\n    /**\n     * Whether to use server side pagination or not.\n     * @default `true`\n     */\n    hasPagination?: boolean;\n    /**\n     * Sortings, filters, page index and records shown per page are tracked by browser history\n     * @default Value set in [Refine](/docs/api-reference/core/components/refine-config/#syncwithlocation). If a custom resource is given, it will be `false`\n     */\n    syncWithLocation?: boolean;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     * Metadata query for dataProvider\n     */\n    metaData?: MetaDataQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\ntype ReactSetState<T> = React.Dispatch<React.SetStateAction<T>>;\n\ntype SyncWithLocationParams = {\n    pagination: { current?: number; pageSize?: number };\n    sorter: CrudSorting;\n    filters: CrudFilters;\n};\n\nexport type useTablePaginationKeys =\n    | \"current\"\n    | \"setCurrent\"\n    | \"pageSize\"\n    | \"setPageSize\"\n    | \"pageCount\";\n\nexport type useTableReturnType<TData extends BaseRecord = BaseRecord> = {\n    tableQueryResult: QueryObserverResult<GetListResponse<TData>>;\n    sorter: CrudSorting;\n    setSorter: (sorter: CrudSorting) => void;\n    filters: CrudFilters;\n    setFilters: ((filters: CrudFilters, behavior?: SetFilterBehavior) => void) &\n        ((setter: (prevFilters: CrudFilters) => CrudFilters) => void);\n    createLinkForSyncWithLocation: (params: SyncWithLocationParams) => string;\n    current: number;\n    setCurrent: ReactSetState<useTableReturnType[\"current\"]>;\n    pageSize: number;\n    setPageSize: ReactSetState<useTableReturnType[\"pageSize\"]>;\n    pageCount: number;\n};\n\nexport type useTableNoPaginationReturnType<\n    TData extends BaseRecord = BaseRecord,\n> = Omit<useTableReturnType<TData>, useTablePaginationKeys> &\n    Record<useTablePaginationKeys, undefined>;\n\n/**\n * By using useTable, you are able to get properties that are compatible with\n * Ant Design {@link https://ant.design/components/table/ `<Table>`} component.\n * All features such as sorting, filtering and pagination comes as out of box.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/table/useTable} for more details.\n */\n\nconst defaultPermanentFilter: CrudFilters = [];\nconst defaultPermanentSorter: CrudSorting = [];\n\n// overload with pagination\nexport function useTable<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>(\n    props?: useTableProps<TData, TError> & {\n        hasPagination?: true;\n    },\n): useTableReturnType<TData>;\n// overload without pagination\nexport function useTable<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>(\n    props?: useTableProps<TData, TError> & {\n        hasPagination: false;\n    },\n): useTableNoPaginationReturnType<TData>;\n// implementation\nexport function useTable<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    initialCurrent = 1,\n    initialPageSize = 10,\n    hasPagination = true,\n    initialSorter,\n    permanentSorter = defaultPermanentSorter,\n    defaultSetFilterBehavior = \"merge\",\n    initialFilter,\n    permanentFilter = defaultPermanentFilter,\n    syncWithLocation: syncWithLocationProp,\n    resource: resourceFromProp,\n    successNotification,\n    errorNotification,\n    queryOptions,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n    liveParams,\n    metaData,\n    dataProviderName,\n}: useTableProps<TData, TError> = {}):\n    | useTableReturnType<TData>\n    | useTableNoPaginationReturnType<TData> {\n    const { syncWithLocation: syncWithLocationContext } = useSyncWithLocation();\n\n    const syncWithLocation = syncWithLocationProp ?? syncWithLocationContext;\n\n    const { useLocation, useParams } = useRouterContext();\n    const { search, pathname } = useLocation();\n    const liveMode = useLiveMode(liveModeFromProp);\n\n    // We want to always parse the query string even when syncWithLocation is\n    // deactivated, for hotlinking to work properly\n    const { parsedCurrent, parsedPageSize, parsedSorter, parsedFilters } =\n        parseTableParams(search);\n\n    const defaultCurrent = parsedCurrent || initialCurrent;\n    const defaultPageSize = parsedPageSize || initialPageSize;\n    const defaultSorter = parsedSorter.length ? parsedSorter : initialSorter;\n    const defaultFilter = parsedFilters.length ? parsedFilters : initialFilter;\n\n    const { resource: routeResourceName } = useParams<ResourceRouterParams>();\n\n    const { replace } = useNavigation();\n    const resourceWithRoute = useResourceWithRoute();\n\n    const resource = resourceWithRoute(resourceFromProp ?? routeResourceName);\n\n    const [sorter, setSorter] = useState<CrudSorting>(\n        setInitialSorters(permanentSorter, defaultSorter ?? []),\n    );\n    const [filters, setFilters] = useState<CrudFilters>(\n        setInitialFilters(permanentFilter, defaultFilter ?? []),\n    );\n    const [current, setCurrent] = useState<number>(defaultCurrent);\n    const [pageSize, setPageSize] = useState<number>(defaultPageSize);\n\n    const createLinkForSyncWithLocation = ({\n        pagination: { current, pageSize },\n        sorter,\n        filters,\n    }: SyncWithLocationParams) => {\n        const currentQueryParams = qs.parse(search?.substring(1)); // remove first ? character\n\n        const stringifyParams = stringifyTableParams({\n            pagination: {\n                pageSize,\n                current,\n            },\n            sorter,\n            filters,\n            ...currentQueryParams,\n        });\n        return `${pathname}?${stringifyParams}`;\n    };\n\n    useEffect(() => {\n        if (search === \"\") {\n            setCurrent(defaultCurrent);\n            setPageSize(defaultPageSize);\n            setSorter(setInitialSorters(permanentSorter, defaultSorter ?? []));\n            setFilters(setInitialFilters(permanentFilter, defaultFilter ?? []));\n        }\n    }, [search]);\n\n    const currentQueryParams = (): object => {\n        // We get QueryString parameters that are uncontrolled by refine.\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { sorter, filters, pageSize, current, ...rest } = qs.parse(\n            search,\n            {\n                ignoreQueryPrefix: true,\n            },\n        );\n\n        return rest;\n    };\n\n    useEffect(() => {\n        if (syncWithLocation) {\n            const queryParams = currentQueryParams();\n            const stringifyParams = stringifyTableParams({\n                ...(hasPagination\n                    ? {\n                          pagination: {\n                              pageSize,\n                              current,\n                          },\n                      }\n                    : {}),\n                sorter: differenceWith(sorter, permanentSorter, isEqual),\n                filters: differenceWith(filters, permanentFilter, isEqual),\n                ...queryParams,\n            });\n\n            // Careful! This triggers render\n            return replace(`${pathname}?${stringifyParams}`, undefined, {\n                shallow: true,\n            });\n        }\n    }, [syncWithLocation, current, pageSize, sorter, filters]);\n\n    const queryResult = useList<TData, TError>({\n        resource: resource.name,\n        config: {\n            hasPagination,\n            pagination: { current, pageSize },\n            filters: unionFilters(permanentFilter, filters),\n            sort: unionSorters(permanentSorter, sorter),\n        },\n        queryOptions,\n        successNotification,\n        errorNotification,\n        metaData,\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const setFiltersAsMerge = (newFilters: CrudFilters) => {\n        setFilters((prevFilters) =>\n            unionFilters(permanentFilter, newFilters, prevFilters),\n        );\n    };\n\n    const setFiltersAsReplace = (newFilters: CrudFilters) => {\n        setFilters(unionFilters(permanentFilter, newFilters));\n    };\n\n    const setFiltersWithSetter = (\n        setter: (prevFilters: CrudFilters) => CrudFilters,\n    ) => {\n        setFilters((prev) => unionFilters(permanentFilter, setter(prev)));\n    };\n\n    const setFiltersFn: useTableReturnType<TData>[\"setFilters\"] = (\n        setterOrFilters,\n        behavior: SetFilterBehavior = defaultSetFilterBehavior,\n    ) => {\n        if (typeof setterOrFilters === \"function\") {\n            setFiltersWithSetter(setterOrFilters);\n        } else {\n            if (behavior === \"replace\") {\n                setFiltersAsReplace(setterOrFilters);\n            } else {\n                setFiltersAsMerge(setterOrFilters);\n            }\n        }\n    };\n\n    const setSortWithUnion = (newSorter: CrudSorting) => {\n        setSorter(() => unionSorters(permanentSorter, newSorter));\n    };\n\n    const paginationValues = useMemo(() => {\n        if (hasPagination) {\n            return {\n                current,\n                setCurrent,\n                pageSize,\n                setPageSize,\n                pageCount: pageSize\n                    ? Math.ceil((queryResult.data?.total ?? 0) / pageSize)\n                    : 1,\n            };\n        }\n\n        return {\n            current: undefined,\n            setCurrent: undefined,\n            pageSize: undefined,\n            setPageSize: undefined,\n            pageCount: undefined,\n        };\n    }, [hasPagination, current, pageSize, queryResult.data?.total]);\n\n    return {\n        tableQueryResult: queryResult,\n        sorter,\n        setSorter: setSortWithUnion,\n        filters,\n        setFilters: setFiltersFn,\n        ...paginationValues,\n        createLinkForSyncWithLocation,\n    };\n}\n","import { useContext } from \"react\";\nimport {\n    useMutation,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { useGetIdentity } from \"@hooks/auth\";\nimport { BaseKey, LogParams } from \"../../../interfaces\";\nimport { hasPermission, queryKeys } from \"@definitions/helpers\";\n\ntype LogRenameData =\n    | {\n          resource?: string;\n      }\n    | undefined;\n\nexport type UseLogReturnType<TLogData, TLogRenameData> = {\n    log: UseMutationResult<TLogData, Error, LogParams>;\n    rename: UseMutationResult<\n        TLogRenameData,\n        Error,\n        {\n            id: BaseKey;\n            name: string;\n        }\n    >;\n};\n\n/**\n * useLog is used to `create` a new and `rename` the existing audit log.\n * @see {@link https://refine.dev/docs/core/hooks/audit-log/useLog} for more details.\n */\n\nexport const useLog = <\n    TLogData,\n    TLogRenameData extends LogRenameData = LogRenameData,\n>(): UseLogReturnType<TLogData, TLogRenameData> => {\n    const queryClient = useQueryClient();\n    const auditLogContext = useContext(AuditLogContext);\n\n    const { resources } = useContext(ResourceContext);\n    const {\n        data: identityData,\n        refetch,\n        isLoading,\n    } = useGetIdentity({\n        queryOptions: {\n            enabled: !!auditLogContext,\n        },\n    });\n\n    const log = useMutation<TLogData, Error, LogParams, unknown>(\n        async (params) => {\n            const resource = resources.find((p) => p.name === params.resource);\n            const logPermissions = resource?.options?.auditLog?.permissions;\n\n            if (logPermissions) {\n                if (!hasPermission(logPermissions, params.action)) {\n                    return;\n                }\n            }\n\n            let authorData;\n            if (isLoading) {\n                authorData = await refetch();\n            }\n\n            return await auditLogContext.create?.({\n                ...params,\n                author: identityData ?? authorData?.data,\n            });\n        },\n    );\n\n    const rename = useMutation<\n        TLogRenameData,\n        Error,\n        { id: BaseKey; name: string },\n        unknown\n    >(\n        async (params) => {\n            return await auditLogContext.update?.(params);\n        },\n        {\n            onSuccess: (data) => {\n                if (data?.resource) {\n                    const queryKey = queryKeys(data?.resource);\n                    queryClient.invalidateQueries(queryKey.logList());\n                }\n            },\n        },\n    );\n\n    return { log, rename };\n};\n","import React from \"react\";\n\nimport { IAuditLogContext } from \"./IAuditLogContext\";\n\nexport const AuditLogContext = React.createContext<IAuditLogContext>({});\n\nexport const AuditLogContextProvider: React.FC<\n    IAuditLogContext & {\n        children: React.ReactNode;\n    }\n> = ({ create, get, update, children }) => {\n    return (\n        <AuditLogContext.Provider value={{ create, get, update }}>\n            {children}\n        </AuditLogContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { queryKeys } from \"@definitions/helpers\";\nimport { HttpError, MetaDataQuery } from \"../../../interfaces\";\n\nexport type UseLogProps<TData, TError> = {\n    resource: string;\n    action?: string;\n    meta?: Record<number | string, any>;\n    author?: Record<number | string, any>;\n    queryOptions?: UseQueryOptions<TData, TError>;\n    metaData?: MetaDataQuery;\n};\n\n/**\n * useLogList is used to get and filter audit logs.\n * @see {@link https://refine.dev/docs/core/hooks/audit-log/useLogList} for more details.\n */\nexport const useLogList = <TData = any, TError extends HttpError = HttpError>({\n    resource,\n    action,\n    meta,\n    author,\n    metaData,\n    queryOptions,\n}: UseLogProps<TData, TError>): UseQueryResult<TData> => {\n    const { get } = useContext(AuditLogContext);\n\n    const queryKey = queryKeys(resource, undefined, metaData);\n\n    const queryResponse = useQuery<TData, TError>(\n        queryKey.logList(meta),\n        () =>\n            get?.({\n                resource,\n                action,\n                author,\n                meta,\n                metaData,\n            }) ?? Promise.resolve([]),\n        {\n            enabled: typeof get !== \"undefined\",\n            ...queryOptions,\n            retry: false,\n        },\n    );\n\n    return queryResponse;\n};\n","import { useCallback } from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nimport { useResource } from \"@hooks/resource\";\nimport { queryKeys, pickDataProvider } from \"@definitions\";\nimport { BaseKey, IQueryKeys } from \"../../interfaces\";\n\nexport type UseInvalidateProp = {\n    resource?: string;\n    id?: BaseKey;\n    dataProviderName?: string;\n    invalidates: Array<keyof IQueryKeys> | false;\n};\n\nexport const useInvalidate = (): ((props: UseInvalidateProp) => void) => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const invalidate = useCallback(\n        ({\n            resource,\n            dataProviderName,\n            invalidates,\n            id,\n        }: UseInvalidateProp) => {\n            if (invalidates === false) {\n                return;\n            }\n            const queryKey = queryKeys(\n                resource,\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            invalidates.forEach((key) => {\n                switch (key) {\n                    case \"all\":\n                        queryClient.invalidateQueries(queryKey.all);\n                        break;\n                    case \"list\":\n                        queryClient.invalidateQueries(queryKey.list());\n                        break;\n                    case \"many\":\n                        queryClient.invalidateQueries(queryKey.many());\n                        break;\n                    case \"resourceAll\":\n                        queryClient.invalidateQueries(queryKey.resourceAll);\n                        break;\n                    case \"detail\":\n                        queryClient.invalidateQueries(\n                            queryKey.detail(id || \"\"),\n                        );\n                        break;\n                    default:\n                        break;\n                }\n            });\n        },\n        [],\n    );\n\n    return invalidate;\n};\n","import React, { useContext } from \"react\";\nimport warnOnce from \"warn-once\";\n\nimport { useResource, useRouterContext, useTranslate } from \"@hooks\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { humanizeString } from \"@definitions\";\n\nimport { ResourceRouterParams } from \"../../interfaces\";\n\nexport type BreadcrumbsType = {\n    label: string;\n    href?: string;\n    icon?: React.ReactNode;\n};\n\ntype UseBreadcrumbReturnType = {\n    breadcrumbs: BreadcrumbsType[];\n};\n\nexport const useBreadcrumb = (): UseBreadcrumbReturnType => {\n    const { useParams } = useRouterContext();\n    const { i18nProvider } = useContext(TranslationContext);\n\n    const translate = useTranslate();\n\n    const { resources, resource } = useResource();\n\n    const { action } = useParams<ResourceRouterParams>();\n\n    const breadcrumbs: BreadcrumbsType[] = [];\n\n    if (!resource?.name) {\n        return { breadcrumbs };\n    }\n\n    const addBreadcrumb = (parentName: string) => {\n        const parentResource = resources.find(\n            (resource) => resource.name === parentName,\n        );\n\n        if (parentResource) {\n            if (parentResource.parentName) {\n                addBreadcrumb(parentResource.parentName);\n            }\n            breadcrumbs.push({\n                label:\n                    parentResource.label ??\n                    translate(\n                        `${parentResource.name}.${parentResource.name}`,\n                        humanizeString(parentResource.name),\n                    ),\n\n                href: !!parentResource.list\n                    ? `/${parentResource.route}`\n                    : undefined,\n                icon: parentResource.icon,\n            });\n        }\n    };\n\n    if (resource.parentName) {\n        addBreadcrumb(resource.parentName);\n    }\n\n    breadcrumbs.push({\n        label:\n            resource.label ??\n            translate(\n                `${resource.name}.${resource.name}`,\n                humanizeString(resource.name),\n            ),\n        href: !!resource.list ? `/${resource.route}` : undefined,\n        icon: resource.icon,\n    });\n\n    if (action) {\n        const key = `actions.${action}`;\n        const actionLabel = translate(key);\n        if (typeof i18nProvider !== \"undefined\" && actionLabel === key) {\n            warnOnce(\n                true,\n                `[useBreadcrumb]: Breadcrumb missing translate key for the \"${action}\" action. Please add \"actions.${action}\" key to your translation file.\\nFor more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`,\n            );\n            breadcrumbs.push({\n                label: translate(`buttons.${action}`, humanizeString(action)),\n            });\n        } else {\n            breadcrumbs.push({\n                label: translate(key, humanizeString(action)),\n            });\n        }\n    }\n\n    return {\n        breadcrumbs,\n    };\n};\n","import React from \"react\";\nimport {\n    useRefineContext,\n    useTranslate,\n    useResource,\n    useRouterContext,\n} from \"..\";\nimport { IMenuItem, ITreeMenu } from \"../../interfaces\";\nimport { userFriendlyResourceName, createTreeView } from \"@definitions\";\n\ntype useMenuReturnType = {\n    defaultOpenKeys: string[];\n    selectedKey: string;\n    menuItems: ITreeMenu[];\n};\n\n/**\n * `useMenu` is used to get menu items of the default sidebar.\n * These items include a link to dashboard page (if it exists) and links to the user defined resources\n * (passed as children to {@link https://refine.dev/docs/core/components/refine-config `<Refine>`}).\n * This hook can also be used to build custom menus, which is also used by default sidebar to show menu items.\n *\n * @see {@link https://refine.dev/docs/core/hooks/ui/useMenu} for more details.\n */\nexport const useMenu: () => useMenuReturnType = () => {\n    const { resources } = useResource();\n    const translate = useTranslate();\n\n    const { useLocation, useParams } = useRouterContext();\n    const location = useLocation();\n    const params = useParams<{ resource: string }>();\n\n    const { hasDashboard } = useRefineContext();\n\n    const selectedKey = React.useMemo(() => {\n        let selectedResource = resources.find(\n            (el) => location?.pathname === `/${el.route}`,\n        );\n\n        if (!selectedResource) {\n            selectedResource = resources.find(\n                (el) => params?.resource === (el.route as string),\n            );\n        }\n\n        let _selectedKey: string;\n        if (selectedResource?.route) {\n            _selectedKey = `/${selectedResource?.route}`;\n        } else if (location.pathname === \"/\") {\n            _selectedKey = \"/\";\n        } else {\n            _selectedKey = location?.pathname;\n        }\n        return _selectedKey;\n    }, [resources, location, params]);\n\n    const treeMenuItems: IMenuItem[] = React.useMemo(\n        () =>\n            resources.map((resource) => {\n                const route = `/${resource.route}`;\n\n                return {\n                    ...resource,\n                    icon: resource.icon,\n                    route: route,\n                    key: resource.key ?? route,\n                    label:\n                        resource.label ??\n                        translate(\n                            `${resource.name}.${resource.name}`,\n                            userFriendlyResourceName(resource.name, \"plural\"),\n                        ),\n                };\n            }),\n        [resources, hasDashboard, translate],\n    );\n    const menuItems: ITreeMenu[] = React.useMemo(\n        () => createTreeView(treeMenuItems),\n        [treeMenuItems],\n    );\n\n    const crawlNestedKeys = React.useCallback(\n        (\n            currentKey: string,\n            currentResources: typeof resources,\n            isParent = false,\n        ): string[] => {\n            const currentElement = currentResources.find((el) =>\n                isParent ? el.name === currentKey : el.route === currentKey,\n            );\n\n            if (currentElement) {\n                const keysArray: string[] = [];\n\n                if (isParent && currentElement.route) {\n                    keysArray.unshift(...[currentElement.route]);\n                }\n\n                if (currentElement.parentName) {\n                    keysArray.unshift(\n                        ...crawlNestedKeys(\n                            currentElement.parentName,\n                            currentResources,\n                            true,\n                        ),\n                    );\n                }\n                return keysArray;\n            }\n\n            return [];\n        },\n        [],\n    );\n\n    const defaultOpenKeys = React.useMemo(\n        () => crawlNestedKeys(selectedKey, treeMenuItems),\n        [selectedKey, treeMenuItems],\n    );\n\n    const values = React.useMemo(() => {\n        const filterMenuItemsByListViewAndHideOption = (\n            menus: ITreeMenu[],\n        ): ITreeMenu[] => {\n            return menus.reduce((menuItem: ITreeMenu[], obj) => {\n                if (obj.children.length > 0 && obj.options?.hide !== true)\n                    return [\n                        ...menuItem,\n                        {\n                            ...obj,\n                            children: filterMenuItemsByListViewAndHideOption(\n                                obj.children,\n                            ),\n                        },\n                    ];\n                else if (\n                    typeof obj.list !== \"undefined\" &&\n                    obj.options?.hide !== true\n                )\n                    return [...menuItem, obj];\n\n                return menuItem;\n            }, []);\n        };\n\n        return {\n            defaultOpenKeys,\n            selectedKey,\n            menuItems: filterMenuItemsByListViewAndHideOption(menuItems),\n        };\n    }, [defaultOpenKeys, selectedKey, menuItems]);\n\n    return values;\n};\n","import React, { useState } from \"react\";\n\nimport { useLogin, useTranslate } from \"@hooks\";\nexport interface ILoginForm {\n    username: string;\n    password: string;\n}\n\n/**\n * @deprecated LoginPage is deprecated. Use AuthPage instead. @see {@link https://refine.dev/docs/core/components/auth-page} for more details.\n * **refine** has a default login page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#loginpage} for more details.\n */\nexport const LoginPage: React.FC = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const { mutate: login } = useLogin<ILoginForm>();\n\n    return (\n        <>\n            <h1>{translate(\"pages.login.title\", \"Sign in your account\")}</h1>\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ username, password });\n                }}\n            >\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.username\",\n                                    undefined,\n                                    \"username\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"text\"\n                                    size={20}\n                                    autoCorrect=\"off\"\n                                    spellCheck={false}\n                                    autoCapitalize=\"off\"\n                                    autoFocus\n                                    required\n                                    value={username}\n                                    onChange={(e) =>\n                                        setUsername(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.password\",\n                                    undefined,\n                                    \"password\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"password\"\n                                    required\n                                    size={20}\n                                    value={password}\n                                    onChange={(e) =>\n                                        setPassword(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br />\n                <input type=\"submit\" value=\"login\" />\n            </form>\n        </>\n    );\n};\n","import React, {\n    DetailedHTMLProps,\n    HTMLAttributes,\n    FormHTMLAttributes,\n} from \"react\";\n\nimport {\n    LoginPage,\n    RegisterPage,\n    ForgotPasswordPage,\n    UpdatePasswordPage,\n} from \"./components\";\n\nimport { AuthPageProps } from \"../../../interfaces\";\n\nexport type DivPropsType = DetailedHTMLProps<\n    HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n>;\nexport type FormPropsType = DetailedHTMLProps<\n    FormHTMLAttributes<HTMLFormElement>,\n    HTMLFormElement\n>;\n\nexport type AuthProps = AuthPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\n/**\n * **refine** has a default auth page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#authpage} for more details.\n */\nexport const AuthPage: React.FC<AuthProps> = (props) => {\n    const { type } = props;\n    const renderView = () => {\n        switch (type) {\n            case \"register\":\n                return <RegisterPage {...props} />;\n            case \"forgotPassword\":\n                return <ForgotPasswordPage {...props} />;\n            case \"updatePassword\":\n                return <UpdatePasswordPage {...props} />;\n            default:\n                return <LoginPage {...props} />;\n        }\n    };\n\n    return <>{renderView()}</>;\n};\n","import React, { useState } from \"react\";\nimport { LoginPageProps, LoginFormTypes } from \"../../../../../interfaces\";\n\nimport { useRouterContext, useLogin } from \"@hooks\";\nimport { useTranslate } from \"@hooks/translate\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\n\ntype LoginProps = LoginPageProps<DivPropsType, DivPropsType, FormPropsType>;\n\nexport const LoginPage: React.FC<LoginProps> = ({\n    providers,\n    registerLink,\n    forgotPasswordLink,\n    rememberMe,\n    contentProps,\n    wrapperProps,\n    renderContent,\n    formProps,\n}) => {\n    const { Link } = useRouterContext();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [remember, setRemember] = useState(false);\n\n    const translate = useTranslate();\n\n    const { mutate: login } = useLogin<LoginFormTypes>();\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <Link to={link}>{text}</Link>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            login({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.login.title\", \"Sign in to your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ email, password, remember });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\"pages.login.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"text\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label>\n                        {translate(\"pages.login.fields.password\", \"Password\")}\n                    </label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    {rememberMe ?? (\n                        <>\n                            <label>\n                                {translate(\n                                    \"pages.login.buttons.rememberMe\",\n                                    \"Remember me\",\n                                )}\n                                <input\n                                    name=\"remember\"\n                                    type=\"checkbox\"\n                                    size={20}\n                                    checked={remember}\n                                    value={remember.toString()}\n                                    onChange={() => {\n                                        setRemember(!remember);\n                                    }}\n                                />\n                            </label>\n                        </>\n                    )}\n                    <br />\n                    {forgotPasswordLink ??\n                        renderLink(\n                            \"/forgot-password\",\n                            translate(\n                                \"pages.login.buttons.forgotPassword\",\n                                \"Forgot password?\",\n                            ),\n                        )}\n                    <input\n                        type=\"submit\"\n                        value={translate(\"pages.login.signin\", \"Sign in\")}\n                    />\n                    {registerLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.login.buttons.noAccount\",\n                                \"Dont have an account?\",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/register\",\n                                translate(\"pages.login.register\", \"Sign up\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport { RegisterPageProps } from \"../../../../../interfaces\";\n\nimport { useTranslate, useRouterContext, useRegister } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\n\ntype RegisterProps = RegisterPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const RegisterPage: React.FC<RegisterProps> = ({\n    providers,\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const { Link } = useRouterContext();\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const { mutate: register, isLoading } = useRegister();\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <Link to={link}>{text}</Link>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            register({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.register.title\", \"Sign up for your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    register({ email, password });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\"pages.register.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"email\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label>\n                        {translate(\n                            \"pages.register.fields.password\",\n                            \"Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        value={translate(\n                            \"pages.register.buttons.submit\",\n                            \"Sign up\",\n                        )}\n                        disabled={isLoading}\n                    />\n                    {loginLink ?? (\n                        <>\n                            <span>\n                                {translate(\n                                    \"pages.login.buttons.haveAccount\",\n                                    \"Have an account?\",\n                                )}{\" \"}\n                                {renderLink(\n                                    \"login\",\n                                    translate(\"pages.login.signin\", \"Sign in\"),\n                                )}\n                            </span>\n                        </>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\n\nimport { useTranslate, useRouterContext, useForgotPassword } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport {\n    ForgotPasswordFormTypes,\n    ForgotPasswordPageProps,\n} from \"../../../../../interfaces\";\n\ntype ForgotPasswordProps = ForgotPasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const ForgotPasswordPage: React.FC<ForgotPasswordProps> = ({\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const translate = useTranslate();\n    const { Link } = useRouterContext();\n\n    const [email, setEmail] = useState(\"\");\n\n    const { mutate: forgotPassword, isLoading } =\n        useForgotPassword<ForgotPasswordFormTypes>();\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <Link to={link}>{text}</Link>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\n                    \"pages.forgotPassword.title\",\n                    \"Forgot your password?\",\n                )}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    forgotPassword({ email });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\n                            \"pages.forgotPassword.fields.email\",\n                            \"Email\",\n                        )}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"mail\"\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.forgotPassword.buttons.submit\",\n                            \"Send reset instructions\",\n                        )}\n                    />\n                    <br />\n                    {loginLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.register.buttons.haveAccount\",\n                                \"Have an account? \",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/login\",\n                                translate(\"pages.login.signin\", \"Sign in\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport {\n    UpdatePasswordFormTypes,\n    UpdatePasswordPageProps,\n} from \"../../../../../interfaces\";\n\nimport { useTranslate, useUpdatePassword } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\n\ntype UpdatePasswordProps = UpdatePasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const UpdatePasswordPage: React.FC<UpdatePasswordProps> = ({\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const translate = useTranslate();\n\n    const { mutate: updatePassword, isLoading } =\n        useUpdatePassword<UpdatePasswordFormTypes>();\n\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.updatePassword.title\", \"Update Password\")}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    updatePassword({\n                        password: newPassword,\n                        confirmPassword,\n                    });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\n                            \"pages.updatePassword.fields.password\",\n                            \"New Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={newPassword}\n                        onChange={(e) => setNewPassword(e.target.value)}\n                    />\n                    <label>\n                        {translate(\n                            \"pages.updatePassword.fields.confirmPassword\",\n                            \"Confirm New Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"confirmPassword\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.updatePassword.buttons.submit\",\n                            \"Update\",\n                        )}\n                    />\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React from \"react\";\n\n/**\n * **refine** shows a default ready page on root route when no `resources` is passed to the `<Refine>` component as a property.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#readypage} for more details.\n */\nexport const ReadyPage: React.FC = () => {\n    return (\n        <>\n            <h1>Welcome on board</h1>\n            <p>Your configuration is completed.</p>\n            <p>\n                Now you can get started by adding your resources to the{\" \"}\n                <code>`resources`</code> property of <code>{\"`<Refine>`\"}</code>\n            </p>\n            <div style={{ display: \"flex\", gap: 8 }}>\n                <a href=\"https://refine.dev\" target=\"_blank\" rel=\"noreferrer\">\n                    <button>Documentation</button>\n                </a>\n                <a\n                    href=\"https://refine.dev/examples\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Examples</button>\n                </a>\n                <a\n                    href=\"https://discord.gg/refine\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Community</button>\n                </a>\n            </div>\n        </>\n    );\n};\n","import React from \"react\";\nimport {\n    QueryClientProvider,\n    QueryClient,\n    QueryCache,\n    MutationCache,\n    DefaultOptions,\n} from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\n\nimport { AuthContextProvider } from \"@contexts/auth\";\nimport { DataContextProvider } from \"@contexts/data\";\nimport { LiveContextProvider } from \"@contexts/live\";\nimport { TranslationContextProvider } from \"@contexts/translation\";\nimport { ResourceContextProvider, IResourceItem } from \"@contexts/resource\";\nimport { RefineContextProvider } from \"@contexts/refine\";\nimport { UndoableQueueContextProvider } from \"@contexts/undoableQueue\";\nimport { UnsavedWarnContextProvider } from \"@contexts/unsavedWarn\";\nimport { RouterContextProvider } from \"@contexts/router\";\nimport { AccessControlContextProvider } from \"@contexts/accessControl\";\nimport { NotificationContextProvider } from \"@contexts/notification\";\nimport { AuditLogContextProvider } from \"@contexts/auditLog\";\nimport { ReadyPage as DefaultReadyPage, RouteChangeHandler } from \"@components\";\nimport { handleRefineOptions, routeGenerator } from \"@definitions\";\nimport { Telemetry } from \"@components/telemetry\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\n\nimport {\n    MutationMode,\n    IDataContextProvider,\n    I18nProvider,\n    LayoutProps,\n    TitleProps,\n    IRouterProvider,\n    ResourceProps,\n    ILiveContext,\n    LiveModeProps,\n    IDataMultipleContextProvider,\n    AuthProvider,\n    NotificationProvider,\n    AccessControlProvider,\n    AuditLogProvider,\n    DashboardPageProps,\n    IRefineOptions,\n    INotificationContext,\n} from \"../../../interfaces\";\n\ninterface QueryClientConfig {\n    queryCache?: QueryCache;\n    mutationCache?: MutationCache;\n    defaultOptions?: DefaultOptions;\n}\nexport interface RefineProps {\n    children?: React.ReactNode;\n    /**\n     * `resources` is the main building block of a refine app. A resource represents an entity in an endpoint in the API.\n     * @type [`ResourceProps[]`](/docs/api-reference/core/components/refine-config/#resources)\n     */\n    resources?: ResourceProps[];\n    /**\n     * **refine** needs some router functions to create resource pages, handle navigation, etc. This provider allows you to use the router library you want\n     * @type [`IRouterProvider`](/docs/api-reference/core/providers/router-provider/)\n     */\n    routerProvider: IRouterProvider;\n    /**\n     * A `dataProvider` is the place where a refine app communicates with an API. Data providers also act as adapters for refine, making it possible for it to consume different API's and data services.\n     * @type [`IDataContextProvider` | `IDataMultipleContextProvider`](/docs/api-reference/core/providers/data-provider/)\n     */\n    dataProvider: IDataContextProvider | IDataMultipleContextProvider;\n    /**\n     * `authProvider` handles authentication logic like login, logout flow and checking user credentials. It is an object with methods that refine uses when necessary.\n     * @type [`AuthProvider`](/docs/api-reference/core/providers/auth-provider/)\n     */\n    authProvider?: AuthProvider;\n    /**\n     * **refine** lets you add Realtime support to your app via `liveProvider`. It can be used to update and show data in Realtime throughout your app.\n     * @type [`ILiveContext`](/docs/api-reference/core/providers/live-provider/)\n     */\n    liveProvider?: ILiveContext;\n    /**\n     * `notificationProvider` handles notification logics. It is an object with methods that refine uses when necessary.\n     * @type [`NotificationProvider` | `(() => NotificationProvider)`](/docs/api-reference/core/providers/notification-provider/)\n     */\n    notificationProvider?: NotificationProvider | (() => NotificationProvider);\n    /**\n     * `accessControlProvider` is the entry point for implementing access control for refine apps.\n     * @type [`AccessControlProvider`](/docs/api-reference/core/providers/accessControl-provider/)\n     */\n    accessControlProvider?: AccessControlProvider;\n    /**\n     * **refine** allows you to track changes in your data and keep track of who made the changes.\n     * @type [`AuditLogProvider`](/docs/api-reference/core/providers/audit-log-provider#overview)\n     */\n    auditLogProvider?: AuditLogProvider;\n    /**\n     * `i18nProvider` property lets you add i18n support to your app. Making you able to use any i18n framework.\n     * @type [`i18nProvider`](/docs/api-reference/core/providers/i18n-provider/)\n     */\n    i18nProvider?: I18nProvider;\n    /**\n     * A custom error component.\n     * @type [`ReactNode`](/docs/api-reference/core/components/refine-config/#catchall)\n     */\n    catchAll?: React.ReactNode;\n    /**\n     * Custom login component can be passed to the `LoginPage` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#loginpage)\n     */\n    LoginPage?: React.FC;\n    /**\n     * A custom dashboard page can be passed to the `DashboardPage` prop which is accessible on root route.\n     * @type [`React.FC<DashboardPageProps>`](/docs/api-reference/core/components/refine-config/#dashboardpage)\n     */\n    DashboardPage?: React.FC<DashboardPageProps>;\n    /**\n     * Custom ready page component can be set by passing to `ReadyPage` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#readypage)\n     */\n    ReadyPage?: React.FC;\n    /**\n     * Default layout can be customized by passing the `Layout` property.\n     * @type [`React.FC<LayoutProps>`](/docs/api-reference/core/components/refine-config/#layout)\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * The default sidebar can be customized by using refine hooks and passing custom components to `Sider` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#sider)\n     */\n    Sider?: React.FC;\n    /**\n     * The default app header can be customized by passing the `Header` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#header)\n     */\n    Header?: React.FC;\n    /**\n     *The default app footer can be customized by passing the `Footer` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#footer)\n     */\n    Footer?: React.FC;\n    /**\n     * The component wanted to be placed out of app layout structure can be set by passing to `OffLayoutArea` prop.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#offlayoutarea)\n     */\n    OffLayoutArea?: React.FC;\n    /**\n     * TThe app title can be set by passing the `Title` property.\n     * @type [`React.FC<TitleProps>`](/docs/api-reference/core/components/refine-config/#title)\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * Callback to handle all live events.\n     * @type [`(event: LiveEvent) => void`](/docs/api-reference/core/providers/live-provider/#onliveevent)\n     */\n    onLiveEvent?: LiveModeProps[\"onLiveEvent\"];\n    /**\n     * `options` is used to configure the app.\n     * @type [`IRefineOptions`](/docs/api-reference/core/components/refine-config/#options-1)\n     * */\n    options?: IRefineOptions;\n    /**\n     * **refine** implements a simple and transparent telemetry module for collecting usage statistics defined in a very limited scope. This telemetry module is used to improve the refine experience.\n     * @deprecated  `disableTelemetry`  property is deprecated. Use it from within [`options`](/docs/api-reference/core/components/refine-config/#options) instead.\n     * @type [`boolean`](/docs/api-reference/core/components/refine-config/#disabletelemetry)\n     */\n    disableTelemetry?: boolean;\n    /** \n     *  Config for React Query client that refine uses.\n        @deprecated `reactQueryClientConfig` property is deprecated. Use `clientConfig` in `reactQuery` in [`options`](/docs/api-reference/core/components/refine-config/#options) instead.\n        @example  `options={{ reactQuery: { clientConfig: { queryCache: new QueryCache() } } }}`\n        @see https://refine.dev/docs/core/components/refine-config/#clientconfig\n          @type [`QueryClientConfig` | `false`](/docs/api-reference/core/components/refine-config/#reactquery)\n     */\n    reactQueryClientConfig?: QueryClientConfig;\n    /** \n           *  Config for customize React Query Devtools.\n              @deprecated `reactQueryDevtoolConfig` property is deprecated. Use `devtoolConfig` in `reactQuery` in [`options`](/docs/api-reference/core/components/refine-config/#options) instead.\n              @example  `options={{ reactQuery: { devtoolConfig: false } }}`\n              @see https://refine.dev/docs/core/components/refine-config/#devtoolConfig\n              @type [`ReactQueryDevtools` | `false`](/docs/api-reference/core/components/refine-config/#devtoolconfig)\n           */\n    reactQueryDevtoolConfig?:\n        | React.ComponentProps<typeof ReactQueryDevtools>\n        | false;\n\n    /** \n           *  Whether to update data automatically (auto) or not (manual) if a related live event is received. The off value is used to avoid creating a subscription.\n              @deprecated `liveMode` property is deprecated. Use it from within [`options`](/docs/api-reference/core/components/refine-config/#options) instead.\n              @example  `options={{ liveMode: \"auto\" }}`\n              @see https://refine.dev/docs/core/components/refine-config/#livemode\n              @type [`LiveModeProps[\"liveMode\"]`](/docs/api-reference/core/components/refine-config/#livemode)\n           */\n    liveMode?: LiveModeProps[\"liveMode\"];\n    /** \n        @deprecated `disableTelemetry` property is deprecated. Use it from within [`options`](/docs/api-reference/core/components/refine-config/#options) instead.\n        @example  `options={{ disableTelemetry: true }}`\n     */\n    /**\n     * `mutationMode` determines which mode the mutations run with. (e.g. useUpdate, useDelete).\n     * @deprecated `mutationMode` property is deprecated at this level. Use it from within `options` instead.\n     * @type [`MutationMode`](/docs/api-reference/core/components/refine-config/#mutationmode)\n     * @default \"pessimistic\"\n     */\n    mutationMode?: MutationMode;\n    /** \n       * List query parameter values can be edited manually by typing directly in the URL. To activate this feature syncWithLocation needs to be set to true.\n          @deprecated `syncWithLocation` property is deprecated at this level. Use it from within `options` instead.\n          @example  `options={{ syncWithLocation: true }}`\n          @see https://refine.dev/docs/core/components/refine-config/#syncwithlocation\n       *  @type [`boolean`](/docs/api-reference/core/components/refine-config/#syncwithlocation)\n       */\n    syncWithLocation?: boolean;\n    /** \n       *  When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n          @deprecated `warnwhenunsavedchanges` property is deprecated at this level. Use it from within `options` instead.\n          @example  `options={{ warnwhenunsavedchanges: true }}`\n          @see https://refine.dev/docs/core/components/refine-config/#warnwhenunsavedchanges\n      *   @type [`boolean`](/docs/api-reference/core/components/refine-config/#warnwhenunsavedchanges)\n       */\n    warnWhenUnsavedChanges?: boolean;\n    /** \n       *  The duration of the timeout period in undoable mode, shown in milliseconds. Mutations can be cancelled during this period.\n          @deprecated `undoableTimeout` property is deprecated at this level. Use it from within `options` instead.\n          @example  `options={{ undoableTimeout: 5000 }}`\n          @see https://refine.dev/docs/core/components/refine-config/#undoabletimeout\n      *   @type [`number`](/docs/api-reference/core/components/refine-config/#undoabletimeout)\n       */\n    undoableTimeout?: number;\n}\n\n/**\n * {@link https://refine.dev/docs/api-references/components/refine-config `<Refine> component`} is the entry point of a refine app.\n * It is where the highest level of configuration of the app occurs.\n * Only a dataProvider is required to bootstrap the app. After adding a dataProvider, resources can be added as property.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config} for more details.\n */\nexport const Refine: React.FC<RefineProps> = ({\n    authProvider,\n    dataProvider,\n    routerProvider,\n    notificationProvider,\n    accessControlProvider,\n    auditLogProvider,\n    resources: resourcesFromProps,\n    DashboardPage,\n    ReadyPage,\n    LoginPage,\n    catchAll,\n    children,\n    liveProvider,\n    i18nProvider,\n    mutationMode,\n    syncWithLocation,\n    warnWhenUnsavedChanges,\n    undoableTimeout,\n    Title,\n    Layout,\n    Sider,\n    Header,\n    Footer,\n    OffLayoutArea,\n    reactQueryClientConfig,\n    reactQueryDevtoolConfig,\n    liveMode,\n    onLiveEvent,\n    disableTelemetry,\n    options,\n}) => {\n    const {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    } = handleRefineOptions({\n        options,\n        disableTelemetry,\n        liveMode,\n        mutationMode,\n        reactQueryClientConfig,\n        reactQueryDevtoolConfig,\n        syncWithLocation,\n        warnWhenUnsavedChanges,\n        undoableTimeout,\n    });\n\n    const queryClient = useDeepMemo(() => {\n        if (reactQueryWithDefaults.clientConfig instanceof QueryClient) {\n            return reactQueryWithDefaults.clientConfig;\n        }\n\n        return new QueryClient({\n            ...reactQueryWithDefaults.clientConfig,\n            defaultOptions: {\n                ...reactQueryWithDefaults.clientConfig.defaultOptions,\n                queries: {\n                    refetchOnWindowFocus: false,\n                    keepPreviousData: true,\n                    ...reactQueryWithDefaults.clientConfig.defaultOptions\n                        ?.queries,\n                },\n            },\n        });\n    }, [reactQueryWithDefaults.clientConfig]);\n\n    const useNotificationProviderValues = React.useMemo(() => {\n        return typeof notificationProvider === \"function\"\n            ? notificationProvider\n            : () => notificationProvider ?? ({} as INotificationContext);\n    }, [notificationProvider]);\n\n    const notificationProviderContextValues = useNotificationProviderValues();\n\n    const resources: IResourceItem[] = useDeepMemo(() => {\n        const _resources: IResourceItem[] = [];\n\n        resourcesFromProps?.forEach((resource) => {\n            _resources.push({\n                key: resource.key,\n                name: resource.name,\n                label: resource.options?.label,\n                icon: resource.icon,\n                route: routeGenerator(resource, resourcesFromProps),\n                canCreate: !!resource.create,\n                canEdit: !!resource.edit,\n                canShow: !!resource.show,\n                canDelete: resource.canDelete,\n                create: resource.create,\n                show: resource.show,\n                list: resource.list,\n                edit: resource.edit,\n                options: resource.options,\n                parentName: resource.parentName,\n            });\n        });\n\n        return _resources;\n    }, [resourcesFromProps]);\n\n    if (resources.length === 0) {\n        return ReadyPage ? <ReadyPage /> : <DefaultReadyPage />;\n    }\n\n    const { RouterComponent = React.Fragment } = routerProvider;\n\n    return (\n        <QueryClientProvider client={queryClient}>\n            <NotificationContextProvider {...notificationProviderContextValues}>\n                <AuthContextProvider\n                    {...(authProvider ?? {})}\n                    isProvided={Boolean(authProvider)}\n                >\n                    <DataContextProvider {...dataProvider}>\n                        <LiveContextProvider liveProvider={liveProvider}>\n                            <RouterContextProvider {...routerProvider}>\n                                <ResourceContextProvider resources={resources}>\n                                    <TranslationContextProvider\n                                        i18nProvider={i18nProvider}\n                                    >\n                                        <AccessControlContextProvider\n                                            {...(accessControlProvider ?? {})}\n                                        >\n                                            <AuditLogContextProvider\n                                                {...(auditLogProvider ?? {})}\n                                            >\n                                                <UndoableQueueContextProvider>\n                                                    <RefineContextProvider\n                                                        mutationMode={\n                                                            optionsWithDefaults.mutationMode\n                                                        }\n                                                        warnWhenUnsavedChanges={\n                                                            optionsWithDefaults.warnWhenUnsavedChanges\n                                                        }\n                                                        syncWithLocation={\n                                                            optionsWithDefaults.syncWithLocation\n                                                        }\n                                                        Title={Title}\n                                                        undoableTimeout={\n                                                            optionsWithDefaults.undoableTimeout\n                                                        }\n                                                        catchAll={catchAll}\n                                                        DashboardPage={\n                                                            DashboardPage\n                                                        }\n                                                        LoginPage={LoginPage}\n                                                        Layout={Layout}\n                                                        Sider={Sider}\n                                                        Footer={Footer}\n                                                        Header={Header}\n                                                        OffLayoutArea={\n                                                            OffLayoutArea\n                                                        }\n                                                        hasDashboard={\n                                                            !!DashboardPage\n                                                        }\n                                                        liveMode={\n                                                            optionsWithDefaults.liveMode\n                                                        }\n                                                        onLiveEvent={\n                                                            onLiveEvent\n                                                        }\n                                                        options={\n                                                            optionsWithDefaults\n                                                        }\n                                                    >\n                                                        <UnsavedWarnContextProvider>\n                                                            <RouterComponent>\n                                                                {children}\n                                                                {!disableTelemetryWithDefault && (\n                                                                    <Telemetry />\n                                                                )}\n                                                                <RouteChangeHandler />\n                                                            </RouterComponent>\n                                                        </UnsavedWarnContextProvider>\n                                                    </RefineContextProvider>\n                                                </UndoableQueueContextProvider>\n                                            </AuditLogContextProvider>\n                                        </AccessControlContextProvider>\n                                    </TranslationContextProvider>\n                                </ResourceContextProvider>\n                            </RouterContextProvider>\n                        </LiveContextProvider>\n                    </DataContextProvider>\n                </AuthContextProvider>\n            </NotificationContextProvider>\n            {reactQueryWithDefaults.devtoolConfig === false ? null : (\n                <ReactQueryDevtools\n                    initialIsOpen={false}\n                    position=\"bottom-right\"\n                    {...reactQueryWithDefaults.devtoolConfig}\n                />\n            )}\n        </QueryClientProvider>\n    );\n};\n","import { useEffect } from \"react\";\n\nimport { useTelemetryData } from \"@hooks/useTelemetryData\";\n\nimport { ITelemetryData } from \"../../interfaces/telementry\";\n\nconst encode = (payload: ITelemetryData): string => {\n    const stringifyedPayload = JSON.stringify(payload || {});\n\n    if (typeof btoa !== \"undefined\") {\n        return btoa(stringifyedPayload);\n    }\n\n    return Buffer.from(stringifyedPayload).toString(\"base64\");\n};\n\nexport const Telemetry: React.FC<{}> = () => {\n    const payload = useTelemetryData();\n\n    useEffect(() => {\n        if (typeof window === \"undefined\" && !Image) {\n            return;\n        }\n\n        const img = new Image();\n        img.src = `https://telemetry.refine.dev/telemetry?payload=${encode(\n            payload,\n        )}`;\n    }, []);\n\n    return null;\n};\n","import { useContext } from \"react\";\n\nimport { AuthContext } from \"@contexts/auth\";\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { LiveContext } from \"@contexts/live\";\nimport { RouterContext } from \"@contexts/router\";\nimport { DataContext } from \"@contexts/data\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { NotificationContext } from \"@contexts/notification\";\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { useResource } from \"@hooks/resource\";\n\nimport { ITelemetryData } from \"../../interfaces/telementry\";\n\n// It reads and updates from package.json during build. ref: tsup.config.ts\nconst REFINE_VERSION = \"3.90.6\";\n\nexport const useTelemetryData = (): ITelemetryData => {\n    const authContext = useContext(AuthContext);\n    const auditLogContext = useContext(AuditLogContext);\n    const liveContext = useContext(LiveContext);\n    const routerContext = useContext(RouterContext);\n    const dataContext = useContext(DataContext);\n    const { i18nProvider } = useContext(TranslationContext);\n    const notificationContext = useContext(NotificationContext);\n    const accessControlContext = useContext(AccessControlContext);\n    const { resources } = useResource();\n\n    const auth = authContext.isProvided;\n\n    const auditLog =\n        !!auditLogContext.create ||\n        !!auditLogContext.get ||\n        !!auditLogContext.update;\n\n    const live =\n        !!liveContext?.publish ||\n        !!liveContext?.subscribe ||\n        !!liveContext?.unsubscribe;\n\n    const router =\n        !!routerContext.useHistory ||\n        !!routerContext.Link ||\n        !!routerContext.Prompt ||\n        !!routerContext.useLocation ||\n        !!routerContext.useParams;\n\n    const data = !!dataContext;\n\n    const i18n =\n        !!i18nProvider?.changeLocale ||\n        !!i18nProvider?.getLocale ||\n        !!i18nProvider?.translate;\n\n    const notification =\n        !!notificationContext.close || !!notificationContext.open;\n\n    const accessControl = !!accessControlContext.can;\n\n    return {\n        providers: {\n            auth,\n            auditLog,\n            live,\n            router,\n            data,\n            i18n,\n            notification,\n            accessControl,\n        },\n        version: REFINE_VERSION,\n        resourceCount: resources.length,\n    };\n};\n","import React, { useMemo } from \"react\";\nimport { useMemoized } from \"@hooks/memoized\";\n\n/**\n * Hook that memoizes the given dependency array and checks the consecutive calls with deep equality and returns the same value as the first call if dependencies are not changed.\n * @internal\n */\nexport const useDeepMemo = <T,>(\n    fn: () => T,\n    dependencies: React.DependencyList,\n): T => {\n    const memoizedDependencies = useMemoized(dependencies);\n\n    const value = useMemo(fn, memoizedDependencies);\n\n    return value;\n};\n","import { useRef } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\n/**\n * Hook that memoizes the given value with deep equality.\n * @internal\n */\nexport const useMemoized = <T = unknown,>(value: T): T => {\n    const ref = useRef(value);\n\n    if (!isEqual(ref.current, value)) {\n        ref.current = value;\n    }\n\n    return ref.current;\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport { useCancelNotification, useNotification, useTranslate } from \"@hooks\";\nimport { IUndoableQueue } from \"../../interfaces\";\n\nimport { userFriendlySecond } from \"@definitions/helpers\";\n\nexport const UndoableQueue: React.FC<{\n    notification: IUndoableQueue;\n}> = ({ notification }) => {\n    const translate = useTranslate();\n\n    const { notificationDispatch } = useCancelNotification();\n    const { open } = useNotification();\n\n    const [timeoutId, setTimeoutId] = useState<number | undefined>();\n\n    const cancelNotification = () => {\n        if (notification.isRunning === true) {\n            if (notification.seconds === 0) {\n                notification.doMutation();\n            }\n            if (!notification.isSilent) {\n                open?.({\n                    key: `${notification.id}-${notification.resource}-notification`,\n                    type: \"progress\",\n                    message: translate(\n                        \"notifications.undoable\",\n                        {\n                            seconds: userFriendlySecond(notification.seconds),\n                        },\n                        `You have ${userFriendlySecond(\n                            notification.seconds,\n                        )} seconds to undo`,\n                    ),\n                    cancelMutation: notification.cancelMutation,\n                    undoableTimeout: userFriendlySecond(notification.seconds),\n                });\n            }\n\n            if (notification.seconds > 0) {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n\n                const newTimeoutId = setTimeout(() => {\n                    notificationDispatch({\n                        type: ActionTypes.DECREASE_NOTIFICATION_SECOND,\n                        payload: {\n                            id: notification.id,\n                            seconds: notification.seconds,\n                            resource: notification.resource,\n                        },\n                    });\n                }, 1000) as unknown as number;\n\n                setTimeoutId(newTimeoutId);\n            }\n        }\n    };\n\n    useEffect(() => {\n        cancelNotification();\n    }, [notification]);\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\n\nimport {\n    useRefineContext,\n    useRouterContext,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@hooks\";\nimport { LayoutProps, TitleProps } from \"../../interfaces\";\n\nexport interface LayoutWrapperProps {\n    /**\n     * Outer component that renders other components\n     * @default *\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * [Custom sider to use](/api-reference/core/components/refine-config.md#sider)\n     * @default *\n     */\n    Sider?: React.FC;\n    /**\n     * [Custom header to use](/api-reference/core/components/refine-config.md#header)\n     * @default *\n     */\n    Header?: React.FC;\n    /**\n     * [Custom title to use](/api-reference/core/components/refine-config.md#title)\n     * @default *\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * [Custom footer to use](/api-reference/core/components/refine-config.md#footer)\n     * @default *\n     */\n    Footer?: React.FC;\n    /**\n     * [Custom off layout area to use](/api-reference/core/components/refine-config.md#offlayoutarea)\n     * @default *\n     */\n    OffLayoutArea?: React.FC;\n    children: React.ReactNode;\n}\n\n/**\n * `<LayoutWrapper>` wraps its contents in **refine's** layout with all customizations made in {@link https://refine.dev/docs/core/components/refine-config `<Refine>`} component.\n * It is the default layout used in resource pages.\n * It can be used in custom pages to use global layout.\n *\n * @see {@link https://refine.dev/docs/core/components/layout-wrapper} for more details.\n */\nexport const LayoutWrapper: React.FC<LayoutWrapperProps> = ({\n    children,\n    Layout: LayoutFromProps,\n    Sider: SiderFromProps,\n    Header: HeaderFromProps,\n    Title: TitleFromProps,\n    Footer: FooterFromProps,\n    OffLayoutArea: OffLayoutAreaFromProps,\n}) => {\n    const { Layout, Footer, Header, Sider, Title, OffLayoutArea } =\n        useRefineContext();\n\n    const LayoutToRender = LayoutFromProps ?? Layout;\n\n    return (\n        <LayoutToRender\n            Sider={SiderFromProps ?? Sider}\n            Header={HeaderFromProps ?? Header}\n            Footer={FooterFromProps ?? Footer}\n            Title={TitleFromProps ?? Title}\n            OffLayoutArea={OffLayoutAreaFromProps ?? OffLayoutArea}\n        >\n            {children}\n            <UnsavedPrompt />\n        </LayoutToRender>\n    );\n};\n\nconst UnsavedPrompt: React.FC = () => {\n    const { Prompt } = useRouterContext();\n\n    const translate = useTranslate();\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n\n    const warnWhenListener = (e: {\n        preventDefault: () => void;\n        returnValue: string;\n    }) => {\n        e.preventDefault();\n\n        e.returnValue = translate(\n            \"warnWhenUnsavedChanges\",\n            \"Are you sure you want to leave? You have unsaved changes.\",\n        );\n\n        return e.returnValue;\n    };\n\n    useEffect(() => {\n        if (warnWhen) {\n            window.addEventListener(\"beforeunload\", warnWhenListener);\n        }\n\n        return window.removeEventListener(\"beforeunload\", warnWhenListener);\n    }, [warnWhen]);\n\n    return (\n        <Prompt\n            when={warnWhen}\n            message={translate(\n                \"warnWhenUnsavedChanges\",\n                \"Are you sure you want to leave? You have unsaved changes.\",\n            )}\n            setWarnWhen={setWarnWhen}\n        />\n    );\n};\n","import React from \"react\";\n\nimport { useAuthenticated, useNavigation, useRouterContext } from \"@hooks\";\n\nexport type AuthenticatedProps = {\n    /**\n     * Content to show if user is not logged in. If undefined, routes to `/`\n     */\n    fallback?: React.ReactNode;\n    /**\n     * Content to show while checking whether user is logged in\n     */\n    loading?: React.ReactNode;\n    children: React.ReactNode;\n};\n\n/**\n * `<Authenticated>` is the component form of {@link https://refine.dev/docs/core/hooks/auth/useAuthenticated `useAuthenticated`}. It internally uses `useAuthenticated` to provide it's functionality.\n *\n * @see {@link https://refine.dev/docs/core/components/auth/authenticated `<Authenticated>`} component for more details.\n */\nexport const Authenticated: React.FC<AuthenticatedProps> = ({\n    children,\n    fallback,\n    loading,\n}) => {\n    const { isSuccess, isLoading, isError } = useAuthenticated();\n\n    const { replace } = useNavigation();\n    const { useLocation } = useRouterContext();\n    const { pathname, search } = useLocation();\n\n    if (isLoading) {\n        return <>{loading}</> || null;\n    }\n    if (isError) {\n        if (!fallback) {\n            const toURL = `${pathname}${search}`;\n            if (!pathname.includes(\"/login\")) {\n                replace(`/login?to=${encodeURIComponent(toURL)}`);\n            }\n            return null;\n        }\n\n        return <>{fallback}</>;\n    }\n\n    if (isSuccess) {\n        return <>{children}</>;\n    }\n\n    return null;\n};\n","import { useContext, useEffect } from \"react\";\nimport { AuthContext } from \"@contexts/auth\";\nimport { useRouterContext } from \"@hooks\";\n\nimport { IAuthContext } from \"../../interfaces\";\n\nexport const RouteChangeHandler: React.FC = () => {\n    const { useLocation } = useRouterContext();\n\n    const { checkAuth } = useContext<IAuthContext>(AuthContext);\n    const location = useLocation();\n\n    useEffect(() => {\n        checkAuth?.().catch(() => false);\n    }, [location?.pathname]);\n\n    return null;\n};\n","import React from \"react\";\n\nimport { useCan } from \"@hooks\";\nimport { CanParams } from \"../../interfaces\";\n\nexport type CanAccessProps = CanParams & {\n    /**\n     * Content to show if access control returns `false`\n     */\n    fallback?: React.ReactNode;\n    children: React.ReactNode;\n};\n\nexport const CanAccess: React.FC<CanAccessProps> = ({\n    resource,\n    action,\n    params,\n    fallback,\n    children,\n    ...rest\n}) => {\n    const { data } = useCan({\n        resource,\n        action,\n        params,\n    });\n\n    if (data?.can) {\n        if (React.isValidElement(children)) {\n            const Children = React.cloneElement(children, rest);\n            return Children;\n        }\n\n        return <>{children}</>;\n    }\n\n    if (data?.can === false) {\n        return <>{fallback ?? null}</>;\n    }\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\nimport {\n    useForm as useHookForm,\n    UseFormProps as UseHookFormProps,\n    UseFormReturn,\n    FieldValues,\n    UseFormHandleSubmit,\n    SubmitHandler,\n    SubmitErrorHandler,\n} from \"react-hook-form\";\nimport {\n    BaseRecord,\n    HttpError,\n    useForm as useFormCore,\n    useWarnAboutChange,\n    UseFormProps as UseFormCoreProps,\n    UseFormReturnType as UseFormReturnTypeCore,\n} from \"@pankod/refine-core\";\n\nexport type UseFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturn<TVariables, TContext> & {\n    refineCore: UseFormReturnTypeCore<TData, TError, TVariables>;\n    saveButtonProps: {\n        disabled: boolean;\n        onClick: (e: React.BaseSyntheticEvent) => void;\n    };\n};\n\nexport type UseFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = {\n    /**\n     * Configuration object for the core of the [useForm](/docs/api-reference/core/hooks/useForm/)\n     * @type [`UseFormCoreProps<TData, TError, TVariables>`](/docs/api-reference/core/hooks/useForm/#properties)\n     */\n    refineCoreProps?: UseFormCoreProps<TData, TError, TVariables>;\n    /**\n     * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n     * @default `false*`\n     */\n    warnWhenUnsavedChanges?: boolean;\n} & UseHookFormProps<TVariables, TContext>;\n\nexport const useForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    refineCoreProps,\n    warnWhenUnsavedChanges: warnWhenUnsavedChangesProp,\n    ...rest\n}: UseFormProps<TData, TError, TVariables, TContext> = {}): UseFormReturnType<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> => {\n    const {\n        warnWhenUnsavedChanges: warnWhenUnsavedChangesRefine,\n        setWarnWhen,\n    } = useWarnAboutChange();\n    const warnWhenUnsavedChanges =\n        warnWhenUnsavedChangesProp ?? warnWhenUnsavedChangesRefine;\n\n    const useFormCoreResult = useFormCore<TData, TError, TVariables>({\n        ...refineCoreProps,\n    });\n\n    const { queryResult, onFinish, formLoading } = useFormCoreResult;\n\n    const useHookFormResult = useHookForm<TVariables, TContext>({\n        ...rest,\n    });\n\n    const {\n        watch,\n        reset,\n        getValues,\n        handleSubmit: handleSubmitReactHookForm,\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (typeof queryResult?.data !== \"undefined\") {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data || {}).forEach(\n                ([key, value]) => {\n                    if (registeredFields.includes(key)) {\n                        fields[key] = value;\n                    }\n                },\n            );\n\n            reset(fields as any);\n        }\n    }, [queryResult?.data]);\n\n    useEffect(() => {\n        const subscription = watch((values: any, { type }: { type?: any }) => {\n            if (type === \"change\") {\n                onValuesChange(values);\n            }\n        });\n        return () => subscription.unsubscribe();\n    }, [watch]);\n\n    const onValuesChange = (changeValues: Record<string, any>) => {\n        if (warnWhenUnsavedChanges) {\n            setWarnWhen(true);\n        }\n        return changeValues;\n    };\n\n    const handleSubmit: UseFormHandleSubmit<TVariables> =\n        (onValid, onInvalid) => async (e) => {\n            setWarnWhen(false);\n            return await handleSubmitReactHookForm(onValid, onInvalid)(e);\n        };\n\n    const saveButtonProps = {\n        disabled: formLoading,\n        onClick: (e: React.BaseSyntheticEvent) => {\n            handleSubmit(onFinish, () => false)(e);\n        },\n    };\n\n    return {\n        ...useHookFormResult,\n        handleSubmit,\n        refineCore: useFormCoreResult,\n        saveButtonProps,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport { BaseRecord, HttpError } from \"@pankod/refine-core\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\n\nexport type UseStepsFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    steps: {\n        currentStep: number;\n        gotoStep: (step: number) => void;\n    };\n};\n\nexport type UseStepsFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the steps.\n     * `defaultStep`: Allows you to set the initial step.\n     * \n     * `isBackValidate`: Whether to validation the current step when going back.\n     * @type `{\n      defaultStep?: number;\n      isBackValidate?: boolean;\n      }`\n     * @default `defaultStep = 0` `isBackValidate = false`\n     */\n    stepsProps?: {\n        defaultStep?: number;\n        isBackValidate?: boolean;\n    };\n};\n\nexport const useStepsForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    stepsProps,\n    ...rest\n}: UseStepsFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseStepsFormReturnType<TData, TError, TVariables, TContext> => {\n    const { defaultStep = 0, isBackValidate = false } = stepsProps ?? {};\n    const [current, setCurrent] = useState(defaultStep);\n\n    const useHookFormResult = useForm({\n        ...rest,\n    });\n    const {\n        trigger,\n        getValues,\n        reset,\n        formState: { dirtyFields },\n        refineCore: { queryResult },\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (queryResult?.data) {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data).forEach(([key, value]) => {\n                if (registeredFields.includes(key)) {\n                    if (dirtyFields[key]) {\n                        fields[key] = getValues(key as any);\n                    } else {\n                        fields[key] = value;\n                    }\n                }\n            });\n\n            reset(fields as any, {\n                keepDirty: true,\n                keepValues: true,\n            });\n        }\n    }, [queryResult?.data, current]);\n\n    const go = (step: number) => {\n        let targetStep = step;\n\n        if (step < 0) {\n            targetStep = 0;\n        }\n\n        setCurrent(targetStep);\n    };\n\n    const gotoStep = async (step: number) => {\n        if (step === current) {\n            return;\n        }\n\n        if (step < current && !isBackValidate) {\n            go(step);\n            return;\n        }\n\n        const isValid = await trigger();\n        if (isValid) {\n            go(step);\n        }\n    };\n\n    return {\n        ...useHookFormResult,\n        steps: {\n            currentStep: current,\n            gotoStep,\n        },\n    };\n};\n","import { useCallback } from \"react\";\nimport {\n    BaseKey,\n    BaseRecord,\n    HttpError,\n    useModal,\n    useResource,\n    userFriendlyResourceName,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@pankod/refine-core\";\nimport { FieldValues } from \"react-hook-form\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\n\nexport type UseModalFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    modal: {\n        submit: (values: TVariables) => void;\n        close: () => void;\n        show: (id?: BaseKey) => void;\n        visible: boolean;\n        title: string;\n    };\n};\n\nexport type UseModalFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the modal.\n     * `defaultVisible`: Initial visibility state of the modal.\n     * \n     * `autoSubmitClose`: Whether the form should be submitted when the modal is closed.\n     * \n     * `autoResetForm`: Whether the form should be reset when the form is submitted.\n     * @type `{\n      defaultVisible?: boolean;\n      autoSubmitClose?: boolean;\n      autoResetForm?: boolean;\n      }`\n     * @default `defaultVisible = false` `autoSubmitClose = true` `autoResetForm = true`\n     */\n    modalProps?: {\n        defaultVisible?: boolean;\n        autoSubmitClose?: boolean;\n        autoResetForm?: boolean;\n    };\n};\n\nexport const useModalForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    modalProps,\n    refineCoreProps,\n    ...rest\n}: UseModalFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseModalFormReturnType<TData, TError, TVariables, TContext> => {\n    const translate = useTranslate();\n\n    const { resource: resourceProp, action: actionProp } =\n        refineCoreProps ?? {};\n    const {\n        defaultVisible = false,\n        autoSubmitClose = true,\n        autoResetForm = true,\n    } = modalProps ?? {};\n\n    const useHookFormResult = useForm<TData, TError, TVariables, TContext>({\n        refineCoreProps,\n        ...rest,\n    });\n\n    const {\n        reset,\n        refineCore: { onFinish, setId },\n        saveButtonProps,\n        handleSubmit,\n    } = useHookFormResult;\n\n    const { visible, show, close } = useModal({\n        defaultVisible,\n    });\n\n    const submit = async (values: TVariables) => {\n        await onFinish(values);\n\n        if (autoSubmitClose) {\n            close();\n        }\n\n        if (autoResetForm) {\n            reset();\n        }\n    };\n\n    const { resourceName } = useResource({\n        resourceNameOrRouteName: resourceProp,\n    });\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n    const handleClose = useCallback(() => {\n        if (warnWhen) {\n            const warnWhenConfirm = window.confirm(\n                translate(\n                    \"warnWhenUnsavedChanges\",\n                    \"Are you sure you want to leave? You have unsaved changes.\",\n                ),\n            );\n\n            if (warnWhenConfirm) {\n                setWarnWhen(false);\n            } else {\n                return;\n            }\n        }\n\n        setId?.(undefined);\n        close();\n    }, [warnWhen]);\n\n    const handleShow = useCallback((id?: BaseKey) => {\n        setId?.(id);\n\n        show();\n    }, []);\n\n    const title = translate(\n        `${resourceName}.titles.${actionProp}`,\n        undefined,\n        `${userFriendlyResourceName(\n            `${actionProp} ${resourceName}`,\n            \"singular\",\n        )}`,\n    );\n\n    return {\n        modal: {\n            submit,\n            close: handleClose,\n            show: handleShow,\n            visible,\n            title,\n        },\n        ...useHookFormResult,\n        saveButtonProps: {\n            ...saveButtonProps,\n            onClick: (e) => handleSubmit(submit)(e),\n        },\n    };\n};\n","export { useForm, UseFormProps, UseFormReturnType } from \"./useForm\";\nexport {\n    useStepsForm,\n    UseStepsFormProps,\n    UseStepsFormReturnType,\n} from \"./useStepsForm\";\nexport {\n    useModalForm,\n    UseModalFormProps,\n    UseModalFormReturnType,\n} from \"./useModalForm\";\n\nexport type {\n    BatchFieldArrayUpdate,\n    ChangeHandler,\n    Control,\n    ControllerFieldState,\n    ControllerProps,\n    ControllerRenderProps,\n    CriteriaMode,\n    CustomElement,\n    DeepMap,\n    DeepPartial,\n    DeepPartialSkipArrayKey,\n    DefaultValues,\n    DelayCallback,\n    EmptyObject,\n    ErrorOption,\n    EventType,\n    Field,\n    FieldArray,\n    FieldArrayMethodProps,\n    FieldArrayWithId,\n    FieldElement,\n    FieldError,\n    FieldErrors,\n    FieldName,\n    FieldNamesMarkedBoolean,\n    FieldRefs,\n    FieldValue,\n    FieldValues,\n    FormProviderProps,\n    FormState,\n    FormStateProxy,\n    FormStateSubjectRef,\n    GetIsDirty,\n    InternalFieldErrors,\n    InternalFieldName,\n    InternalNameSet,\n    IsAny,\n    IsFlatObject,\n    KeepStateOptions,\n    LiteralUnion,\n    Message,\n    Mode,\n    MultipleFieldErrors,\n    Names,\n    NativeFieldValue,\n    NestedValue,\n    NonUndefined,\n    Noop,\n    Primitive,\n    ReadFormState,\n    Ref,\n    RefCallBack,\n    RegisterOptions,\n    Resolver,\n    ResolverError,\n    ResolverOptions,\n    ResolverResult,\n    ResolverSuccess,\n    SetFieldValue,\n    SetValueConfig,\n    Subjects,\n    SubmitErrorHandler,\n    SubmitHandler,\n    TriggerConfig,\n    UnpackNestedValue,\n    UseControllerProps,\n    UseControllerReturn,\n    UseFieldArrayProps,\n    UseFieldArrayReturn,\n    UseFieldArrayReplace,\n    UseFormClearErrors,\n    UseFormGetValues,\n    UseFormHandleSubmit,\n    UseFormProps as UseReactHookFormProps,\n    UseFormRegister,\n    UseFormRegisterReturn,\n    UseFormReset,\n    UseFormResetField,\n    UseFormReturn,\n    UseFormSetError,\n    UseFormSetFocus,\n    UseFormSetValue,\n    UseFormStateProps,\n    UseFormStateReturn,\n    UseFormTrigger,\n    UseFormUnregister,\n    UseFormWatch,\n    UseWatchProps,\n    Validate,\n    ValidateResult,\n    ValidationMode,\n    ValidationRule,\n    ValidationValue,\n    ValidationValueMessage,\n    WatchInternal,\n    WatchObserver,\n    ArrayPath,\n    FieldPath,\n    FieldPathValue,\n    FieldPathValues,\n    BrowserNativeObject,\n    DeepRequired,\n    FieldErrorsImpl,\n    IsNever,\n    Merge,\n    SetFocusOptions,\n    UseFieldArrayAppend,\n    UseFieldArrayInsert,\n    UseFieldArrayMove,\n    UseFieldArrayPrepend,\n    UseFieldArrayRemove,\n    UseFieldArraySwap,\n    UseFieldArrayUpdate,\n    UseFormGetFieldState,\n    FieldArrayPath,\n    FieldArrayPathValue,\n    FieldPathByValue,\n    PathString,\n    Path,\n    PathValue,\n} from \"react-hook-form\";\n\nexport {\n    appendErrors,\n    get,\n    set,\n    useController,\n    useFieldArray,\n    useForm as useReactHookForm,\n    useFormContext,\n    useFormState,\n    useWatch,\n    Controller,\n    FormProvider,\n} from \"react-hook-form\";\n"],"mappings":"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","names":["src_exports","__export","AuthPage","Authenticated","CanAccess","ErrorComponent","LayoutWrapper","LoginPage","ReadyPage","Refine","RouteChangeHandler","UndoableQueue","createTreeView","file2Base64","getDefaultFilter","getDefaultSortOrder","handleUseParams","importCSVMapper","parseTableParams","parseTableParamsFromQuery","routeGenerator","setInitialFilters","setInitialSorters","stringifyTableParams","unionFilters","unionSorters","useApiUrl","useAuthenticated","useBreadcrumb","useCan","useCanWithoutCache","useCancelNotification","useCheckError","useCreate","useCreateMany","useCustom","useCustomMutation","useDataProvider","useDelete","useDeleteMany","useExport","useForgotPassword","useForm","useGetIdentity","useGetLocale","useHandleNotification","useImport","useInvalidate","useIsExistAuthentication","useList","useLiveMode","useLog","useLogList","useLogin","useLogout","useMany","useMenu","useModal","useMutationMode","useNavigation","useNotification","useOne","usePermissions","usePublish","useRedirectionAfterSubmission","useRefineContext","useRegister","useResource","useResourceSubscription","useResourceWithRoute","useRouterContext","useSelect","useSetLocale","useShow","useSubscription","useSyncWithLocation","useTable","useTitle","useTranslate","useUpdate","useUpdateMany","useUpdatePassword","useWarnAboutChange","userFriendlyResourceName","module","__toCommonJS","import_react","h","import_react_query","AuthContext","tr","React","AuthContextProvider","children","isProvided","authOperations","replace","queryClient","Kr","invalidateAuthStore","loginFunc","params","_a","result","error","registerFunc","logoutFunc","redirectPath","checkAuthFunc","options","getPermissions","Hr","$r","queryOptions","getUserIdentity","Gr","zr","push","logoutFromContext","qr","open","_r","data","variables","import_qs","loginFromContext","jr","useLocation","search","close","to","Zr","qs","Yr","redirectPathFromAuth","registerFromContext","Jr","Xr","forgotPasswordFromContext","eo","updatePasswordFromContext","ro","queryStrings","ao","oo","checkAuth","no","so","checkErrorFromContext","io","logout","uo","co","userFriendlySecond","miliseconds","import_zip","import_fromPairs","mapData","item","headers","body","entry","mo","fromPairs","lo","zip","index","array","import_pluralize","import_unionWith","import_differenceWith","import_warn_once","url","current","pageSize","sorter","filters","St","pagination","rest","compareFilters","left","right","compareSorters","permanentFilter","newFilters","prevFilters","f","fo","warnOnce","rr","unionWith","crudFilter","permanentSorter","newSorters","crudSorter","defaultFilter","or","differenceWith","defaultSorter","columnName","sortItem","operatorType","filter","operator","field","file","resolve","reject","reader","resultHandler","resource","type","humanizeResource","humanizeString","ar","pluralize","queryKeys","dataProviderName","metaData","providerName","keys","config","ids","id","meta","hasPermission","permissions","action","i","getParentOf","resourceItem","resourcesFromProps","_b","_c","_d","_e","route","resourceRoute","parent","resources","tree","resourcesRouteObject","resourcesNameObject","child","name","text","DefaultLayout","Po","defaultRefineOptions","RefineContext","ur","RefineContextProvider","hasDashboard","mutationMode","warnWhenUnsavedChanges","syncWithLocation","undoableTimeout","DashboardPage","Title","Layout","Header","Sider","Footer","OffLayoutArea","catchAll","liveMode","onLiveEvent","handleRefineOptions","disableTelemetry","reactQueryClientConfig","reactQueryDevtoolConfig","_f","_g","_h","_i","_j","_k","_l","_m","_n","_o","_p","_q","_s","_t","_u","_v","_w","_x","optionsWithDefaults","disableTelemetryWithDefault","reactQueryWithDefaults","redirectPage","redirectFromProps","redirectOptions","sequentialPromises","promises","onEachResolve","onEachReject","results","promise","pickDataProvider","resourceName","handleMultiple","res","successNotification","errorNotification","liveParams","dataProvider","queryKey","getList","translate","checkError","handleNotification","isEnabled","bo","pageParam","signal","hasPagination","restConfig","notificationConfig","err","getOne","Do","getMany","ho","import_isEqual","UndoableQueueContext","initialState","undoableQueueReducer","state","notificationItem","At","isEqual","UndoableQueueContextProvider","notifications","notificationDispatch","notificationData","notification","Nt","mutationModeContext","undoableTimeoutContext","publish","log","invalidateStore","values","onCancel","mutationModePropOrContext","undoableTimeoutPropOrContext","doMutation","cancelMutation","previousQueries","previous","record","_data","_error","invalidates","context","resourceSingular","mr","previousData","queryData","acc","fields","operation","query","Eo","successNotificationFromProp","fr","errorNotificationFromProp","Ft","yr","Io","selectedDataProvider","val","response","resourcePlural","Lo","Kt","mutationFn","gr","Wt","wo","getApiUrl","method","custom","Ao","No","defaultDataProvider","DataContext","Cr","DataContextProvider","dataProviders","Ht","LiveContext","Tr","LiveContextProvider","liveProvider","channel","types","enabled","liveModeFromProp","Ko","liveDataContext","dt","liveModeFromContext","onLiveEventContextCallback","subscription","event","Wo","$t","liveContext","Ho","ResourceContext","xr","ResourceContextProvider","propResourceName","resourceNameOrRouteName","recordItemId","Oo","resourceWithRoute","useParams","Ot","p","resourceWithName","Go","NotificationContext","Gt","NotificationContextProvider","qo","fallbackNotification","TranslationContext","Pr","TranslationContextProvider","i18nProvider","zt","lang","qt","key","defaultMessage","Jo","UnsavedWarnContext","mt","UnsavedWarnContextProvider","warnWhen","setWarnWhen","br","ea","ta","oa","import_export_to_csv_fix_source_map","maxItemCount","exportOptions","onError","isLoading","setIsLoading","aa","routeResourceName","filename","rawData","preparingData","total","na","resourceFromProps","actionFromProps","idFromProps","onMutationSuccess","onMutationError","mutationModeProp","resourceFromRoute","actionFromRoute","idFromParams","defaultId","setId","Dr","isCreate","isEdit","isClone","redirect","enableQuery","queryResult","isFetchingQuery","mutationResultCreate","mutateCreate","isLoadingCreate","mutationResultUpdate","mutateUpdate","isLoadingUpdate","handleSubmitWithRedirect","onSuccess","_","responseId","idFromFunction","show","edit","list","create","sa","useHistory","history","handleUrl","createUrl","editUrl","encodedId","cloneUrl","showUrl","listUrl","path","resourceFromProp","idFromRoute","showId","setShowId","Yt","import_papaparse","import_chunk","paparseOptions","batchSize","onFinish","onProgress","processedAmount","setProcessedAmount","Je","totalAmount","setTotalAmount","createMany","mutationResult","handleCleanup","handleFinish","createdValues","handleChange","ia","valueFns","value","currentAmount","chunks","ua","chunk","chunkedFns","chunkedValues","currentBatchLength","defaultVisible","visible","setVisible","ft","defaultProvider","RouterContext","Er","RouterContextProvider","Prompt","Link","routes","pa","AccessControlContext","Mr","AccessControlContextProvider","can","la","_resource","paramsRest","_icon","_list","_edit","_create","_show","_children","restResource","queryResponse","ma","fa","import_uniqBy","import_debounce","import_get","props","setSearch","Me","setOptions","selectedOptions","setSelectedOptions","sort","optionLabel","optionValue","debounceValue","defaultValueQueryOptionsFromProps","fetchSize","defaultValue","onSearchFromProp","defaultValues","defaultValueQueryOnSuccess","gt","get","defaultValueQueryOptions","defaultValueQueryResult","defaultQueryOnSuccess","onSearch","ya","uniqBy","ga","debounce","defaultPermanentFilter","defaultPermanentSorter","initialCurrent","initialPageSize","initialSorter","defaultSetFilterBehavior","initialFilter","syncWithLocationProp","syncWithLocationContext","pathname","parsedCurrent","parsedPageSize","parsedSorter","parsedFilters","defaultCurrent","defaultPageSize","setSorter","Re","setFilters","setCurrent","setPageSize","createLinkForSyncWithLocation","currentQueryParams","Lr","stringifyParams","queryParams","Sr","wr","setFiltersAsMerge","setFiltersAsReplace","setFiltersWithSetter","setter","prev","setFiltersFn","setterOrFilters","behavior","setSortWithUnion","newSorter","paginationValues","AuditLogContext","AuditLogContextProvider","update","Ct","auditLogContext","Ur","identityData","refetch","logPermissions","authorData","rename","author","Ta","Ra","Pa","xa","va","breadcrumbs","addBreadcrumb","parentName","parentResource","actionLabel","ba","location","selectedKey","Ke","selectedResource","el","_selectedKey","treeMenuItems","menuItems","crawlNestedKeys","currentKey","currentResources","isParent","currentElement","keysArray","defaultOpenKeys","filterMenuItemsByListViewAndHideOption","menus","menuItem","obj","errorMessage","setErrorMessage","xe","actionTypes","username","setUsername","X","password","setPassword","login","e","providers","registerLink","forgotPasswordLink","rememberMe","contentProps","wrapperProps","renderContent","formProps","email","setEmail","K","remember","setRemember","renderLink","link","renderProviders","provider","content","RegisterPage","loginLink","q","register","ForgotPasswordPage","oe","forgotPassword","UpdatePasswordPage","updatePassword","newPassword","setNewPassword","ae","confirmPassword","setConfirmPassword","We","ne","import_react_query_devtools","REFINE_VERSION","useTelemetryData","authContext","Ie","routerContext","dataContext","notificationContext","accessControlContext","auth","auditLog","live","router","i18n","accessControl","encode","payload","stringifyedPayload","Telemetry","Qa","img","useMemoized","ref","Aa","Ba","useDeepMemo","fn","dependencies","memoizedDependencies","ka","authProvider","routerProvider","notificationProvider","accessControlProvider","auditLogProvider","Tt","notificationProviderContextValues","_resources","RouterComponent","Fa","timeoutId","setTimeoutId","Xt","cancelNotification","newTimeoutId","LayoutFromProps","SiderFromProps","HeaderFromProps","TitleFromProps","FooterFromProps","OffLayoutAreaFromProps","LayoutToRender","Xe","UnsavedPrompt","warnWhenListener","fallback","loading","isSuccess","isError","He","toURL","er","import_react","import_react_hook_form","import_refine_core","useForm","refineCoreProps","warnWhenUnsavedChangesProp","rest","warnWhenUnsavedChangesRefine","setWarnWhen","warnWhenUnsavedChanges","useFormCoreResult","useFormCore","queryResult","onFinish","formLoading","useHookFormResult","useHookForm","watch","reset","getValues","handleSubmitReactHookForm","_a","fields","registeredFields","key","value","subscription","values","type","onValuesChange","changeValues","handleSubmit","onValid","onInvalid","e","import_react","useStepsForm","stepsProps","rest","defaultStep","isBackValidate","current","setCurrent","useHookFormResult","useForm","trigger","getValues","reset","dirtyFields","queryResult","_a","fields","registeredFields","key","value","go","step","targetStep","import_react","import_refine_core","useModalForm","modalProps","refineCoreProps","rest","translate","resourceProp","actionProp","defaultVisible","autoSubmitClose","autoResetForm","useHookFormResult","useForm","reset","onFinish","setId","saveButtonProps","handleSubmit","visible","show","close","submit","values","resourceName","warnWhen","setWarnWhen","handleClose","handleShow","id","title","e","import_react_hook_form"]}