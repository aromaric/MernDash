(()=>{var Lu=Object.create;var Jr=Object.defineProperty;var ku=Object.getOwnPropertyDescriptor;var Bu=Object.getOwnPropertyNames;var Mu=Object.getPrototypeOf,Fu=Object.prototype.hasOwnProperty;var a=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(o,n)=>(typeof require!="undefined"?require:o)[n]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var eo=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports),Nu=(r,o)=>{for(var n in o)Jr(r,n,{get:o[n],enumerable:!0})},Xr=(r,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of Bu(o))!Fu.call(r,s)&&s!==n&&Jr(r,s,{get:()=>o[s],enumerable:!(i=ku(o,s))||i.enumerable});return r},t=(r,o,n)=>(Xr(r,o,"default"),n&&Xr(n,o,"default")),g=(r,o,n)=>(n=r!=null?Lu(Mu(r)):{},Xr(o||!r||!r.__esModule?Jr(n,"default",{value:r,enumerable:!0}):n,r));var V=eo((zp,wo)=>{var qu=Object.create,Cr=Object.defineProperty,Ou=Object.getOwnPropertyDescriptor,Ru=Object.getOwnPropertyNames,Au=Object.getPrototypeOf,Iu=Object.prototype.hasOwnProperty,Wu=(r,o)=>{for(var n in o)Cr(r,n,{get:o[n],enumerable:!0})},hr=(r,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of Ru(o))!Iu.call(r,s)&&s!==n&&Cr(r,s,{get:()=>o[s],enumerable:!(i=Ou(o,s))||i.enumerable});return r},$u=(r,o,n)=>(hr(r,o,"default"),n&&hr(n,o,"default")),N=(r,o,n)=>(n=r!=null?qu(Au(r)):{},hr(o||!r||!r.__esModule?Cr(n,"default",{value:r,enumerable:!0}):n,r)),Uu=r=>hr(Cr({},"__esModule",{value:!0}),r),co={};Wu(co,{AuthPage:()=>ep,Authenticated:()=>fp,CanAccess:()=>gp,ErrorComponent:()=>_m,LayoutWrapper:()=>pp,LoginPage:()=>rn,ReadyPage:()=>on,Refine:()=>mp,RouteChangeHandler:()=>nn,UndoableQueue:()=>an,createTreeView:()=>qa,file2Base64:()=>bd,getDefaultFilter:()=>hd,getDefaultSortOrder:()=>xd,getNextPageParam:()=>Aa,getPreviousPageParam:()=>Ia,handleUseParams:()=>Cd,importCSVMapper:()=>ka,parseTableParams:()=>vo,parseTableParamsFromQuery:()=>yd,routeGenerator:()=>xo,setInitialFilters:()=>uo,setInitialSorters:()=>mo,stringifyTableParams:()=>so,unionFilters:()=>ar,unionSorters:()=>lo,useApiUrl:()=>$d,useAuthenticated:()=>La,useBreadcrumb:()=>jm,useCan:()=>en,useCanWithoutCache:()=>Fm,useCancelNotification:()=>Ut,useCheckError:()=>Ue,useCreate:()=>Co,useCreateMany:()=>Ga,useCustom:()=>Gd,useCustomMutation:()=>zd,useDataProvider:()=>Pe,useDelete:()=>qd,useDeleteMany:()=>Wd,useExport:()=>ym,useForgotPassword:()=>wa,useForm:()=>xm,useGetIdentity:()=>Pa,useGetLocale:()=>lm,useHandleNotification:()=>Oe,useImport:()=>Pm,useInfiniteList:()=>Kd,useInvalidate:()=>Bt,useIsExistAuthentication:()=>pd,useList:()=>ho,useLiveMode:()=>Ha,useLog:()=>Dr,useLogList:()=>Gm,useLogin:()=>fo,useLogout:()=>Sa,useMany:()=>Wa,useMenu:()=>Km,useModal:()=>Sm,useMutationMode:()=>Qt,useNavigation:()=>je,useNotification:()=>ht,useOne:()=>bo,usePermissions:()=>Vu,usePublish:()=>kt,useRedirectionAfterSubmission:()=>Za,useRefineContext:()=>Sr,useRegister:()=>Ea,useResource:()=>he,useResourceSubscription:()=>sr,useResourceWithRoute:()=>ut,useRouterContext:()=>pe,useSelect:()=>Om,useSetLocale:()=>sm,useShow:()=>bm,useSubscription:()=>Xd,useSyncWithLocation:()=>Ya,useTable:()=>Im,useTitle:()=>cm,useTranslate:()=>re,useUpdate:()=>Ua,useUpdateMany:()=>Ad,useUpdatePassword:()=>Da,useWarnAboutChange:()=>So,userFriendlyResourceName:()=>yo});wo.exports=Uu(co);$u(co,a("@tanstack/react-query"),wo.exports);var Dt=N(a("react")),Gu=a("react"),Ta=N(a("react")),Qu=a("@tanstack/react-query"),qe=Ta.default.createContext({}),zu=({children:r,isProvided:o,...n})=>{let{replace:i}=je(),s=(0,Qu.useQueryClient)(),l=()=>{s.invalidateQueries(["useAuthenticated"]),s.invalidateQueries(["getUserIdentity"]),s.invalidateQueries(["usePermissions"])},u=async h=>{var b;try{let y=await((b=n.login)==null?void 0:b.call(n,h));return l(),Promise.resolve(y)}catch(y){return Promise.reject(y)}},c=async h=>{var b;try{let y=await((b=n.register)==null?void 0:b.call(n,h));return l(),Promise.resolve(y)}catch(y){return Promise.reject(y)}},f=async h=>{var b;try{let y=await((b=n.logout)==null?void 0:b.call(n,h));return l(),Promise.resolve(y)}catch(y){return Promise.reject(y)}},d=async h=>{var b;try{return await((b=n.checkAuth)==null?void 0:b.call(n,h)),Promise.resolve()}catch(y){return y!=null&&y.redirectPath&&i(y.redirectPath),Promise.reject(y)}};return Ta.default.createElement(qe.Provider,{value:{...n,login:u,logout:f,checkAuth:d,register:c,isProvided:o}},r)},Hu=a("@tanstack/react-query"),Vu=r=>{let{getPermissions:o}=(0,Gu.useContext)(qe);return(0,Hu.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!!o,...r})},ju=N(a("react")),Ku=a("@tanstack/react-query"),Pa=({queryOptions:r}={})=>{let{getUserIdentity:o}=ju.default.useContext(qe);return(0,Ku.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!!o,retry:!1,...r})},_u=N(a("react")),Yu=a("@tanstack/react-query"),Sa=({mutationOptions:r}={})=>{let{push:o}=je(),{logout:n}=_u.default.useContext(qe),{open:i}=ht();return(0,Yu.useMutation)(["useLogout"],n,{onSuccess:(s,l)=>{var u;let c=(u=l==null?void 0:l.redirectPath)!=null?u:s;if(c!==!1){if(c){o(c);return}o("/login")}},onError:s=>{i==null||i({key:"useLogout-error",type:"error",message:(s==null?void 0:s.name)||"Logout Error",description:(s==null?void 0:s.message)||"Something went wrong during logout"})},...r})},Zu=N(a("react")),Xu=a("@tanstack/react-query"),Ju=N(a("qs")),fo=({mutationOptions:r}={})=>{let{replace:o}=je(),{login:n}=Zu.default.useContext(qe),{useLocation:i}=pe(),{search:s}=i(),{close:l,open:u}=ht(),{to:c}=Ju.default.parse(s,{ignoreQueryPrefix:!0});return(0,Xu.useMutation)(["useLogin"],n,{onSuccess:f=>{if(c)return o(c);f!==!1&&o(typeof f=="string"?f:"/"),l==null||l("login-error")},onError:f=>{u==null||u({message:(f==null?void 0:f.name)||"Login Error",description:(f==null?void 0:f.message)||"Invalid credentials",key:"login-error",type:"error"})},...r})},ed=N(a("react")),td=a("@tanstack/react-query"),Ea=({mutationOptions:r}={})=>{let{replace:o}=je(),{register:n}=ed.default.useContext(qe),{close:i,open:s}=ht();return(0,td.useMutation)(["useRegister"],n,{onSuccess:l=>{l!==!1&&o(l||"/"),i==null||i("register-error")},onError:l=>{s==null||s({message:(l==null?void 0:l.name)||"Register Error",description:(l==null?void 0:l.message)||"Error while registering",key:"register-error",type:"error"})},...r})},rd=N(a("react")),od=a("@tanstack/react-query"),wa=({mutationOptions:r}={})=>{let{replace:o}=je(),{forgotPassword:n}=rd.default.useContext(qe),{close:i,open:s}=ht();return(0,od.useMutation)(["useForgotPassword"],n,{onSuccess:l=>{l!==!1&&l&&o(l),i==null||i("forgot-password-error")},onError:l=>{s==null||s({message:(l==null?void 0:l.name)||"Forgot Password Error",description:(l==null?void 0:l.message)||"Error while resetting password",key:"forgot-password-error",type:"error"})},...r})},ad=N(a("react")),nd=a("@tanstack/react-query"),id=N(a("qs")),Da=({mutationOptions:r}={})=>{let{replace:o}=je(),{updatePassword:n}=ad.default.useContext(qe),{close:i,open:s}=ht(),{useLocation:l}=pe(),{search:u}=l(),c=id.default.parse(u,{ignoreQueryPrefix:!0});return(0,nd.useMutation)(["useUpdatePassword"],async f=>n==null?void 0:n({...c,...f}),{onSuccess:f=>{f!==!1&&f&&o(f),i==null||i("update-password-error")},onError:f=>{s==null||s({message:(f==null?void 0:f.name)||"Update Password Error",description:(f==null?void 0:f.message)||"Error while updating password",key:"update-password-error",type:"error"})},...r})},sd=a("react"),ld=a("@tanstack/react-query"),La=r=>{let{checkAuth:o}=(0,sd.useContext)(qe);return(0,ld.useQuery)(["useAuthenticated",r],async()=>{var n;return(n=await(o==null?void 0:o(r)))!=null?n:{}},{retry:!1})},ud=N(a("react")),dd=a("@tanstack/react-query"),Ue=()=>{let{checkError:r}=ud.default.useContext(qe),{mutate:o}=Sa();return(0,dd.useMutation)(["useCheckError"],r,{onError:n=>{o({redirectPath:n})}})},md=a("react"),pd=()=>{let{isProvided:r}=(0,md.useContext)(qe);return r||!1},cd=a("@tanstack/react-query"),to=r=>r/1e3,fd=N(a("lodash/zip")),gd=N(a("lodash/fromPairs")),ka=(r,o=n=>n)=>{let[n,...i]=r;return i.map(s=>(0,gd.default)((0,fd.default)(n,s))).map((s,l,u)=>o.call(void 0,s,l,u))},Yo=N(a("pluralize")),go=N(a("qs")),Ba=N(a("lodash/unionWith")),Ma=N(a("lodash/differenceWith")),vd=N(a("warn-once")),vo=r=>{let{current:o,pageSize:n,sorter:i,filters:s}=go.default.parse(r.substring(1));return{parsedCurrent:o&&Number(o),parsedPageSize:n&&Number(n),parsedSorter:i!=null?i:[],parsedFilters:s!=null?s:[]}},yd=r=>{let o=go.default.stringify(r);return vo(`/${o}`)},so=r=>{let o={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:n,sorter:i,filters:s,...l}=r;return go.default.stringify({...l,...n||{},sorter:i,filters:s},o)},Fa=(r,o)=>r.operator!=="and"&&r.operator!=="or"&&o.operator!=="and"&&o.operator!=="or"?("field"in r?r.field:void 0)==("field"in o?o.field:void 0)&&r.operator==o.operator:("key"in r?r.key:void 0)==("key"in o?o.key:void 0)&&r.operator==o.operator,Na=(r,o)=>r.field==o.field,ar=(r,o,n=[])=>(o.filter(i=>(i.operator==="or"||i.operator==="and")&&!i.key).length>1&&(0,vd.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Ba.default)(r,o,n,Fa).filter(i=>i.value!==void 0&&i.value!==null&&(i.operator!=="or"||i.operator==="or"&&i.value.length!==0)&&(i.operator!=="and"||i.operator==="and"&&i.value.length!==0))),lo=(r,o)=>(0,Ba.default)(r,o,Na).filter(n=>n.order!==void 0&&n.order!==null),uo=(r,o)=>[...(0,Ma.default)(o,r,Fa),...r],mo=(r,o)=>[...(0,Ma.default)(o,r,Na),...r],xd=(r,o)=>{if(!o)return;let n=o.find(i=>i.field===r);if(n)return n.order},hd=(r,o,n="eq")=>{let i=o==null?void 0:o.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:l,field:u}=s;return u===r&&l===n}});if(i)return i.value||[]},bd=r=>new Promise((o,n)=>{let i=new FileReader,s=()=>{i.result&&(i.removeEventListener("load",s,!1),o(i.result))};i.addEventListener("load",s,!1),i.readAsDataURL(r.originFileObj),i.onerror=l=>(i.removeEventListener("load",s,!1),n(l))}),yo=(r="",o)=>{let n=nr(r);return o==="singular"?Yo.default.singular(n):Yo.default.plural(n)},Cd=(r={})=>r!=null&&r.id?{...r,id:decodeURIComponent(r.id)}:r,Ge=(r,o,n)=>{let i=o||"default",s={all:[i],resourceAll:[i,r||""],list:l=>[...s.resourceAll,"list",{...l,...n}],many:l=>[...s.resourceAll,"getMany",l&&l.map(String),{...n}].filter(u=>u!==void 0),detail:l=>[...s.resourceAll,"detail",l==null?void 0:l.toString(),{...n}],logList:l=>["logList",r,l,n].filter(u=>u!==void 0)};return s},Td=(r,o)=>!r||!o?!1:!!r.find(n=>n===o),Pd=r=>o=>r.parentName?o.name===r.parentName:!1,xo=(r,o)=>{var n,i,s,l,u;let c,f=(i=(n=r.options)==null?void 0:n.route)!=null?i:r.name;if(r.parentName){let d=o.find(Pd(r));d!=null&&d.parentName?c=`${xo(d,o)}/${f}`:r.parentName&&(c=`${(u=(l=(s=d==null?void 0:d.options)==null?void 0:s.route)!=null?l:d==null?void 0:d.name)!=null?u:r.parentName}/${f}`)}else c=f;return c},qa=r=>{var o,n,i;let s=[],l={},u={},c,f;for(let d=0;d<r.length;d++){c=r[d];let h=(i=(n=c.route)!=null?n:(o=c.options)==null?void 0:o.route)!=null?i:"";l[h]=c,l[h].children=[],u[c.name]=c,u[c.name].children=[]}for(let d in l)l.hasOwnProperty(d)&&(f=l[d],f.parentName&&u[f.parentName]?u[f.parentName].children.push(f):s.push(f));return s},nr=r=>(r=r.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),r=r.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),r=r.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),r=r.charAt(0).toUpperCase()+r.slice(1),r),Oa=N(a("react")),Sd=N(a("react")),Ra=({children:r})=>Sd.default.createElement("div",null,r),lt={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},xt=Oa.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ra,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:lt}),Ed=({hasDashboard:r,mutationMode:o,warnWhenUnsavedChanges:n,syncWithLocation:i,undoableTimeout:s,children:l,DashboardPage:u,Title:c,Layout:f=Ra,Header:d,Sider:h,Footer:b,OffLayoutArea:y,LoginPage:m=rn,catchAll:x,liveMode:p="off",onLiveEvent:C,options:v})=>Oa.default.createElement(xt.Provider,{value:{hasDashboard:r,mutationMode:o,warnWhenUnsavedChanges:n,syncWithLocation:i,Title:c,undoableTimeout:s,Layout:f,Header:d,Sider:h,Footer:b,OffLayoutArea:y,DashboardPage:u,LoginPage:m,catchAll:x,liveMode:p,onLiveEvent:C,options:v}},l),wd=({options:r,disableTelemetry:o,liveMode:n,mutationMode:i,reactQueryClientConfig:s,reactQueryDevtoolConfig:l,syncWithLocation:u,undoableTimeout:c,warnWhenUnsavedChanges:f}={})=>{var d,h,b,y,m,x,p,C,v,T,S,P,E,D,w,L,M,F,R,I,A,k,q,W;let _={breadcrumb:r==null?void 0:r.breadcrumb,mutationMode:(h=(d=r==null?void 0:r.mutationMode)!=null?d:i)!=null?h:lt.mutationMode,undoableTimeout:(y=(b=r==null?void 0:r.undoableTimeout)!=null?b:c)!=null?y:lt.undoableTimeout,syncWithLocation:(x=(m=r==null?void 0:r.syncWithLocation)!=null?m:u)!=null?x:lt.syncWithLocation,warnWhenUnsavedChanges:(C=(p=r==null?void 0:r.warnWhenUnsavedChanges)!=null?p:f)!=null?C:lt.warnWhenUnsavedChanges,liveMode:(T=(v=r==null?void 0:r.liveMode)!=null?v:n)!=null?T:lt.liveMode,redirect:{afterCreate:(P=(S=r==null?void 0:r.redirect)==null?void 0:S.afterCreate)!=null?P:lt.redirect.afterCreate,afterClone:(D=(E=r==null?void 0:r.redirect)==null?void 0:E.afterClone)!=null?D:lt.redirect.afterClone,afterEdit:(L=(w=r==null?void 0:r.redirect)==null?void 0:w.afterEdit)!=null?L:lt.redirect.afterEdit}},z=(F=(M=r==null?void 0:r.disableTelemetry)!=null?M:o)!=null?F:!1,X={clientConfig:(A=(I=(R=r==null?void 0:r.reactQuery)==null?void 0:R.clientConfig)!=null?I:s)!=null?A:{},devtoolConfig:(W=(q=(k=r==null?void 0:r.reactQuery)==null?void 0:k.devtoolConfig)!=null?q:l)!=null?W:{}};return{optionsWithDefaults:_,disableTelemetryWithDefault:z,reactQueryWithDefaults:X}},Dd=({redirectFromProps:r,action:o,redirectOptions:n})=>{if(r||r===!1)return r;switch(o){case"clone":return n.afterClone;case"create":return n.afterCreate;case"edit":return n.afterEdit}},Zo=async(r,o,n)=>{let i=[];for(let[s,l]of r.entries())try{let u=await l();i.push(o(u,s))}catch(u){i.push(n(u,s))}return i},Q=(r,o,n)=>{var i;if(o)return o;let s=n==null?void 0:n.find(l=>l.name===r);return(i=s==null?void 0:s.options)!=null&&i.dataProviderName?s.options.dataProviderName:"default"},Tr=async r=>({data:(await Promise.all(r)).map(o=>o.data)}),Aa=r=>{let{pagination:o,cursor:n}=r;if(n!=null&&n.next)return n.next;let i=(o==null?void 0:o.current)||1,s=(o==null?void 0:o.pageSize)||10,l=Math.ceil((r.total||0)/s);return i<l?Number(i)+1:void 0},Ia=r=>{let{pagination:o,cursor:n}=r;if(n!=null&&n.prev)return n.prev;let i=(o==null?void 0:o.current)||1;return i===1?void 0:i-1},ho=({resource:r,config:o,queryOptions:n,successNotification:i,errorNotification:s,metaData:l,liveMode:u,onLiveEvent:c,liveParams:f,dataProviderName:d})=>{let{resources:h}=he(),b=Pe(),y=Ge(r,Q(r,d,h),l),{getList:m}=b(Q(r,d,h)),x=re(),{mutate:p}=Ue(),C=Oe(),v=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0;return sr({resource:r,types:["*"],params:{metaData:l,pagination:o==null?void 0:o.pagination,hasPagination:o==null?void 0:o.hasPagination,sort:o==null?void 0:o.sort,filters:o==null?void 0:o.filters,subscriptionType:"useList",...f},channel:`resources/${r}`,enabled:v,liveMode:u,onLiveEvent:c}),(0,cd.useQuery)(y.list(o),({queryKey:T,pageParam:S,signal:P})=>{let{hasPagination:E,...D}=o||{};return m({resource:r,...D,hasPagination:E,metaData:{...l,queryContext:{queryKey:T,pageParam:S,signal:P}}})},{...n,onSuccess:T=>{var S;(S=n==null?void 0:n.onSuccess)==null||S.call(n,T);let P=typeof i=="function"?i(T,{metaData:l,config:o},r):i;C(P)},onError:T=>{var S;p(T),(S=n==null?void 0:n.onError)==null||S.call(n,T);let P=typeof s=="function"?s(T,{metaData:l,config:o},r):s;C(P,{key:`${r}-useList-notification`,message:x("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}})},Ld=a("@tanstack/react-query"),bo=({resource:r,id:o,queryOptions:n,successNotification:i,errorNotification:s,metaData:l,liveMode:u,onLiveEvent:c,liveParams:f,dataProviderName:d})=>{let{resources:h}=he(),b=Pe(),y=Ge(r,Q(r,d,h),l),{getOne:m}=b(Q(r,d,h)),x=re(),{mutate:p}=Ue(),C=Oe();return sr({resource:r,types:["*"],channel:`resources/${r}`,params:{ids:o?[o]:[],id:o,metaData:l,subscriptionType:"useOne",...f},enabled:n==null?void 0:n.enabled,liveMode:u,onLiveEvent:c}),(0,Ld.useQuery)(y.detail(o),({queryKey:v,pageParam:T,signal:S})=>m({resource:r,id:o,metaData:{...l,queryContext:{queryKey:v,pageParam:T,signal:S}}}),{...n,onSuccess:v=>{var T;(T=n==null?void 0:n.onSuccess)==null||T.call(n,v);let S=typeof i=="function"?i(v,{id:o,metaData:l},r):i;C(S)},onError:v=>{var T;p(v),(T=n==null?void 0:n.onError)==null||T.call(n,v);let S=typeof s=="function"?s(v,{id:o,metaData:l},r):s;C(S,{key:`${o}-${r}-getOne-notification`,message:x("notifications.error",{statusCode:v.statusCode},`Error (status code: ${v.statusCode})`),description:v.message,type:"error"})}})},kd=a("@tanstack/react-query"),Wa=({resource:r,ids:o,queryOptions:n,successNotification:i,errorNotification:s,metaData:l,liveMode:u,onLiveEvent:c,liveParams:f,dataProviderName:d})=>{let{resources:h}=he(),b=Pe(),y=Ge(r,Q(r,d,h),l),{getMany:m,getOne:x}=b(Q(r,d,h)),p=re(),{mutate:C}=Ue(),v=Oe(),T=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0;return sr({resource:r,types:["*"],params:{ids:o!=null?o:[],metaData:l,subscriptionType:"useMany",...f},channel:`resources/${r}`,enabled:T,liveMode:u,onLiveEvent:c}),(0,kd.useQuery)(y.many(o),({queryKey:S,pageParam:P,signal:E})=>m?m({resource:r,ids:o,metaData:{...l,queryContext:{queryKey:S,pageParam:P,signal:E}}}):Tr(o.map(D=>x({resource:r,id:D,metaData:{...l,queryContext:{queryKey:S,pageParam:P,signal:E}}}))),{...n,onSuccess:S=>{var P;(P=n==null?void 0:n.onSuccess)==null||P.call(n,S);let E=typeof i=="function"?i(S,o,r):i;v(E)},onError:S=>{var P;C(S),(P=n==null?void 0:n.onError)==null||P.call(n,S);let E=typeof s=="function"?s(S,o,r):s;v(E,{key:`${o[0]}-${r}-getMany-notification`,message:p("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}})},Xo=a("@tanstack/react-query"),xr=N(a("react")),ro=N(a("lodash/isEqual")),$a=xr.default.createContext({notifications:[],notificationDispatch:()=>!1}),Bd=[],Md=(r,o)=>{switch(o.type){case"ADD":return[...r.filter(n=>!((0,ro.default)(n.id,o.payload.id)&&n.resource==o.payload.resource)),{...o.payload,isRunning:!0}];case"REMOVE":return r.filter(n=>!((0,ro.default)(n.id,o.payload.id)&&n.resource==o.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return r.map(n=>(0,ro.default)(n.id,o.payload.id)&&n.resource==o.payload.resource?{...n,seconds:o.payload.seconds-1e3}:n);default:return r}},Fd=({children:r})=>{let[o,n]=(0,xr.useReducer)(Md,Bd),i={notifications:o,notificationDispatch:n};return xr.default.createElement($a.Provider,{value:i},r,typeof window<"u"&&o.map(s=>xr.default.createElement(an,{key:`${s.id}-${s.resource}-queue`,notification:s})))},Jo=N(a("pluralize")),Ua=({mutationOptions:r}={})=>{let{resources:o}=he(),n=(0,Xo.useQueryClient)(),i=Pe(),{mutationMode:s,undoableTimeout:l}=Qt(),u=re(),{mutate:c}=Ue(),f=kt(),{log:d}=Dr(),{notificationDispatch:h}=Ut(),b=Oe(),y=Bt();return(0,Xo.useMutation)(({id:m,values:x,resource:p,mutationMode:C,undoableTimeout:v,onCancel:T,metaData:S,dataProviderName:P})=>{let E=C!=null?C:s,D=v!=null?v:l;return E!=="undoable"?i(Q(p,P,o)).update({resource:p,id:m,variables:x,metaData:S}):new Promise((w,L)=>{let M=()=>{i(Q(p,P,o)).update({resource:p,id:m,variables:x,metaData:S}).then(R=>w(R)).catch(R=>L(R))},F=()=>{L({message:"mutationCancelled"})};T&&T(F),h({type:"ADD",payload:{id:m,resource:p,cancelMutation:F,doMutation:M,seconds:D,isSilent:!!T}})})},{onMutate:async({resource:m,id:x,mutationMode:p,values:C,dataProviderName:v})=>{let T=Ge(m,Q(m,v,o)),S=n.getQueriesData(T.resourceAll),P=p!=null?p:s;return await n.cancelQueries(T.resourceAll,void 0,{silent:!0}),P!=="pessimistic"&&(n.setQueriesData(T.list(),E=>{if(!E)return null;let D=E.data.map(w=>{var L;return((L=w.id)==null?void 0:L.toString())===(x==null?void 0:x.toString())?{id:x,...C}:w});return{...E,data:D}}),n.setQueriesData(T.many(),E=>{if(!E)return null;let D=E.data.map(w=>{var L;return((L=w.id)==null?void 0:L.toString())===(x==null?void 0:x.toString())&&(w={id:x,...C}),w});return{...E,data:D}}),n.setQueriesData(T.detail(x),E=>E?{...E,data:{...E.data,...C}}:null)),{previousQueries:S,queryKey:T}},onSettled:(m,x,{id:p,resource:C,dataProviderName:v,invalidates:T=["list","many","detail"]})=>{y({resource:C,dataProviderName:Q(C,v,o),invalidates:T,id:p}),h({type:"REMOVE",payload:{id:p,resource:C}})},onSuccess:(m,{id:x,resource:p,successNotification:C,dataProviderName:v,values:T,metaData:S},P)=>{var E;let D=Jo.default.singular(p),w=typeof C=="function"?C(m,{id:x,values:T},p):C;b(w,{key:`${x}-${p}-notification`,description:u("notifications.success","Successful"),message:u("notifications.editSuccess",{resource:u(`${p}.${p}`,D)},`Successfully updated ${D}`),type:"success"}),f==null||f({channel:`resources/${p}`,type:"updated",payload:{ids:(E=m.data)!=null&&E.id?[m.data.id]:void 0},date:new Date});let L;if(P){let A=n.getQueryData(P.queryKey.detail(x));L=Object.keys(T).reduce((k,q)=>{var W;return k[q]=(W=A==null?void 0:A.data)==null?void 0:W[q],k},{})}let{fields:M,operation:F,variables:R,...I}=S||{};d==null||d.mutate({action:"update",resource:p,data:T,previousData:L,meta:{id:x,dataProviderName:Q(p,v,o),...I}})},onError:(m,{id:x,resource:p,errorNotification:C,values:v},T)=>{if(T)for(let S of T.previousQueries)n.setQueryData(S[0],S[1]);if(m.message!=="mutationCancelled"){c==null||c(m);let S=Jo.default.singular(p),P=typeof C=="function"?C(m,{id:x,values:v},p):C;b(P,{key:`${x}-${p}-notification`,message:u("notifications.editError",{resource:u(`${p}.${p}`,S),statusCode:m.statusCode},`Error when updating ${S} (status code: ${m.statusCode})`),description:m.message,type:"error"})}},...r})},Nd=a("@tanstack/react-query"),ea=N(a("pluralize")),Co=({mutationOptions:r}={})=>{let{mutate:o}=Ue(),n=Pe(),i=Bt(),{resources:s}=he(),l=re(),u=kt(),{log:c}=Dr(),f=Oe();return(0,Nd.useMutation)(({resource:d,values:h,metaData:b,dataProviderName:y})=>n(Q(d,y,s)).create({resource:d,variables:h,metaData:b}),{onSuccess:(d,{resource:h,successNotification:b,dataProviderName:y,invalidates:m=["list","many"],values:x,metaData:p})=>{var C,v,T;let S=ea.default.singular(h),P=typeof b=="function"?b(d,x,h):b;f(P,{key:`create-${h}-notification`,message:l("notifications.createSuccess",{resource:l(`${h}.${h}`,S)},`Successfully created ${S}`),description:l("notifications.success","Success"),type:"success"}),i({resource:h,dataProviderName:Q(h,y,s),invalidates:m}),u==null||u({channel:`resources/${h}`,type:"created",payload:{ids:(C=d==null?void 0:d.data)!=null&&C.id?[d.data.id]:void 0},date:new Date});let{fields:E,operation:D,variables:w,...L}=p||{};c==null||c.mutate({action:"create",resource:h,data:x,meta:{dataProviderName:Q(h,y,s),id:(T=(v=d==null?void 0:d.data)==null?void 0:v.id)!=null?T:void 0,...L}})},onError:(d,{resource:h,errorNotification:b,values:y})=>{o(d);let m=ea.default.singular(h),x=typeof b=="function"?b(d,y,h):b;f(x,{key:`create-${h}-notification`,description:d.message,message:l("notifications.createError",{resource:l(`${h}.${h}`,m),statusCode:d.statusCode},`There was an error creating ${m} (status code: ${d.statusCode})`),type:"error"})},...r})},ta=a("@tanstack/react-query"),ra=N(a("pluralize")),qd=({mutationOptions:r}={})=>{let{mutate:o}=Ue(),n=Pe(),{resources:i}=he(),s=(0,ta.useQueryClient)(),{mutationMode:l,undoableTimeout:u}=Qt(),{notificationDispatch:c}=Ut(),f=re(),d=kt(),{log:h}=Dr(),b=Oe(),y=Bt();return(0,ta.useMutation)(({id:m,mutationMode:x,undoableTimeout:p,resource:C,onCancel:v,metaData:T,dataProviderName:S,values:P})=>{let E=x!=null?x:l,D=p!=null?p:u;return E!=="undoable"?n(Q(C,S,i)).deleteOne({resource:C,id:m,metaData:T,variables:P}):new Promise((w,L)=>{let M=()=>{n(Q(C,S,i)).deleteOne({resource:C,id:m,metaData:T,variables:P}).then(R=>w(R)).catch(R=>L(R))},F=()=>{L({message:"mutationCancelled"})};v&&v(F),c({type:"ADD",payload:{id:m,resource:C,cancelMutation:F,doMutation:M,seconds:D,isSilent:!!v}})})},{onMutate:async({id:m,resource:x,mutationMode:p,dataProviderName:C})=>{let v=Ge(x,Q(x,C,i)),T=p!=null?p:l;await s.cancelQueries(v.resourceAll,void 0,{silent:!0});let S=s.getQueriesData(v.resourceAll);return T!=="pessimistic"&&(s.setQueriesData(v.list(),P=>P?{data:P.data.filter(E=>{var D;return((D=E.id)==null?void 0:D.toString())!==m.toString()}),total:P.total-1}:null),s.setQueriesData(v.many(),P=>{if(!P)return null;let E=P.data.filter(D=>{var w;return((w=D.id)==null?void 0:w.toString())!==(m==null?void 0:m.toString())});return{...P,data:E}})),{previousQueries:S,queryKey:v}},onSettled:(m,x,{id:p,resource:C,dataProviderName:v,invalidates:T=["list","many"]})=>{y({resource:C,dataProviderName:Q(C,v,i),invalidates:T}),c({type:"REMOVE",payload:{id:p,resource:C}})},onSuccess:(m,{id:x,resource:p,successNotification:C,dataProviderName:v,metaData:T},S)=>{let P=ra.default.singular(p!=null?p:"");s.removeQueries(S==null?void 0:S.queryKey.detail(x));let E=typeof C=="function"?C(m,x,p):C;b(E,{key:`${x}-${p}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${p}.${p}`,P)},`Successfully deleted a ${P}`),type:"success"}),d==null||d({channel:`resources/${p}`,type:"deleted",payload:{ids:x?[x]:[]},date:new Date});let{fields:D,operation:w,variables:L,...M}=T||{};h==null||h.mutate({action:"delete",resource:p,meta:{id:x,dataProviderName:Q(p,v,i),...M}}),s.removeQueries(S==null?void 0:S.queryKey.detail(x))},onError:(m,{id:x,resource:p,errorNotification:C},v)=>{if(v)for(let T of v.previousQueries)s.setQueryData(T[0],T[1]);if(m.message!=="mutationCancelled"){o(m);let T=ra.default.singular(p!=null?p:""),S=typeof C=="function"?C(m,x,p):C;b(S,{key:`${x}-${p}-notification`,message:f("notifications.deleteError",{resource:T,statusCode:m.statusCode},`Error (status code: ${m.statusCode})`),description:m.message,type:"error"})}},...r})},Od=a("@tanstack/react-query"),Rd=N(a("pluralize")),Ga=({mutationOptions:r}={})=>{let o=Pe(),{resources:n}=he(),i=re(),s=kt(),l=Oe(),u=Bt();return(0,Od.useMutation)(({resource:c,values:f,metaData:d,dataProviderName:h})=>{let b=o(Q(c,h,n));return b.createMany?b.createMany({resource:c,variables:f,metaData:d}):Tr(f.map(y=>b.create({resource:c,variables:y,metaData:d})))},{onSuccess:(c,{resource:f,successNotification:d,dataProviderName:h,invalidates:b=["list","many"],values:y})=>{let m=Rd.default.plural(f),x=typeof d=="function"?d(c,y,f):d;l(x,{key:`createMany-${f}-notification`,message:i("notifications.createSuccess",{resource:i(`${f}.${f}`,f)},`Successfully created ${m}`),description:i("notifications.success","Success"),type:"success"}),u({resource:f,dataProviderName:Q(f,h,n),invalidates:b});let p=c==null?void 0:c.data.filter(C=>(C==null?void 0:C.id)!==void 0).map(C=>C.id);s==null||s({channel:`resources/${f}`,type:"created",payload:{ids:p},date:new Date})},onError:(c,{resource:f,errorNotification:d,values:h})=>{let b=typeof d=="function"?d(c,h,f):d;l(b,{key:`createMany-${f}-notification`,description:c.message,message:i("notifications.createError",{resource:i(`${f}.${f}`,f),statusCode:c.statusCode},`There was an error creating ${f} (status code: ${c.statusCode}`),type:"error"})},...r})},oa=a("@tanstack/react-query"),aa=N(a("pluralize")),Ad=({mutationOptions:r}={})=>{let{resources:o}=he(),n=(0,oa.useQueryClient)(),i=Pe(),s=re(),{mutationMode:l,undoableTimeout:u}=Qt(),{mutate:c}=Ue(),{notificationDispatch:f}=Ut(),d=kt(),h=Oe(),b=Bt();return(0,oa.useMutation)(({ids:y,values:m,resource:x,onCancel:p,mutationMode:C,undoableTimeout:v,metaData:T,dataProviderName:S})=>{let P=C!=null?C:l,E=v!=null?v:u,D=i(Q(x,S,o)),w=()=>D.updateMany?D.updateMany({resource:x,ids:y,variables:m,metaData:T}):Tr(y.map(L=>D.update({resource:x,id:L,variables:m,metaData:T})));return P!=="undoable"?w():new Promise((L,M)=>{let F=()=>{w().then(I=>L(I)).catch(I=>M(I))},R=()=>{M({message:"mutationCancelled"})};p&&p(R),f({type:"ADD",payload:{id:y,resource:x,cancelMutation:R,doMutation:F,seconds:E,isSilent:!!p}})})},{onMutate:async({resource:y,ids:m,values:x,mutationMode:p,dataProviderName:C,metaData:v})=>{let T=Ge(y,Q(y,C,o),v),S=p!=null?p:l;await n.cancelQueries(T.resourceAll,void 0,{silent:!0});let P=n.getQueriesData(T.resourceAll);if(S!=="pessimistic"){n.setQueriesData(T.list(),E=>{if(!E)return null;let D=E.data.map(w=>w.id!==void 0&&m.filter(L=>L!==void 0).map(String).includes(w.id.toString())?{...w,...x}:w);return{...E,data:D}}),n.setQueriesData(T.many(),E=>{if(!E)return null;let D=E.data.map(w=>w.id!==void 0&&m.filter(L=>L!==void 0).map(String).includes(w.id.toString())?{...w,...x}:w);return{...E,data:D}});for(let E of m)n.setQueriesData(T.detail(E),D=>{if(!D)return null;let w={...D.data,...x};return{...D,data:w}})}return{previousQueries:P,queryKey:T}},onSettled:(y,m,{ids:x,resource:p,dataProviderName:C})=>{b({resource:p,invalidates:["list","many"],dataProviderName:Q(p,C,o)}),x.forEach(v=>b({resource:p,invalidates:["detail"],dataProviderName:Q(p,C,o),id:v})),f({type:"REMOVE",payload:{id:x,resource:p}})},onSuccess:(y,{ids:m,resource:x,successNotification:p,values:C})=>{let v=aa.default.singular(x),T=typeof p=="function"?p(y,{ids:m,values:C},x):p;h(T,{key:`${m}-${x}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${x}.${x}`,x)},`Successfully updated ${v}`),type:"success"}),d==null||d({channel:`resources/${x}`,type:"updated",payload:{ids:m.map(String)},date:new Date})},onError:(y,{ids:m,resource:x,errorNotification:p,values:C},v)=>{if(v)for(let T of v.previousQueries)n.setQueryData(T[0],T[1]);if(y.message!=="mutationCancelled"){c==null||c(y);let T=aa.default.singular(x),S=typeof p=="function"?p(y,{ids:m,values:C},x):p;h(S,{key:`${m}-${x}-updateMany-error-notification`,message:s("notifications.editError",{resource:T,statusCode:y.statusCode},`Error when updating ${T} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...r})},na=a("@tanstack/react-query"),Id=N(a("pluralize")),Wd=({mutationOptions:r}={})=>{let{mutate:o}=Ue(),{mutationMode:n,undoableTimeout:i}=Qt(),s=Pe(),{notificationDispatch:l}=Ut(),u=re(),c=kt(),f=Oe(),d=Bt(),{resources:h}=he(),b=(0,na.useQueryClient)();return(0,na.useMutation)(({resource:y,ids:m,mutationMode:x,undoableTimeout:p,onCancel:C,metaData:v,dataProviderName:T,values:S})=>{let P=x!=null?x:n,E=p!=null?p:i,D=s(Q(y,T,h)),w=()=>D.deleteMany?D.deleteMany({resource:y,ids:m,metaData:v,variables:S}):Tr(m.map(L=>D.deleteOne({resource:y,id:L,metaData:v,variables:S})));return P!=="undoable"?w():new Promise((L,M)=>{let F=()=>{w().then(I=>L(I)).catch(I=>M(I))},R=()=>{M({message:"mutationCancelled"})};C&&C(R),l({type:"ADD",payload:{id:m,resource:y,cancelMutation:R,doMutation:F,seconds:E,isSilent:!!C}})})},{onMutate:async({ids:y,resource:m,mutationMode:x,dataProviderName:p})=>{let C=Ge(m,Q(m,p,h)),v=x!=null?x:n;await b.cancelQueries(C.resourceAll,void 0,{silent:!0});let T=b.getQueriesData(C.resourceAll);if(v!=="pessimistic"){b.setQueriesData(C.list(),S=>S?{data:S.data.filter(P=>P.id&&!y.map(String).includes(P.id.toString())),total:S.total-1}:null),b.setQueriesData(C.many(),S=>{if(!S)return null;let P=S.data.filter(E=>E.id?!y.map(String).includes(E.id.toString()):!1);return{...S,data:P}});for(let S of y)b.setQueriesData(C.detail(S),P=>!P||P.data.id==S?null:{...P})}return{previousQueries:T,queryKey:C}},onSettled:(y,m,{resource:x,ids:p,dataProviderName:C,invalidates:v=["list","many"]})=>{d({resource:x,dataProviderName:Q(x,C,h),invalidates:v}),l({type:"REMOVE",payload:{id:p,resource:x}})},onSuccess:(y,{ids:m,resource:x,successNotification:p},C)=>{m.forEach(T=>b.removeQueries(C==null?void 0:C.queryKey.detail(T)));let v=typeof p=="function"?p(y,m,x):p;f(v,{key:`${m}-${x}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${x}.${x}`,x)},`Successfully deleted ${x}`),type:"success"}),c==null||c({channel:`resources/${x}`,type:"deleted",payload:{ids:m},date:new Date}),m.forEach(T=>b.removeQueries(C==null?void 0:C.queryKey.detail(T)))},onError:(y,{ids:m,resource:x,errorNotification:p},C)=>{if(C)for(let v of C.previousQueries)b.setQueryData(v[0],v[1]);if(y.message!=="mutationCancelled"){o(y);let v=Id.default.singular(x),T=typeof p=="function"?p(y,m,x):p;f(T,{key:`${m}-${x}-notification`,message:u("notifications.deleteError",{resource:v,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...r})},$d=r=>{let o=Pe(),{getApiUrl:n}=o(r);return n()},Ud=a("@tanstack/react-query"),Gd=({url:r,method:o,config:n,queryOptions:i,successNotification:s,errorNotification:l,metaData:u,dataProviderName:c})=>{let f=Pe(),{custom:d}=f(c),{mutate:h}=Ue(),b=re(),y=Oe();if(d)return(0,Ud.useQuery)([c,"custom",o,r,{...n,...u}],({queryKey:m,pageParam:x,signal:p})=>d({url:r,method:o,...n,metaData:{...u,queryContext:{queryKey:m,pageParam:x,signal:p}}}),{...i,onSuccess:m=>{var x;(x=i==null?void 0:i.onSuccess)==null||x.call(i,m);let p=typeof s=="function"?s(m,{...n,...u}):s;y(p)},onError:m=>{var x;h(m),(x=i==null?void 0:i.onError)==null||x.call(i,m);let p=typeof l=="function"?l(m,{...n,...u}):l;y(p,{key:`${o}-notification`,message:b("notifications.error",{statusCode:m.statusCode},`Error (status code: ${m.statusCode})`),description:m.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},Qd=a("@tanstack/react-query"),zd=({mutationOptions:r}={})=>{let{mutate:o}=Ue(),n=Oe(),i=Pe(),s=re();return(0,Qd.useMutation)(({url:l,method:u,values:c,metaData:f,dataProviderName:d,config:h})=>{let{custom:b}=i(d);if(b)return b({url:l,method:u,payload:c,metaData:f,headers:{...h==null?void 0:h.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:u,config:c,metaData:f})=>{let d=typeof u=="function"?u(l,{...c,...f}):u;n(d)},onError:(l,{errorNotification:u,method:c,config:f,metaData:d})=>{o(l);let h=typeof u=="function"?u(l,{...f,...d}):u;n(h,{key:`${c}-notification`,message:s("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...r})},ia=a("react"),Qa=N(a("react")),Hd=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),To=Qa.default.createContext(Hd()),Vd=({children:r,...o})=>{let n;return!o.getList||!o.getOne?n=o:n={default:o},Qa.default.createElement(To.Provider,{value:n},r)},Pe=()=>{let r=(0,ia.useContext)(To);return(0,ia.useCallback)(o=>{if(o){if(!r[o])throw new Error(`"${o}" Data provider not found`);return r[o]}if(r.default)return r.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[r])},jd=a("@tanstack/react-query"),Kd=({resource:r,config:o,queryOptions:n,successNotification:i,errorNotification:s,metaData:l,liveMode:u,onLiveEvent:c,liveParams:f,dataProviderName:d})=>{let{resources:h}=he(),b=Pe(),y=Ge(r,Q(r,d,h),l),{getList:m}=b(Q(r,d,h)),x=re(),{mutate:p}=Ue(),C=Oe(),v=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0;return sr({resource:r,types:["*"],params:{metaData:l,pagination:o==null?void 0:o.pagination,hasPagination:o==null?void 0:o.hasPagination,sort:o==null?void 0:o.sort,filters:o==null?void 0:o.filters,subscriptionType:"useList",...f},channel:`resources/${r}`,enabled:v,liveMode:u,onLiveEvent:c}),(0,jd.useInfiniteQuery)(y.list(o),({queryKey:T,pageParam:S,signal:P})=>{let{hasPagination:E,...D}=o||{},w={...o==null?void 0:o.pagination,current:S};return m({resource:r,...D,pagination:w,hasPagination:E,metaData:{...l,queryContext:{queryKey:T,pageParam:S,signal:P}}}).then(({data:L,total:M,...F})=>({data:L,total:M,pagination:w,...F}))},{getNextPageParam:T=>Aa(T),getPreviousPageParam:T=>Ia(T),...n,onSuccess:T=>{var S;(S=n==null?void 0:n.onSuccess)==null||S.call(n,T);let P=typeof i=="function"?i(T,{metaData:l,config:o},r):i;C(P)},onError:T=>{var S;p(T),(S=n==null?void 0:n.onError)==null||S.call(n,T);let P=typeof s=="function"?s(T,{metaData:l,config:o},r):s;C(P,{key:`${r}-useInfiniteList-notification`,message:x("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}})},oo=a("react"),_d=a("@tanstack/react-query"),za=N(a("react")),ir=za.default.createContext(void 0),Yd=({liveProvider:r,children:o})=>za.default.createElement(ir.Provider,{value:r},o),sr=({resource:r,params:o,channel:n,types:i,enabled:s=!0,liveMode:l,onLiveEvent:u})=>{let c=(0,_d.useQueryClient)(),f=Ge(r),d=(0,oo.useContext)(ir),{liveMode:h,onLiveEvent:b}=(0,oo.useContext)(xt),y=l!=null?l:h;(0,oo.useEffect)(()=>{let m;return y&&y!=="off"&&s&&(m=d==null?void 0:d.subscribe({channel:n,params:{resource:r,...o},types:i,callback:x=>{y==="auto"&&c.invalidateQueries(f.resourceAll),u==null||u(x),b==null||b(x)}})),()=>{m&&(d==null||d.unsubscribe(m))}},[s])},Zd=a("react"),Ha=r=>{let{liveMode:o}=(0,Zd.useContext)(xt);return r!=null?r:o},sa=a("react"),Xd=({params:r,channel:o,types:n=["*"],enabled:i=!0,onLiveEvent:s})=>{let l=(0,sa.useContext)(ir);(0,sa.useEffect)(()=>{let u;return i&&(u=l==null?void 0:l.subscribe({channel:o,params:r,types:n,callback:s})),()=>{u&&(l==null||l.unsubscribe(u))}},[i])},Jd=a("react"),kt=()=>{let r=(0,Jd.useContext)(ir);return r==null?void 0:r.publish},em=a("react"),Va=N(a("react")),Pr=Va.default.createContext({resources:[]}),tm=({resources:r,children:o})=>Va.default.createElement(Pr.Provider,{value:{resources:r}},o),he=({resourceName:r,resourceNameOrRouteName:o,recordItemId:n}={})=>{let{resources:i}=(0,em.useContext)(Pr),s=ut(),{useParams:l}=pe(),u=l(),c=s(o!=null?o:u.resource),f=r!=null?r:c.name,d=n!=null?n:u.id;return{resources:i,resource:c,resourceName:f,id:d,action:u.action}},la=a("react"),ut=()=>{let{resources:r}=(0,la.useContext)(Pr);return(0,la.useCallback)(o=>{let n=r.find(i=>i.route===o);if(!n){let i=r.find(s=>s.name===o);return i!=null?i:{name:o,route:o}}return n},[r])},rm=a("react"),Ut=()=>{let{notifications:r,notificationDispatch:o}=(0,rm.useContext)($a);return{notifications:r,notificationDispatch:o}},om=a("react"),ja=N(a("react")),Po=(0,ja.createContext)({}),am=({open:r,close:o,children:n})=>ja.default.createElement(Po.Provider,{value:{open:r,close:o}},n),ht=()=>{let{open:r,close:o}=(0,om.useContext)(Po);return{open:r,close:o}},nm=a("react"),Oe=()=>{let{open:r}=ht();return(0,nm.useCallback)((o,n)=>{o!==!1&&(o?r==null||r(o):n&&(r==null||r(n)))},[])},ua=a("react"),Ka=N(a("react")),Gt=Ka.default.createContext({}),im=({children:r,i18nProvider:o})=>Ka.default.createElement(Gt.Provider,{value:{i18nProvider:o}},r),sm=()=>{let{i18nProvider:r}=(0,ua.useContext)(Gt);return(0,ua.useCallback)(o=>r==null?void 0:r.changeLocale(o),[])},da=a("react"),re=()=>{let{i18nProvider:r}=(0,da.useContext)(Gt);return(0,da.useMemo)(()=>{function o(n,i,s){var l,u;return(u=(l=r==null?void 0:r.translate(n,i,s))!=null?l:s)!=null?u:typeof i=="string"&&typeof s>"u"?i:n}return o},[r])},ma=a("react"),lm=()=>{let{i18nProvider:r}=(0,ma.useContext)(Gt);return(0,ma.useCallback)(()=>r==null?void 0:r.getLocale(),[])},um=a("react"),Qt=()=>{let{mutationMode:r,undoableTimeout:o}=(0,um.useContext)(xt);return{mutationMode:r,undoableTimeout:o}},pa=a("react"),po=N(a("react")),_a=po.default.createContext({}),dm=({children:r})=>{let[o,n]=(0,po.useState)(!1);return po.default.createElement(_a.Provider,{value:{warnWhen:o,setWarnWhen:n}},r)},So=()=>{let{warnWhenUnsavedChanges:r}=(0,pa.useContext)(xt),{warnWhen:o,setWarnWhen:n}=(0,pa.useContext)(_a);return{warnWhenUnsavedChanges:r,warnWhen:Boolean(o),setWarnWhen:n!=null?n:()=>{}}},mm=a("react"),Ya=()=>{let{syncWithLocation:r}=(0,mm.useContext)(xt);return{syncWithLocation:r}},pm=a("react"),cm=()=>{let{Title:r}=(0,pm.useContext)(xt);return r},fm=a("react"),Sr=()=>{let{Footer:r,Header:o,Layout:n,OffLayoutArea:i,Sider:s,Title:l,hasDashboard:u,mutationMode:c,syncWithLocation:f,undoableTimeout:d,warnWhenUnsavedChanges:h,DashboardPage:b,LoginPage:y,catchAll:m,options:x}=(0,fm.useContext)(xt);return{Footer:r,Header:o,Layout:n,OffLayoutArea:i,Sider:s,Title:l,hasDashboard:u,mutationMode:c,syncWithLocation:f,undoableTimeout:d,warnWhenUnsavedChanges:h,DashboardPage:b,LoginPage:y,catchAll:m,options:x}},gm=a("react"),vm=a("export-to-csv-fix-source-map"),ym=({resourceName:r,sorter:o,filters:n,maxItemCount:i,pageSize:s=20,mapData:l=h=>h,exportOptions:u,metaData:c,dataProviderName:f,onError:d}={})=>{let[h,b]=(0,gm.useState)(!1),{resources:y}=he(),m=ut(),x=Pe(),{useParams:p}=pe(),{resource:C}=p(),{name:v}=m(C);r&&(v=r);let T=`${yo(v,"plural")}-${new Date().toLocaleString()}`,{getList:S}=x(Q(v,f,y));return{isLoading:h,triggerExport:async()=>{b(!0);let P=[],E=1,D=!0;for(;D;)try{let{data:w,total:L}=await S({resource:v,filters:n,sort:o,pagination:{current:E,pageSize:s},metaData:c});E++,P.push(...w),i&&P.length>=i&&(P=P.slice(0,i),D=!1),L===P.length&&(D=!1)}catch(w){b(!1),D=!1,d==null||d(w);return}new vm.ExportToCsv({filename:T,useKeysAsHeaders:!0,...u}).generateCsv(P.map(l)),b(!1)}}},ca=N(a("react")),xm=({resource:r,action:o,id:n,onMutationSuccess:i,onMutationError:s,redirect:l,successNotification:u,errorNotification:c,metaData:f,mutationMode:d,liveMode:h,onLiveEvent:b,liveParams:y,undoableTimeout:m,dataProviderName:x,invalidates:p,queryOptions:C,createMutationOptions:v,updateMutationOptions:T}={})=>{var S;let{options:P}=Sr(),{useParams:E}=pe(),{resource:D,action:w,id:L}=E(),M=!r||r===D?n!=null?n:L:n,[F,R]=ca.default.useState(M);ca.default.useEffect(()=>{M!==F&&R(n)},[n]);let I=r!=null?r:D,A=(S=o!=null?o:w==="show"?"create":w)!=null?S:"create",k=ut()(I),{mutationMode:q}=Qt(),W=d!=null?d:q,_=A==="create",z=A==="edit",X=A==="clone",$=Dd({redirectFromProps:l,action:A,redirectOptions:P.redirect}),U=F!==void 0&&(z||X),H=bo({resource:k.name,id:F!=null?F:"",queryOptions:{enabled:U,...C},liveMode:h,onLiveEvent:b,liveParams:y,metaData:f,dataProviderName:x}),{isFetching:me}=H,Ce=Co({mutationOptions:v}),{mutate:We,isLoading:it}=Ce,Te=Ua({mutationOptions:T}),{mutate:st,isLoading:or}=Te,{setWarnWhen:Ot}=So(),ft=Za();return{..._||X?{formLoading:me||it,mutationResult:Ce,onFinish:async J=>{Ot(!1);let ne=Ee=>{ft({redirect:$,resource:k,id:Ee})};return W!=="pessimistic"&&setTimeout(()=>{ne()}),new Promise((Ee,gt)=>(W!=="pessimistic"&&Ee(),We({values:J,resource:k.name,successNotification:u,errorNotification:c,metaData:f,dataProviderName:x,invalidates:p},{onSuccess:($e,vt,Y)=>{var ie;i&&i($e,J,Y);let gr=(ie=$e==null?void 0:$e.data)==null?void 0:ie.id;ne(gr),Ee($e)},onError:($e,vt,Y)=>{if(s)return s($e,J,Y);gt()}})))}}:{formLoading:me||or,mutationResult:Te,onFinish:async J=>{Ot(!1);let ne={id:F!=null?F:"",values:J,resource:k.name,mutationMode:W,undoableTimeout:m,successNotification:u,errorNotification:c,metaData:f,dataProviderName:x,invalidates:p},Ee=()=>{R(M),ft({redirect:$,resource:k,id:F})};return W!=="pessimistic"&&setTimeout(()=>{Ee()}),new Promise((gt,$e)=>(W!=="pessimistic"&&gt(),setTimeout(()=>{st(ne,{onSuccess:(vt,Y,ie)=>{i&&i(vt,J,ie),W==="pessimistic"&&Ee(),gt(vt)},onError:(vt,Y,ie)=>{if(s)return s(vt,J,ie);$e()}})})))}},queryResult:H,id:F,setId:R,redirect:(J,ne)=>{ft({redirect:J!==void 0?J:z?"list":"edit",resource:k,id:ne!=null?ne:F})}}},hm=a("react"),Za=()=>{let{show:r,edit:o,list:n,create:i}=je();return(0,hm.useCallback)(({redirect:s,resource:l,id:u})=>{if(s&&l.route)return l.canShow&&s==="show"&&u?r(l.route,u):l.canEdit&&s==="edit"&&u?o(l.route,u):l.canCreate&&s==="create"?i(l.route):n(l.route,"push")},[])},je=()=>{let{useHistory:r}=pe(),o=r(),n=ut(),i=(d,h="push")=>{h==="push"?o.push(d):o.replace(d)},s=d=>`/${n(d).route}/create`,l=(d,h)=>{let b=n(d),y=encodeURIComponent(h);return`/${b.route}/edit/${y}`},u=(d,h)=>{let b=n(d),y=encodeURIComponent(h);return`/${b.route}/clone/${y}`},c=(d,h)=>{let b=n(d),y=encodeURIComponent(h);return`/${b.route}/show/${y}`},f=d=>`/${n(d).route}`;return{create:(d,h="push")=>{i(s(d),h)},createUrl:s,edit:(d,h,b="push")=>{i(l(d,h),b)},editUrl:l,clone:(d,h,b="push")=>{i(u(d,h),b)},cloneUrl:u,show:(d,h,b="push")=>{i(c(d,h),b)},showUrl:c,list:(d,h="push")=>{i(f(d),h)},listUrl:f,push:(d,...h)=>{o.push(d,...h)},replace:(d,...h)=>{o.replace(d,...h)},goBack:()=>{o.goBack()}}},fa=N(a("react")),bm=({resource:r,id:o,successNotification:n,errorNotification:i,metaData:s,liveMode:l,onLiveEvent:u,dataProviderName:c,queryOptions:f}={})=>{let{useParams:d}=pe(),{resource:h,id:b}=d(),y=!r||r===h?o!=null?o:b:o,[m,x]=(0,fa.useState)(y);fa.default.useEffect(()=>{y!==m&&x(y)},[y]);let p=ut()(r!=null?r:h);return{queryResult:bo({resource:p.name,id:m!=null?m:"",queryOptions:{enabled:m!==void 0,...f},successNotification:n,errorNotification:i,metaData:s,liveMode:l,onLiveEvent:u,dataProviderName:c}),showId:m,setShowId:x}},vr=a("react"),Cm=a("papaparse"),Tm=N(a("lodash/chunk")),Pm=({resourceName:r,mapData:o=f=>f,paparseOptions:n,batchSize:i=Number.MAX_SAFE_INTEGER,onFinish:s,metaData:l,onProgress:u,dataProviderName:c}={})=>{let[f,d]=(0,vr.useState)(0),[h,b]=(0,vr.useState)(0),[y,m]=(0,vr.useState)(!1),x=ut(),{useParams:p}=pe(),{resource:C}=p(),{name:v}=x(r!=null?r:C),T=Ga(),S=Co(),P;i===1?P=S:P=T;let E=()=>{b(0),d(0),m(!1)},D=L=>{let M={succeeded:L.filter(F=>F.type==="success"),errored:L.filter(F=>F.type==="error")};s==null||s(M),m(!1)};(0,vr.useEffect)(()=>{u==null||u({totalAmount:h,processedAmount:f})},[h,f]);let w=({file:L})=>(E(),new Promise(M=>{m(!0),(0,Cm.parse)(L,{complete:async({data:F})=>{let R=ka(F,o);if(b(R.length),i===1){let I=R.map(k=>async()=>({response:await S.mutateAsync({resource:v,values:k,successNotification:!1,errorNotification:!1,dataProviderName:c,metaData:l}),value:k})),A=await Zo(I,({response:k,value:q})=>(d(W=>W+1),{response:[k.data],type:"success",request:[q]}),(k,q)=>({response:[k],type:"error",request:[R[q]]}));M(A)}else{let I=(0,Tm.default)(R,i),A=I.map(q=>async()=>({response:await T.mutateAsync({resource:v,values:q,successNotification:!1,errorNotification:!1,dataProviderName:c,metaData:l}),value:q,currentBatchLength:q.length})),k=await Zo(A,({response:q,currentBatchLength:W,value:_})=>(d(z=>z+W),{response:q.data,type:"success",request:_}),(q,W)=>({response:[q],type:"error",request:I[W]}));M(k)}},...n})}).then(M=>(D(M),M)));return{inputProps:{type:"file",accept:".csv",onChange:L=>{L.target.files&&L.target.files.length>0&&w({file:L.target.files[0]})}},mutationResult:P,isLoading:y,handleChange:w}},ao=a("react"),Sm=({defaultVisible:r=!1}={})=>{let[o,n]=(0,ao.useState)(r),i=(0,ao.useCallback)(()=>n(!0),[o]),s=(0,ao.useCallback)(()=>n(!1),[o]);return{visible:o,show:i,close:s}},Em=a("react"),Xa=N(a("react")),wm={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Eo=Xa.default.createContext(wm),Dm=({children:r,useHistory:o,useLocation:n,useParams:i,Prompt:s,Link:l,routes:u})=>Xa.default.createElement(Eo.Provider,{value:{useHistory:o,useLocation:n,useParams:i,Prompt:s,Link:l,routes:u}},r),pe=()=>{let{useHistory:r,useLocation:o,useParams:n,Prompt:i,Link:s,routes:l}=(0,Em.useContext)(Eo);return{useHistory:r,useLocation:o,useParams:n,Prompt:i,Link:s,routes:l}},Lm=a("react"),km=a("@tanstack/react-query"),Ja=N(a("react")),Er=Ja.default.createContext({}),Bm=({can:r,children:o})=>Ja.default.createElement(Er.Provider,{value:{can:r}},o),en=({action:r,resource:o,params:n,queryOptions:i})=>{let{can:s}=(0,Lm.useContext)(Er),{resource:l,...u}=n!=null?n:{},{icon:c,list:f,edit:d,create:h,show:b,children:y,...m}=l!=null?l:{},x=(0,km.useQuery)(["useCan",{action:r,resource:o,params:{...u,resource:m},enabled:i==null?void 0:i.enabled}],()=>{var p;return(p=s==null?void 0:s({action:r,resource:o,params:n}))!=null?p:Promise.resolve({can:!0})},{enabled:typeof s<"u",...i,retry:!1});return typeof s>"u"?{data:{can:!0}}:x},Mm=a("react"),Fm=()=>{let{can:r}=(0,Mm.useContext)(Er);return{can:r}},Rt=a("react"),Nm=N(a("lodash/uniqBy")),qm=N(a("lodash/debounce")),yr=N(a("lodash/get")),Om=r=>{var o,n;let[i,s]=(0,Rt.useState)([]),[l,u]=(0,Rt.useState)([]),[c,f]=(0,Rt.useState)([]),{resource:d,sort:h,filters:b=[],optionLabel:y="title",optionValue:m="id",debounce:x=300,successNotification:p,errorNotification:C,defaultValueQueryOptions:v,queryOptions:T,fetchSize:S,pagination:P,hasPagination:E,liveMode:D,defaultValue:w=[],onLiveEvent:L,onSearch:M,liveParams:F,metaData:R,dataProviderName:I}=r,A=Array.isArray(w)?w:[w],k=(0,Rt.useCallback)($=>{f($.data.map(U=>({label:(0,yr.default)(U,y),value:(0,yr.default)(U,m)})))},[y,m]),q=v!=null?v:T,W=Wa({resource:d,ids:A,queryOptions:{...q,enabled:A.length>0&&((o=v==null?void 0:v.enabled)!=null?o:!0),onSuccess:$=>{var U;k($),(U=q==null?void 0:q.onSuccess)==null||U.call(q,$)}},metaData:R,liveMode:"off",dataProviderName:I}),_=(0,Rt.useCallback)($=>{u($.data.map(U=>({label:(0,yr.default)(U,y),value:(0,yr.default)(U,m)})))},[y,m]),z=ho({resource:d,config:{sort:h,filters:b.concat(i),pagination:{current:P==null?void 0:P.current,pageSize:(n=P==null?void 0:P.pageSize)!=null?n:S},hasPagination:E},queryOptions:{...T,onSuccess:$=>{var U;_($),(U=T==null?void 0:T.onSuccess)==null||U.call(T,$)}},successNotification:p,errorNotification:C,metaData:R,liveMode:D,liveParams:F,onLiveEvent:L,dataProviderName:I}),X=$=>{if(M){s(M($));return}if($)s([{field:y,operator:"contains",value:$}]);else{s([]);return}};return{queryResult:z,defaultValueQueryResult:W,options:(0,Rt.useMemo)(()=>(0,Nm.default)([...l,...c],"value"),[l,c]),onSearch:(0,qm.default)(X,x)}},Lt=a("react"),ga=N(a("qs")),va=N(a("lodash/differenceWith")),ya=N(a("lodash/isEqual")),Rm=[],Am=[];function Im({initialCurrent:r=1,initialPageSize:o=10,hasPagination:n=!0,initialSorter:i,permanentSorter:s=Am,defaultSetFilterBehavior:l="merge",initialFilter:u,permanentFilter:c=Rm,syncWithLocation:f,resource:d,successNotification:h,errorNotification:b,queryOptions:y,liveMode:m,onLiveEvent:x,liveParams:p,metaData:C,dataProviderName:v}={}){var T;let{syncWithLocation:S}=Ya(),P=f!=null?f:S,{useLocation:E,useParams:D}=pe(),{search:w,pathname:L}=E(),M=Ha(m),{parsedCurrent:F,parsedPageSize:R,parsedSorter:I,parsedFilters:A}=vo(w),k=F||r,q=R||o,W=I.length?I:i,_=A.length?A:u,{resource:z}=D(),{replace:X}=je(),$=ut()(d!=null?d:z),[U,H]=(0,Lt.useState)(mo(s,W!=null?W:[])),[me,Ce]=(0,Lt.useState)(uo(c,_!=null?_:[])),[We,it]=(0,Lt.useState)(k),[Te,st]=(0,Lt.useState)(q),or=({pagination:{current:Y,pageSize:ie},sorter:gr,filters:_o})=>{let Zr=ga.default.parse(w==null?void 0:w.substring(1)),Du=so({pagination:{pageSize:ie,current:Y},sorter:gr,filters:_o,...Zr});return`${L}?${Du}`};(0,Lt.useEffect)(()=>{w===""&&(it(k),st(q),H(mo(s,W!=null?W:[])),Ce(uo(c,_!=null?_:[])))},[w]);let Ot=()=>{let{sorter:Y,filters:ie,pageSize:gr,current:_o,...Zr}=ga.default.parse(w,{ignoreQueryPrefix:!0});return Zr};(0,Lt.useEffect)(()=>{if(P){let Y=Ot(),ie=so({...n?{pagination:{pageSize:Te,current:We}}:{},sorter:(0,va.default)(U,s,ya.default),filters:(0,va.default)(me,c,ya.default),...Y});return X(`${L}?${ie}`,void 0,{shallow:!0})}},[P,We,Te,U,me]);let ft=ho({resource:$.name,config:{hasPagination:n,pagination:{current:We,pageSize:Te},filters:ar(c,me),sort:lo(s,U)},queryOptions:y,successNotification:h,errorNotification:b,metaData:C,liveMode:M,liveParams:p,onLiveEvent:x,dataProviderName:v}),J=Y=>{Ce(ie=>ar(c,Y,ie))},ne=Y=>{Ce(ar(c,Y))},Ee=Y=>{Ce(ie=>ar(c,Y(ie)))},gt=(Y,ie=l)=>{typeof Y=="function"?Ee(Y):ie==="replace"?ne(Y):J(Y)},$e=Y=>{H(()=>lo(s,Y))},vt=(0,Lt.useMemo)(()=>{var Y,ie;return n?{current:We,setCurrent:it,pageSize:Te,setPageSize:st,pageCount:Te?Math.ceil(((ie=(Y=ft.data)==null?void 0:Y.total)!=null?ie:0)/Te):1}:{current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0}},[n,We,Te,(T=ft.data)==null?void 0:T.total]);return{tableQueryResult:ft,sorter:U,setSorter:$e,filters:me,setFilters:gt,...vt,createLinkForSyncWithLocation:or}}var xa=a("react"),no=a("@tanstack/react-query"),tn=N(a("react")),wr=tn.default.createContext({}),Wm=({create:r,get:o,update:n,children:i})=>tn.default.createElement(wr.Provider,{value:{create:r,get:o,update:n}},i),Dr=({logMutationOptions:r,renameMutationOptions:o}={})=>{let n=(0,no.useQueryClient)(),i=(0,xa.useContext)(wr),{resources:s}=(0,xa.useContext)(Pr),{data:l,refetch:u,isLoading:c}=Pa({queryOptions:{enabled:!!i}}),f=(0,no.useMutation)(async h=>{var b,y,m;let x=s.find(v=>v.name===h.resource),p=(y=(b=x==null?void 0:x.options)==null?void 0:b.auditLog)==null?void 0:y.permissions;if(p&&!Td(p,h.action))return;let C;return c&&(C=await u()),await((m=i.create)==null?void 0:m.call(i,{...h,author:l!=null?l:C==null?void 0:C.data}))},r),d=(0,no.useMutation)(async h=>{var b;return await((b=i.update)==null?void 0:b.call(i,h))},{onSuccess:h=>{if(h!=null&&h.resource){let b=Ge(h==null?void 0:h.resource);n.invalidateQueries(b.logList())}},...o});return{log:f,rename:d}},$m=a("react"),Um=a("@tanstack/react-query"),Gm=({resource:r,action:o,meta:n,author:i,metaData:s,queryOptions:l})=>{let{get:u}=(0,$m.useContext)(wr),c=Ge(r,void 0,s);return(0,Um.useQuery)(c.logList(n),()=>{var f;return(f=u==null?void 0:u({resource:r,action:o,author:i,meta:n,metaData:s}))!=null?f:Promise.resolve([])},{enabled:typeof u<"u",...l,retry:!1})},Qm=a("react"),zm=a("@tanstack/react-query"),Bt=()=>{let{resources:r}=he(),o=(0,zm.useQueryClient)();return(0,Qm.useCallback)(({resource:n,dataProviderName:i,invalidates:s,id:l})=>{if(s===!1)return;let u=Ge(n,Q(n,i,r));s.forEach(c=>{switch(c){case"all":o.invalidateQueries(u.all);break;case"list":o.invalidateQueries(u.list());break;case"many":o.invalidateQueries(u.many());break;case"resourceAll":o.invalidateQueries(u.resourceAll);break;case"detail":o.invalidateQueries(u.detail(l||""));break;default:break}})},[])},Hm=a("react"),Vm=N(a("warn-once")),jm=()=>{var r;let{useParams:o}=pe(),{i18nProvider:n}=(0,Hm.useContext)(Gt),i=re(),{resources:s,resource:l}=he(),{action:u}=o(),c=[];if(!(l!=null&&l.name))return{breadcrumbs:c};let f=d=>{var h;let b=s.find(y=>y.name===d);b&&(b.parentName&&f(b.parentName),c.push({label:(h=b.label)!=null?h:i(`${b.name}.${b.name}`,nr(b.name)),href:b.list?`/${b.route}`:void 0,icon:b.icon}))};if(l.parentName&&f(l.parentName),c.push({label:(r=l.label)!=null?r:i(`${l.name}.${l.name}`,nr(l.name)),href:l.list?`/${l.route}`:void 0,icon:l.icon}),u){let d=`actions.${u}`,h=i(d);typeof n<"u"&&h===d?((0,Vm.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:i(`buttons.${u}`,nr(u))})):c.push({label:i(d,nr(u))})}return{breadcrumbs:c}},At=N(a("react")),Km=()=>{let{resources:r}=he(),o=re(),{useLocation:n,useParams:i}=pe(),s=n(),l=i(),{hasDashboard:u}=Sr(),c=At.default.useMemo(()=>{let y=r.find(x=>(s==null?void 0:s.pathname)===`/${x.route}`);y||(y=r.find(x=>(l==null?void 0:l.resource)===x.route));let m;return y!=null&&y.route?m=`/${y==null?void 0:y.route}`:s.pathname==="/"?m="/":m=s==null?void 0:s.pathname,m},[r,s,l]),f=At.default.useMemo(()=>r.map(y=>{var m,x;let p=`/${y.route}`;return{...y,icon:y.icon,route:p,key:(m=y.key)!=null?m:p,label:(x=y.label)!=null?x:o(`${y.name}.${y.name}`,yo(y.name,"plural"))}}),[r,u,o]),d=At.default.useMemo(()=>qa(f),[f]),h=At.default.useCallback((y,m,x=!1)=>{let p=m.find(C=>x?C.name===y:C.route===y);if(p){let C=[];return x&&p.route&&C.unshift(p.route),p.parentName&&C.unshift(...h(p.parentName,m,!0)),C}return[]},[]),b=At.default.useMemo(()=>h(c,f),[c,f]);return At.default.useMemo(()=>{let y=m=>m.reduce((x,p)=>{var C,v;return p.children.length>0&&((C=p.options)==null?void 0:C.hide)!==!0?[...x,{...p,children:y(p.children)}]:typeof p.list<"u"&&((v=p.options)==null?void 0:v.hide)!==!0?[...x,p]:x},[]);return{defaultOpenKeys:b,selectedKey:c,menuItems:y(d)}},[b,c,d])},_m=()=>{let[r,o]=(0,Dt.useState)(),{push:n}=je(),i=re(),s=["edit","create","show"],{useParams:l}=pe(),u=l(),c=ut();return(0,Dt.useEffect)(()=>{if(u.resource){let f=c(u.resource);u.action&&s.includes(u.action)&&!f[u.action]&&o(i("pages.error.info",{action:u.action,resource:u.resource},`You may have forgotten to add the "${u.action}" component to "${u.resource}" resource.`))}},[u]),Dt.default.createElement(Dt.default.Fragment,null,Dt.default.createElement("h1",null,i("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),r&&Dt.default.createElement("p",null,r),Dt.default.createElement("button",{onClick:()=>n("/")},i("pages.error.backHome",void 0,"Back Home")))},ge=N(a("react")),rn=()=>{let[r,o]=(0,ge.useState)(""),[n,i]=(0,ge.useState)(""),s=re(),{mutate:l}=fo();return ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("h1",null,s("pages.login.title","Sign in your account")),ge.default.createElement("form",{onSubmit:u=>{u.preventDefault(),l({username:r,password:n})}},ge.default.createElement("table",null,ge.default.createElement("tbody",null,ge.default.createElement("tr",null,ge.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),ge.default.createElement("td",null,ge.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:r,onChange:u=>o(u.target.value)}))),ge.default.createElement("tr",null,ge.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),ge.default.createElement("td",null,ge.default.createElement("input",{type:"password",required:!0,size:20,value:n,onChange:u=>i(u.target.value)}))))),ge.default.createElement("br",null),ge.default.createElement("input",{type:"submit",value:"login"})))},It=N(a("react")),ee=N(a("react")),Ym=({providers:r,registerLink:o,forgotPasswordLink:n,rememberMe:i,contentProps:s,wrapperProps:l,renderContent:u,formProps:c})=>{let{Link:f}=pe(),[d,h]=(0,ee.useState)(""),[b,y]=(0,ee.useState)(""),[m,x]=(0,ee.useState)(!1),p=re(),{mutate:C}=fo(),v=(P,E)=>P?typeof P=="string"?ee.default.createElement(f,{to:P},E):P:null,T=()=>r?r.map(P=>{var E;return ee.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ee.default.createElement("button",{onClick:()=>C({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(E=P.label)!=null?E:ee.default.createElement("label",null,P.label)))}):null,S=ee.default.createElement("div",{...s},ee.default.createElement("h1",{style:{textAlign:"center"}},p("pages.login.title","Sign in to your account")),T(),ee.default.createElement("hr",null),ee.default.createElement("form",{onSubmit:P=>{P.preventDefault(),C({email:d,password:b,remember:m})},...c},ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ee.default.createElement("label",null,p("pages.login.fields.email","Email")),ee.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:P=>h(P.target.value)}),ee.default.createElement("label",null,p("pages.login.fields.password","Password")),ee.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:b,onChange:P=>y(P.target.value)}),i!=null?i:ee.default.createElement(ee.default.Fragment,null,ee.default.createElement("label",null,p("pages.login.buttons.rememberMe","Remember me"),ee.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:m,value:m.toString(),onChange:()=>{x(!m)}}))),ee.default.createElement("br",null),n!=null?n:v("/forgot-password",p("pages.login.buttons.forgotPassword","Forgot password?")),ee.default.createElement("input",{type:"submit",value:p("pages.login.signin","Sign in")}),o!=null?o:ee.default.createElement("span",null,p("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",v("/register",p("pages.login.register","Sign up"))))));return ee.default.createElement("div",{...l},u?u(S):S)},se=N(a("react")),Zm=({providers:r,loginLink:o,wrapperProps:n,contentProps:i,renderContent:s,formProps:l})=>{let{Link:u}=pe(),[c,f]=(0,se.useState)(""),[d,h]=(0,se.useState)(""),b=re(),{mutate:y,isLoading:m}=Ea(),x=(v,T)=>v?typeof v=="string"?se.default.createElement(u,{to:v},T):v:null,p=()=>r?r.map(v=>{var T;return se.default.createElement("div",{key:v.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},se.default.createElement("button",{onClick:()=>y({providerName:v.name}),style:{display:"flex",alignItems:"center"}},v==null?void 0:v.icon,(T=v.label)!=null?T:se.default.createElement("label",null,v.label)))}):null,C=se.default.createElement("div",{...i},se.default.createElement("h1",{style:{textAlign:"center"}},b("pages.register.title","Sign up for your account")),p(),se.default.createElement("hr",null),se.default.createElement("form",{onSubmit:v=>{v.preventDefault(),y({email:c,password:d})},...l},se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},se.default.createElement("label",null,b("pages.register.fields.email","Email")),se.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:v=>f(v.target.value)}),se.default.createElement("label",null,b("pages.register.fields.password","Password")),se.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:d,onChange:v=>h(v.target.value)}),se.default.createElement("input",{type:"submit",value:b("pages.register.buttons.submit","Sign up"),disabled:m}),o!=null?o:se.default.createElement(se.default.Fragment,null,se.default.createElement("span",null,b("pages.login.buttons.haveAccount","Have an account?")," ",x("login",b("pages.login.signin","Sign in")))))));return se.default.createElement("div",{...n},s?s(C):C)},Fe=N(a("react")),Xm=({loginLink:r,wrapperProps:o,contentProps:n,renderContent:i,formProps:s})=>{let l=re(),{Link:u}=pe(),[c,f]=(0,Fe.useState)(""),{mutate:d,isLoading:h}=wa(),b=(m,x)=>m?typeof m=="string"?Fe.default.createElement(u,{to:m},x):m:null,y=Fe.default.createElement("div",{...n},Fe.default.createElement("h1",{style:{textAlign:"center"}},l("pages.forgotPassword.title","Forgot your password?")),Fe.default.createElement("hr",null),Fe.default.createElement("form",{onSubmit:m=>{m.preventDefault(),d({email:c})},...s},Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Fe.default.createElement("label",null,l("pages.forgotPassword.fields.email","Email")),Fe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:m=>f(m.target.value)}),Fe.default.createElement("input",{type:"submit",disabled:h,value:l("pages.forgotPassword.buttons.submit","Send reset instructions")}),Fe.default.createElement("br",null),r!=null?r:Fe.default.createElement("span",null,l("pages.register.buttons.haveAccount","Have an account? ")," ",b("/login",l("pages.login.signin","Sign in"))))));return Fe.default.createElement("div",{...o},i?i(y):y)},Ne=N(a("react")),Jm=({wrapperProps:r,contentProps:o,renderContent:n,formProps:i})=>{let s=re(),{mutate:l,isLoading:u}=Da(),[c,f]=(0,Ne.useState)(""),[d,h]=(0,Ne.useState)(""),b=Ne.default.createElement("div",{...o},Ne.default.createElement("h1",{style:{textAlign:"center"}},s("pages.updatePassword.title","Update Password")),Ne.default.createElement("hr",null),Ne.default.createElement("form",{onSubmit:y=>{y.preventDefault(),l({password:c,confirmPassword:d})},...i},Ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ne.default.createElement("label",null,s("pages.updatePassword.fields.password","New Password")),Ne.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:c,onChange:y=>f(y.target.value)}),Ne.default.createElement("label",null,s("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ne.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:d,onChange:y=>h(y.target.value)}),Ne.default.createElement("input",{type:"submit",disabled:u,value:s("pages.updatePassword.buttons.submit","Update")}))));return Ne.default.createElement("div",{...r},n?n(b):b)},ep=r=>{let{type:o}=r;return It.default.createElement(It.default.Fragment,null,(()=>{switch(o){case"register":return It.default.createElement(Zm,{...r});case"forgotPassword":return It.default.createElement(Xm,{...r});case"updatePassword":return It.default.createElement(Jm,{...r});default:return It.default.createElement(Ym,{...r})}})())},we=N(a("react")),on=()=>we.default.createElement(we.default.Fragment,null,we.default.createElement("h1",null,"Welcome on board"),we.default.createElement("p",null,"Your configuration is completed."),we.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",we.default.createElement("code",null,"`resources`")," property of ",we.default.createElement("code",null,"`<Refine>`")),we.default.createElement("div",{style:{display:"flex",gap:8}},we.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Documentation")),we.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Examples")),we.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Community")))),ae=N(a("react")),io=a("@tanstack/react-query"),tp=a("@tanstack/react-query-devtools"),rp=a("react"),yt=a("react"),op="3.99.2",ap=()=>{let r=(0,yt.useContext)(qe),o=(0,yt.useContext)(wr),n=(0,yt.useContext)(ir),i=(0,yt.useContext)(Eo),s=(0,yt.useContext)(To),{i18nProvider:l}=(0,yt.useContext)(Gt),u=(0,yt.useContext)(Po),c=(0,yt.useContext)(Er),{resources:f}=he(),d=r.isProvided,h=!!o.create||!!o.get||!!o.update,b=!!(n!=null&&n.publish)||!!(n!=null&&n.subscribe)||!!(n!=null&&n.unsubscribe),y=!!i.useHistory||!!i.Link||!!i.Prompt||!!i.useLocation||!!i.useParams,m=!!s,x=!!(l!=null&&l.changeLocale)||!!(l!=null&&l.getLocale)||!!(l!=null&&l.translate),p=!!u.close||!!u.open,C=!!c.can;return{providers:{auth:d,auditLog:h,live:b,router:y,data:m,i18n:x,notification:p,accessControl:C},version:op,resourceCount:f.length}},np=r=>{let o=JSON.stringify(r||{});return typeof btoa<"u"?btoa(o):Buffer.from(o).toString("base64")},ip=()=>{let r=ap();return(0,rp.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let o=new Image;o.src=`https://telemetry.refine.dev/telemetry?payload=${np(r)}`},[]),null},sp=a("react"),lp=a("react"),up=N(a("lodash/isEqual")),dp=r=>{let o=(0,lp.useRef)(r);return(0,up.default)(o.current,r)||(o.current=r),o.current},ha=(r,o)=>{let n=dp(o);return(0,sp.useMemo)(r,n)},mp=({authProvider:r,dataProvider:o,routerProvider:n,notificationProvider:i,accessControlProvider:s,auditLogProvider:l,resources:u,DashboardPage:c,ReadyPage:f,LoginPage:d,catchAll:h,children:b,liveProvider:y,i18nProvider:m,mutationMode:x,syncWithLocation:p,warnWhenUnsavedChanges:C,undoableTimeout:v,Title:T,Layout:S,Sider:P,Header:E,Footer:D,OffLayoutArea:w,reactQueryClientConfig:L,reactQueryDevtoolConfig:M,liveMode:F,onLiveEvent:R,disableTelemetry:I,options:A})=>{let{optionsWithDefaults:k,disableTelemetryWithDefault:q,reactQueryWithDefaults:W}=wd({options:A,disableTelemetry:I,liveMode:F,mutationMode:x,reactQueryClientConfig:L,reactQueryDevtoolConfig:M,syncWithLocation:p,warnWhenUnsavedChanges:C,undoableTimeout:v}),_=ha(()=>{var U;return W.clientConfig instanceof io.QueryClient?W.clientConfig:new io.QueryClient({...W.clientConfig,defaultOptions:{...W.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(U=W.clientConfig.defaultOptions)==null?void 0:U.queries}}})},[W.clientConfig]),z=ae.default.useMemo(()=>typeof i=="function"?i:()=>i!=null?i:{},[i])(),X=ha(()=>{let U=[];return u==null||u.forEach(H=>{var me;U.push({key:H.key,name:H.name,label:(me=H.options)==null?void 0:me.label,icon:H.icon,route:xo(H,u),canCreate:!!H.create,canEdit:!!H.edit,canShow:!!H.show,canDelete:H.canDelete,create:H.create,show:H.show,list:H.list,edit:H.edit,options:H.options,parentName:H.parentName})}),U},[u]);if(X.length===0)return f?ae.default.createElement(f,null):ae.default.createElement(on,null);let{RouterComponent:$=ae.default.Fragment}=n;return ae.default.createElement(io.QueryClientProvider,{client:_},ae.default.createElement(am,{...z},ae.default.createElement(zu,{...r!=null?r:{},isProvided:Boolean(r)},ae.default.createElement(Vd,{...o},ae.default.createElement(Yd,{liveProvider:y},ae.default.createElement(Dm,{...n},ae.default.createElement(tm,{resources:X},ae.default.createElement(im,{i18nProvider:m},ae.default.createElement(Bm,{...s!=null?s:{}},ae.default.createElement(Wm,{...l!=null?l:{}},ae.default.createElement(Fd,null,ae.default.createElement(Ed,{mutationMode:k.mutationMode,warnWhenUnsavedChanges:k.warnWhenUnsavedChanges,syncWithLocation:k.syncWithLocation,Title:T,undoableTimeout:k.undoableTimeout,catchAll:h,DashboardPage:c,LoginPage:d,Layout:S,Sider:P,Footer:D,Header:E,OffLayoutArea:w,hasDashboard:!!c,liveMode:k.liveMode,onLiveEvent:R,options:k},ae.default.createElement(dm,null,ae.default.createElement($,null,b,!q&&ae.default.createElement(ip,null),ae.default.createElement(nn,null)))))))))))))),W.devtoolConfig===!1?null:ae.default.createElement(tp.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...W.devtoolConfig}))},ba=a("react"),an=({notification:r})=>{let o=re(),{notificationDispatch:n}=Ut(),{open:i}=ht(),[s,l]=(0,ba.useState)(),u=()=>{if(r.isRunning===!0&&(r.seconds===0&&r.doMutation(),r.isSilent||i==null||i({key:`${r.id}-${r.resource}-notification`,type:"progress",message:o("notifications.undoable",{seconds:to(r.seconds)},`You have ${to(r.seconds)} seconds to undo`),cancelMutation:r.cancelMutation,undoableTimeout:to(r.seconds)}),r.seconds>0)){s&&clearTimeout(s);let c=setTimeout(()=>{n({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:r.id,seconds:r.seconds,resource:r.resource}})},1e3);l(c)}};return(0,ba.useEffect)(()=>{u()},[r]),null},br=N(a("react")),pp=({children:r,Layout:o,Sider:n,Header:i,Title:s,Footer:l,OffLayoutArea:u})=>{let{Layout:c,Footer:f,Header:d,Sider:h,Title:b,OffLayoutArea:y}=Sr(),m=o!=null?o:c;return br.default.createElement(m,{Sider:n!=null?n:h,Header:i!=null?i:d,Footer:l!=null?l:f,Title:s!=null?s:b,OffLayoutArea:u!=null?u:y},r,br.default.createElement(cp,null))},cp=()=>{let{Prompt:r}=pe(),o=re(),{warnWhen:n,setWarnWhen:i}=So(),s=l=>(l.preventDefault(),l.returnValue=o("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),l.returnValue);return(0,br.useEffect)(()=>(n&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[n]),br.default.createElement(r,{when:n,message:o("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:i})},Wt=N(a("react")),fp=({children:r,fallback:o,loading:n})=>{let{isSuccess:i,isLoading:s,isError:l}=La(),{replace:u}=je(),{useLocation:c}=pe(),{pathname:f,search:d}=c();if(s)return Wt.default.createElement(Wt.default.Fragment,null,n)||null;if(l){if(!o){let h=`${f}${d}`;return f.includes("/login")||u(`/login?to=${encodeURIComponent(h)}`),null}return Wt.default.createElement(Wt.default.Fragment,null,o)}return i?Wt.default.createElement(Wt.default.Fragment,null,r):null},Ca=a("react"),nn=()=>{let{useLocation:r}=pe(),{checkAuth:o}=(0,Ca.useContext)(qe),n=r();return(0,Ca.useEffect)(()=>{o==null||o().catch(()=>!1)},[n==null?void 0:n.pathname]),null},$t=N(a("react")),gp=({resource:r,action:o,params:n,fallback:i,children:s,...l})=>{let{data:u}=en({resource:r,action:o,params:n});return u!=null&&u.can?$t.default.isValidElement(s)?$t.default.cloneElement(s,l):$t.default.createElement($t.default.Fragment,null,s):(u==null?void 0:u.can)===!1?$t.default.createElement($t.default.Fragment,null,i!=null?i:null):null}});var zt=eo((ec,vn)=>{var Do=Object.defineProperty,vp=Object.getOwnPropertyDescriptor,yp=Object.getOwnPropertyNames,xp=Object.prototype.hasOwnProperty,hp=(r,o)=>{for(var n in o)Do(r,n,{get:o[n],enumerable:!0})},bp=(r,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of yp(o))!xp.call(r,s)&&s!==n&&Do(r,s,{get:()=>o[s],enumerable:!(i=vp(o,s))||i.enumerable});return r},Cp=r=>bp(Do({},"__esModule",{value:!0}),r),gn={};hp(gn,{Controller:()=>_e.Controller,FormProvider:()=>_e.FormProvider,appendErrors:()=>_e.appendErrors,get:()=>_e.get,set:()=>_e.set,useController:()=>_e.useController,useFieldArray:()=>_e.useFieldArray,useForm:()=>Lo,useFormContext:()=>_e.useFormContext,useFormState:()=>_e.useFormState,useModalForm:()=>Sp,useReactHookForm:()=>_e.useForm,useStepsForm:()=>Pp,useWatch:()=>_e.useWatch});vn.exports=Cp(gn);var mn=a("react"),Tp=a("react-hook-form"),pn=V(),Lo=({refineCoreProps:r,warnWhenUnsavedChanges:o,...n}={})=>{let{warnWhenUnsavedChanges:i,setWarnWhen:s}=(0,pn.useWarnAboutChange)(),l=o!=null?o:i,u=(0,pn.useForm)({...r}),{queryResult:c,onFinish:f,formLoading:d}=u,h=(0,Tp.useForm)({...n}),{watch:b,reset:y,getValues:m,handleSubmit:x}=h;(0,mn.useEffect)(()=>{var v;if(typeof(c==null?void 0:c.data)<"u"){let T={},S=Object.keys(m());Object.entries(((v=c==null?void 0:c.data)==null?void 0:v.data)||{}).forEach(([P,E])=>{S.includes(P)&&(T[P]=E)}),y(T)}},[c==null?void 0:c.data]),(0,mn.useEffect)(()=>{let v=b((T,{type:S})=>{S==="change"&&p(T)});return()=>v.unsubscribe()},[b]);let p=v=>(l&&s(!0),v),C=(v,T)=>async S=>(s(!1),await x(v,T)(S));return{...h,handleSubmit:C,refineCore:u,saveButtonProps:{disabled:d,onClick:v=>{C(f,()=>!1)(v)}}}},cn=a("react"),Pp=({stepsProps:r,...o}={})=>{let{defaultStep:n=0,isBackValidate:i=!1}=r!=null?r:{},[s,l]=(0,cn.useState)(n),u=Lo({...o}),{trigger:c,getValues:f,reset:d,formState:{dirtyFields:h},refineCore:{queryResult:b}}=u;(0,cn.useEffect)(()=>{var m;if(b!=null&&b.data){let x={},p=Object.keys(f());Object.entries((m=b==null?void 0:b.data)==null?void 0:m.data).forEach(([C,v])=>{p.includes(C)&&(h[C]?x[C]=f(C):x[C]=v)}),d(x,{keepDirty:!0,keepValues:!0})}},[b==null?void 0:b.data,s]);let y=m=>{let x=m;m<0&&(x=0),l(x)};return{...u,steps:{currentStep:s,gotoStep:async m=>{if(m!==s){if(m<s&&!i){y(m);return}await c()&&y(m)}}}}},fn=a("react"),ur=V(),Sp=({modalProps:r,refineCoreProps:o,...n}={})=>{let i=(0,ur.useTranslate)(),{resource:s,action:l}=o!=null?o:{},{defaultVisible:u=!1,autoSubmitClose:c=!0,autoResetForm:f=!0}=r!=null?r:{},d=Lo({refineCoreProps:o,...n}),{reset:h,refineCore:{onFinish:b,setId:y},saveButtonProps:m,handleSubmit:x}=d,{visible:p,show:C,close:v}=(0,ur.useModal)({defaultVisible:u}),T=async M=>{await b(M),c&&v(),f&&h()},{resourceName:S}=(0,ur.useResource)({resourceNameOrRouteName:s}),{warnWhen:P,setWarnWhen:E}=(0,ur.useWarnAboutChange)(),D=(0,fn.useCallback)(()=>{if(P)if(window.confirm(i("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))E(!1);else return;y==null||y(void 0),v()},[P]),w=(0,fn.useCallback)(M=>{y==null||y(M),C()},[]),L=i(`${S}.titles.${l}`,void 0,`${(0,ur.userFriendlyResourceName)(`${l} ${S}`,"singular")}`);return{modal:{submit:T,close:D,show:w,visible:p,title:L},...d,saveButtonProps:{...m,onClick:M=>x(T)(M)}}},_e=a("react-hook-form")});var Ye=eo((lf,qn)=>{var No=Object.defineProperty,Ep=Object.getOwnPropertyDescriptor,wp=Object.getOwnPropertyNames,Dp=Object.prototype.hasOwnProperty,Lp=(r,o)=>{for(var n in o)No(r,n,{get:o[n],enumerable:!0})},kp=(r,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of wp(o))!Dp.call(r,s)&&s!==n&&No(r,s,{get:()=>o[s],enumerable:!(i=Ep(o,s))||i.enumerable});return r},Bp=r=>kp(No({},"__esModule",{value:!0}),r),Nn={};Lp(Nn,{RefineButtonTestIds:()=>Mp});qn.exports=Bp(Nn);var Mp={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var e={};Nu(e,{Accordion:()=>Xi.default,AccordionActions:()=>Ji.default,AccordionDetails:()=>es.default,AccordionSummary:()=>ts.default,Alert:()=>rs.default,AlertTitle:()=>os.default,AppBar:()=>as.default,AuthPage:()=>En,Autocomplete:()=>ns.default,Avatar:()=>is.default,AvatarGroup:()=>ss.default,Backdrop:()=>ls.default,Badge:()=>us.default,BooleanField:()=>vi,BottomNavigation:()=>ds.default,BottomNavigationAction:()=>ms.default,Box:()=>ps.default,Breadcrumb:()=>dt,Breadcrumbs:()=>cs.default,Button:()=>fs.default,ButtonBase:()=>gs.default,ButtonGroup:()=>vs.default,Card:()=>ys.default,CardActionArea:()=>xs.default,CardActions:()=>hs.default,CardContent:()=>bs.default,CardHeader:()=>Cs.default,CardMedia:()=>Ts.default,Checkbox:()=>Ps.default,Chip:()=>Ss.default,CircularDeterminate:()=>zo,CircularProgress:()=>Es.default,ClickAwayListener:()=>ws.default,CloneButton:()=>oi,Collapse:()=>Ds.default,Container:()=>Ls.default,Create:()=>Dn,CreateButton:()=>Or,CssBaseline:()=>ks.default,DarkTheme:()=>Ip,DateField:()=>bi,DeleteButton:()=>_t,Dialog:()=>Ms.default,DialogActions:()=>Fs.default,DialogContent:()=>Ns.default,DialogContentText:()=>qs.default,DialogTitle:()=>Os.default,Divider:()=>Rs.default,Drawer:()=>As.default,Edit:()=>kn,EditButton:()=>Rr,EmailField:()=>fi,ErrorComponent:()=>Cn,ExportButton:()=>Zn,Fab:()=>Is.default,Fade:()=>Ws.default,FileField:()=>Ti,FilledInput:()=>$s.default,FormControl:()=>Us.default,FormControlLabel:()=>Gs.default,FormGroup:()=>Qs.default,FormHelperText:()=>zs.default,FormLabel:()=>Hs.default,GlobalStyles:()=>Pu.default,Grid:()=>Vs.default,Grow:()=>js.default,Header:()=>Br,Hidden:()=>Ks.default,Icon:()=>_s.default,IconButton:()=>Ys.default,ImageList:()=>Zs.default,ImageListItem:()=>Xs.default,ImageListItemBar:()=>Js.default,ImportButton:()=>si,Input:()=>el.default,InputAdornment:()=>tl.default,InputBase:()=>rl.default,InputLabel:()=>ol.default,Layout:()=>ln,LightTheme:()=>Ap,LinearProgress:()=>al.default,Link:()=>nl.default,List:()=>Bn,ListButton:()=>Zt,ListItem:()=>sl.default,ListItemAvatar:()=>ll.default,ListItemButton:()=>ul.default,ListItemIcon:()=>dl.default,ListItemSecondaryAction:()=>ml.default,ListItemText:()=>pl.default,ListSubheader:()=>cl.default,LoadingButton:()=>Zi.default,LoginPage:()=>xn,MarkdownField:()=>ki,Menu:()=>fl.default,MenuItem:()=>gl.default,MenuList:()=>vl.default,MobileStepper:()=>yl.default,Modal:()=>xl.default,MuiList:()=>il.default,NativeSelect:()=>hl.default,NoSsr:()=>bl.default,NotistackSnackbarContent:()=>wt.SnackbarContent,NumberField:()=>Ei,OutlinedInput:()=>Cl.default,Pagination:()=>Tl.default,PaginationItem:()=>Pl.default,Paper:()=>Sl.default,Popover:()=>El.default,Popper:()=>wl.default,Portal:()=>Dl.default,Radio:()=>Ll.default,RadioGroup:()=>kl.default,Rating:()=>Bl.default,ReadyPage:()=>hn,RefineSnackbarProvider:()=>$p,RefreshButton:()=>Yt,SaveButton:()=>Kt,ScopedCssBaseline:()=>Ml.default,Select:()=>Fl.default,Show:()=>Fn,ShowButton:()=>Hn,Sider:()=>Lr,Skeleton:()=>Nl.default,Slide:()=>ql.default,Slider:()=>Ol.default,Snackbar:()=>Rl.default,SnackbarContent:()=>Al.default,SnackbarProvider:()=>wt.SnackbarProvider,SpeedDial:()=>Il.default,SpeedDialAction:()=>Wl.default,SpeedDialIcon:()=>$l.default,Stack:()=>Ul.default,Step:()=>Gl.default,StepButton:()=>Ql.default,StepConnector:()=>zl.default,StepContent:()=>Hl.default,StepIcon:()=>Vl.default,StepLabel:()=>jl.default,Stepper:()=>Kl.default,SvgIcon:()=>_l.default,SwipeableDrawer:()=>Yl.default,Switch:()=>Zl.default,Tab:()=>Xl.default,TabScrollButton:()=>uu.default,Table:()=>Jl.default,TableBody:()=>eu.default,TableCell:()=>tu.default,TableContainer:()=>ru.default,TableFooter:()=>ou.default,TableHead:()=>au.default,TablePagination:()=>nu.default,TableRow:()=>iu.default,TableSortLabel:()=>su.default,Tabs:()=>lu.default,TagField:()=>ci,TextField:()=>du.default,TextFieldComponent:()=>di,TextareaAutosize:()=>pu.default,ThemeProvider:()=>B.ThemeProvider,Title:()=>kr,ToggleButton:()=>cu.default,ToggleButtonGroup:()=>fu.default,Toolbar:()=>gu.default,Tooltip:()=>vu.default,Typography:()=>yu.default,UrlField:()=>Qr,Zoom:()=>Cu.default,alpha:()=>B.alpha,colors:()=>Up,createStyles:()=>B.createStyles,createTheme:()=>B.createTheme,css:()=>B.css,darkScrollbar:()=>Bs.default,darken:()=>B.darken,decomposeColor:()=>B.decomposeColor,duration:()=>B.duration,easing:()=>B.easing,emphasize:()=>B.emphasize,experimentalStyled:()=>B.experimentalStyled,experimental_extendTheme:()=>B.experimental_extendTheme,generateUtilityClass:()=>Eu.default,generateUtilityClasses:()=>wu.default,getContrastRatio:()=>B.getContrastRatio,getGridUtilityClass:()=>Kr.getGridUtilityClass,getInitColorSchemeScript:()=>B.getInitColorSchemeScript,getListUtilityClass:()=>_r.getListUtilityClass,getLuminance:()=>B.getLuminance,getTypographyUtilityClass:()=>Yr.getTypographyUtilityClass,gridClasses:()=>Kr.gridClasses,hexToRgb:()=>B.hexToRgb,hslToRgb:()=>B.hslToRgb,keyframes:()=>B.keyframes,lighten:()=>B.lighten,listClasses:()=>_r.listClasses,locale:()=>Gp,makeStyles:()=>B.makeStyles,notificationProvider:()=>Wp,recomposeColor:()=>B.recomposeColor,responsiveFontSizes:()=>B.responsiveFontSizes,rgbToHex:()=>B.rgbToHex,styled:()=>B.styled,textFieldClasses:()=>mu.textFieldClasses,typographyClasses:()=>Yr.typographyClasses,unstable_composeClasses:()=>Su.default,unstable_createMuiStrictModeTheme:()=>B.unstable_createMuiStrictModeTheme,unstable_getUnit:()=>B.unstable_getUnit,unstable_toUnitless:()=>B.unstable_toUnitless,useAutocomplete:()=>qp,useColorScheme:()=>B.useColorScheme,useDataGrid:()=>$i,useMediaQuery:()=>xu.default,useMenu:()=>Rp,useMuiAutocomplete:()=>Tu.default,usePagination:()=>hu.default,useScrollTrigger:()=>bu.default,useSnackbar:()=>wt.useSnackbar,useTheme:()=>B.useTheme,useThemeProps:()=>B.useThemeProps,withSnackbar:()=>wt.withSnackbar,withStyles:()=>B.withStyles,withTheme:()=>B.withTheme});t(e,a("@mui/x-data-grid"));t(e,a("@mui/system"));var Zi=g(a("@mui/lab/LoadingButton"));t(e,a("@mui/lab/LoadingButton"));var Up=g(a("@mui/material/colors")),Gp=g(a("@mui/material/locale")),B=a("@mui/material/styles");t(e,a("@mui/material/utils"));var Xi=g(a("@mui/material/Accordion"));t(e,a("@mui/material/Accordion"));var Ji=g(a("@mui/material/AccordionActions"));t(e,a("@mui/material/AccordionActions"));var es=g(a("@mui/material/AccordionDetails"));t(e,a("@mui/material/AccordionDetails"));var ts=g(a("@mui/material/AccordionSummary"));t(e,a("@mui/material/AccordionSummary"));var rs=g(a("@mui/material/Alert"));t(e,a("@mui/material/Alert"));var os=g(a("@mui/material/AlertTitle"));t(e,a("@mui/material/AlertTitle"));var as=g(a("@mui/material/AppBar"));t(e,a("@mui/material/AppBar"));var ns=g(a("@mui/material/Autocomplete"));t(e,a("@mui/material/Autocomplete"));var is=g(a("@mui/material/Avatar"));t(e,a("@mui/material/Avatar"));var ss=g(a("@mui/material/AvatarGroup"));t(e,a("@mui/material/AvatarGroup"));var ls=g(a("@mui/material/Backdrop"));t(e,a("@mui/material/Backdrop"));var us=g(a("@mui/material/Badge"));t(e,a("@mui/material/Badge"));var ds=g(a("@mui/material/BottomNavigation"));t(e,a("@mui/material/BottomNavigation"));var ms=g(a("@mui/material/BottomNavigationAction"));t(e,a("@mui/material/BottomNavigationAction"));var ps=g(a("@mui/material/Box")),cs=g(a("@mui/material/Breadcrumbs"));t(e,a("@mui/material/Breadcrumbs"));var fs=g(a("@mui/material/Button"));t(e,a("@mui/material/Button"));var gs=g(a("@mui/material/ButtonBase"));t(e,a("@mui/material/ButtonBase"));var vs=g(a("@mui/material/ButtonGroup"));t(e,a("@mui/material/ButtonGroup"));var ys=g(a("@mui/material/Card"));t(e,a("@mui/material/Card"));var xs=g(a("@mui/material/CardActionArea"));t(e,a("@mui/material/CardActionArea"));var hs=g(a("@mui/material/CardActions"));t(e,a("@mui/material/CardActions"));var bs=g(a("@mui/material/CardContent"));t(e,a("@mui/material/CardContent"));var Cs=g(a("@mui/material/CardHeader"));t(e,a("@mui/material/CardHeader"));var Ts=g(a("@mui/material/CardMedia"));t(e,a("@mui/material/CardMedia"));var Ps=g(a("@mui/material/Checkbox"));t(e,a("@mui/material/Checkbox"));var Ss=g(a("@mui/material/Chip"));t(e,a("@mui/material/Chip"));var Es=g(a("@mui/material/CircularProgress"));t(e,a("@mui/material/CircularProgress"));var ws=g(a("@mui/material/ClickAwayListener"));t(e,a("@mui/material/ClickAwayListener"));var Ds=g(a("@mui/material/Collapse"));t(e,a("@mui/material/Collapse"));var Ls=g(a("@mui/material/Container")),ks=g(a("@mui/material/CssBaseline"));t(e,a("@mui/material/CssBaseline"));var Bs=g(a("@mui/material/darkScrollbar"));t(e,a("@mui/material/darkScrollbar"));var Ms=g(a("@mui/material/Dialog"));t(e,a("@mui/material/Dialog"));var Fs=g(a("@mui/material/DialogActions"));t(e,a("@mui/material/DialogActions"));var Ns=g(a("@mui/material/DialogContent"));t(e,a("@mui/material/DialogContent"));var qs=g(a("@mui/material/DialogContentText"));t(e,a("@mui/material/DialogContentText"));var Os=g(a("@mui/material/DialogTitle"));t(e,a("@mui/material/DialogTitle"));var Rs=g(a("@mui/material/Divider"));t(e,a("@mui/material/Divider"));var As=g(a("@mui/material/Drawer"));t(e,a("@mui/material/Drawer"));var Is=g(a("@mui/material/Fab"));t(e,a("@mui/material/Fab"));var Ws=g(a("@mui/material/Fade"));t(e,a("@mui/material/Fade"));var $s=g(a("@mui/material/FilledInput"));t(e,a("@mui/material/FilledInput"));var Us=g(a("@mui/material/FormControl"));t(e,a("@mui/material/FormControl"));var Gs=g(a("@mui/material/FormControlLabel"));t(e,a("@mui/material/FormControlLabel"));var Qs=g(a("@mui/material/FormGroup"));t(e,a("@mui/material/FormGroup"));var zs=g(a("@mui/material/FormHelperText"));t(e,a("@mui/material/FormHelperText"));var Hs=g(a("@mui/material/FormLabel"));t(e,a("@mui/material/FormLabel"));var Vs=g(a("@mui/material/Grid")),Kr=a("@mui/material/Grid"),js=g(a("@mui/material/Grow"));t(e,a("@mui/material/Grow"));var Ks=g(a("@mui/material/Hidden"));t(e,a("@mui/material/Hidden"));var _s=g(a("@mui/material/Icon"));t(e,a("@mui/material/Icon"));var Ys=g(a("@mui/material/IconButton"));t(e,a("@mui/material/IconButton"));var Zs=g(a("@mui/material/ImageList"));t(e,a("@mui/material/ImageList"));var Xs=g(a("@mui/material/ImageListItem"));t(e,a("@mui/material/ImageListItem"));var Js=g(a("@mui/material/ImageListItemBar"));t(e,a("@mui/material/ImageListItemBar"));var el=g(a("@mui/material/Input"));t(e,a("@mui/material/Input"));var tl=g(a("@mui/material/InputAdornment"));t(e,a("@mui/material/InputAdornment"));var rl=g(a("@mui/material/InputBase"));t(e,a("@mui/material/InputBase"));var ol=g(a("@mui/material/InputLabel"));t(e,a("@mui/material/InputLabel"));var al=g(a("@mui/material/LinearProgress"));t(e,a("@mui/material/LinearProgress"));var nl=g(a("@mui/material/Link"));t(e,a("@mui/material/Link"));var il=g(a("@mui/material/List")),_r=a("@mui/material/List"),sl=g(a("@mui/material/ListItem"));t(e,a("@mui/material/ListItem"));var ll=g(a("@mui/material/ListItemAvatar"));t(e,a("@mui/material/ListItemAvatar"));var ul=g(a("@mui/material/ListItemButton"));t(e,a("@mui/material/ListItemButton"));var dl=g(a("@mui/material/ListItemIcon"));t(e,a("@mui/material/ListItemIcon"));var ml=g(a("@mui/material/ListItemSecondaryAction"));t(e,a("@mui/material/ListItemSecondaryAction"));var pl=g(a("@mui/material/ListItemText"));t(e,a("@mui/material/ListItemText"));var cl=g(a("@mui/material/ListSubheader"));t(e,a("@mui/material/ListSubheader"));var fl=g(a("@mui/material/Menu"));t(e,a("@mui/material/Menu"));var gl=g(a("@mui/material/MenuItem"));t(e,a("@mui/material/MenuItem"));var vl=g(a("@mui/material/MenuList"));t(e,a("@mui/material/MenuList"));var yl=g(a("@mui/material/MobileStepper"));t(e,a("@mui/material/MobileStepper"));var xl=g(a("@mui/material/Modal"));t(e,a("@mui/material/Modal"));var hl=g(a("@mui/material/NativeSelect"));t(e,a("@mui/material/NativeSelect"));var bl=g(a("@mui/material/NoSsr"));t(e,a("@mui/material/NoSsr"));var Cl=g(a("@mui/material/OutlinedInput"));t(e,a("@mui/material/OutlinedInput"));var Tl=g(a("@mui/material/Pagination"));t(e,a("@mui/material/Pagination"));var Pl=g(a("@mui/material/PaginationItem"));t(e,a("@mui/material/PaginationItem"));var Sl=g(a("@mui/material/Paper"));t(e,a("@mui/material/Paper"));var El=g(a("@mui/material/Popover"));t(e,a("@mui/material/Popover"));var wl=g(a("@mui/material/Popper"));t(e,a("@mui/material/Popper"));var Dl=g(a("@mui/material/Portal"));t(e,a("@mui/material/Portal"));var Ll=g(a("@mui/material/Radio"));t(e,a("@mui/material/Radio"));var kl=g(a("@mui/material/RadioGroup"));t(e,a("@mui/material/RadioGroup"));var Bl=g(a("@mui/material/Rating"));t(e,a("@mui/material/Rating"));var Ml=g(a("@mui/material/ScopedCssBaseline"));t(e,a("@mui/material/ScopedCssBaseline"));var Fl=g(a("@mui/material/Select"));t(e,a("@mui/material/Select"));var Nl=g(a("@mui/material/Skeleton"));t(e,a("@mui/material/Skeleton"));var ql=g(a("@mui/material/Slide"));t(e,a("@mui/material/Slide"));var Ol=g(a("@mui/material/Slider"));t(e,a("@mui/material/Slider"));var Rl=g(a("@mui/material/Snackbar"));t(e,a("@mui/material/Snackbar"));var Al=g(a("@mui/material/SnackbarContent"));t(e,a("@mui/material/SnackbarContent"));var Il=g(a("@mui/material/SpeedDial"));t(e,a("@mui/material/SpeedDial"));var Wl=g(a("@mui/material/SpeedDialAction"));t(e,a("@mui/material/SpeedDialAction"));var $l=g(a("@mui/material/SpeedDialIcon"));t(e,a("@mui/material/SpeedDialIcon"));var Ul=g(a("@mui/material/Stack")),Gl=g(a("@mui/material/Step"));t(e,a("@mui/material/Step"));var Ql=g(a("@mui/material/StepButton"));t(e,a("@mui/material/StepButton"));var zl=g(a("@mui/material/StepConnector"));t(e,a("@mui/material/StepConnector"));var Hl=g(a("@mui/material/StepContent"));t(e,a("@mui/material/StepContent"));var Vl=g(a("@mui/material/StepIcon"));t(e,a("@mui/material/StepIcon"));var jl=g(a("@mui/material/StepLabel"));t(e,a("@mui/material/StepLabel"));var Kl=g(a("@mui/material/Stepper"));t(e,a("@mui/material/Stepper"));var _l=g(a("@mui/material/SvgIcon"));t(e,a("@mui/material/SvgIcon"));var Yl=g(a("@mui/material/SwipeableDrawer"));t(e,a("@mui/material/SwipeableDrawer"));var Zl=g(a("@mui/material/Switch"));t(e,a("@mui/material/Switch"));var Xl=g(a("@mui/material/Tab"));t(e,a("@mui/material/Tab"));var Jl=g(a("@mui/material/Table"));t(e,a("@mui/material/Table"));var eu=g(a("@mui/material/TableBody"));t(e,a("@mui/material/TableBody"));var tu=g(a("@mui/material/TableCell"));t(e,a("@mui/material/TableCell"));var ru=g(a("@mui/material/TableContainer"));t(e,a("@mui/material/TableContainer"));var ou=g(a("@mui/material/TableFooter"));t(e,a("@mui/material/TableFooter"));var au=g(a("@mui/material/TableHead"));t(e,a("@mui/material/TableHead"));var nu=g(a("@mui/material/TablePagination"));t(e,a("@mui/material/TablePagination"));var iu=g(a("@mui/material/TableRow"));t(e,a("@mui/material/TableRow"));var su=g(a("@mui/material/TableSortLabel"));t(e,a("@mui/material/TableSortLabel"));var lu=g(a("@mui/material/Tabs"));t(e,a("@mui/material/Tabs"));var uu=g(a("@mui/material/TabScrollButton"));t(e,a("@mui/material/TabScrollButton"));var du=g(a("@mui/material/TextField")),mu=a("@mui/material/TextField"),pu=g(a("@mui/material/TextareaAutosize"));t(e,a("@mui/material/TextareaAutosize"));var cu=g(a("@mui/material/ToggleButton"));t(e,a("@mui/material/ToggleButton"));var fu=g(a("@mui/material/ToggleButtonGroup"));t(e,a("@mui/material/ToggleButtonGroup"));var gu=g(a("@mui/material/Toolbar"));t(e,a("@mui/material/Toolbar"));var vu=g(a("@mui/material/Tooltip"));t(e,a("@mui/material/Tooltip"));var yu=g(a("@mui/material/Typography")),Yr=a("@mui/material/Typography"),xu=g(a("@mui/material/useMediaQuery"));t(e,a("@mui/material/useMediaQuery"));var hu=g(a("@mui/material/usePagination"));t(e,a("@mui/material/usePagination"));var bu=g(a("@mui/material/useScrollTrigger"));t(e,a("@mui/material/useScrollTrigger"));var Cu=g(a("@mui/material/Zoom"));t(e,a("@mui/material/Zoom"));var Tu=g(a("@mui/material/useAutocomplete")),Pu=g(a("@mui/material/GlobalStyles")),Su=g(a("@mui/base/composeClasses")),Eu=g(a("@mui/base/generateUtilityClass"));t(e,a("@mui/base/generateUtilityClass"));var wu=g(a("@mui/base/generateUtilityClasses")),wt=a("notistack");var bt=g(a("react")),Mr=a("@mui/material");var O=g(a("react")),G=a("@mui/material"),xe=a("@mui/icons-material"),ce=g(V());var Lr=({render:r})=>{let[o,n]=(0,O.useState)(!1),[i,s]=(0,O.useState)(!1),l=()=>o?64:200,u=(0,ce.useTranslate)(),{Link:c}=(0,ce.useRouterContext)(),{hasDashboard:f}=(0,ce.useRefineContext)(),d=(0,ce.useTranslate)(),{menuItems:h,selectedKey:b,defaultOpenKeys:y}=(0,ce.useMenu)(),m=(0,ce.useIsExistAuthentication)(),{mutate:x}=(0,ce.useLogout)(),p=(0,ce.useTitle)(),[C,v]=(0,O.useState)({});O.default.useEffect(()=>{v(F=>{let I=Object.keys(F).filter(q=>F[q]),A=new Set([...I,...y]);return Object.fromEntries(Array.from(A.values()).map(q=>[q,!0]))})},[y]);let T=p!=null?p:kr,S=F=>{v({...C,[F]:!C[F]})},P=(F,R)=>F.map(I=>{let{icon:A,label:k,route:q,name:W,children:_,parentName:z}=I,X=C[q||""]||!1,$=q===R,U=z!==void 0;return _.length>0?O.default.createElement(ce.CanAccess,{key:q,resource:W.toLowerCase(),action:"list",params:{resource:I}},O.default.createElement("div",{key:q},O.default.createElement(G.Tooltip,{title:k!=null?k:W,placement:"right",disableHoverListener:!o,arrow:!0},O.default.createElement(G.ListItemButton,{onClick:()=>{o?(n(!1),X||S(q||"")):S(q||"")},sx:{pl:U?4:2,justifyContent:"center","&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"}}},O.default.createElement(G.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"primary.contrastText"}},A!=null?A:O.default.createElement(xe.ListOutlined,null)),O.default.createElement(G.ListItemText,{primary:k,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:$?"bold":"normal"}}),!o&&(X?O.default.createElement(xe.ExpandLess,null):O.default.createElement(xe.ExpandMore,null)))),!o&&O.default.createElement(G.Collapse,{in:C[q||""],timeout:"auto",unmountOnExit:!0},O.default.createElement(G.List,{component:"div",disablePadding:!0},P(_,R))))):O.default.createElement(ce.CanAccess,{key:q,resource:W.toLowerCase(),action:"list",params:{resource:I}},O.default.createElement(G.Tooltip,{title:k!=null?k:W,placement:"right",disableHoverListener:!o,arrow:!0},O.default.createElement(G.ListItemButton,{component:c,to:q,selected:$,onClick:()=>{s(!1)},sx:{pl:U?4:2,py:U?1.25:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},O.default.createElement(G.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"primary.contrastText"}},A!=null?A:O.default.createElement(xe.ListOutlined,null)),O.default.createElement(G.ListItemText,{primary:k,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:$?"bold":"normal"}}))))}),E=f?O.default.createElement(ce.CanAccess,{resource:"dashboard",action:"list"},O.default.createElement(G.Tooltip,{title:d("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!o,arrow:!0},O.default.createElement(G.ListItemButton,{component:c,to:"/",selected:b==="/",onClick:()=>{s(!1)},sx:{pl:2,py:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},O.default.createElement(G.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"primary.contrastText"}},O.default.createElement(xe.Dashboard,null)),O.default.createElement(G.ListItemText,{primary:d("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:b==="/"?"bold":"normal"}})))):null,D=m&&O.default.createElement(G.Tooltip,{title:u("buttons.logout","Logout"),placement:"right",disableHoverListener:!o,arrow:!0},O.default.createElement(G.ListItemButton,{key:"logout",onClick:()=>x(),sx:{justifyContent:"center"}},O.default.createElement(G.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"primary.contrastText"}},O.default.createElement(xe.Logout,null)),O.default.createElement(G.ListItemText,{primary:u("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),w=P(h,b),M=O.default.createElement(G.List,{disablePadding:!0,sx:{mt:1,color:"primary.contrastText"}},(()=>r?r({dashboard:E,logout:D,items:w,collapsed:o}):O.default.createElement(O.default.Fragment,null,E,w,D))());return O.default.createElement(O.default.Fragment,null,O.default.createElement(G.Box,{sx:{width:{xs:l()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),O.default.createElement(G.Box,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:l()},display:"flex"}},O.default.createElement(G.Drawer,{variant:"temporary",open:i,onClose:()=>s(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{width:256,bgcolor:"secondary.main"}}},O.default.createElement(G.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},O.default.createElement(T,{collapsed:!1})),M),O.default.createElement(G.Drawer,{variant:"permanent",PaperProps:{elevation:1},sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:l,bgcolor:"secondary.main",overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},O.default.createElement(G.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},O.default.createElement(T,{collapsed:o})),O.default.createElement(G.Box,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},M),O.default.createElement(G.Button,{sx:{background:"rgba(0,0,0,.5)",color:"primary.contrastText",textAlign:"center",borderRadius:0,borderTop:"1px solid #ffffff1a"},fullWidth:!0,size:"large",onClick:()=>n(F=>!F)},o?O.default.createElement(xe.ChevronRight,null):O.default.createElement(xe.ChevronLeft,null))),O.default.createElement(G.Box,{sx:{display:{xs:"block",md:"none"},position:"fixed",top:"64px",left:"0px",borderRadius:"0 6px 6px 0",bgcolor:"secondary.main",zIndex:1199,width:"36px"}},O.default.createElement(G.IconButton,{sx:{color:"#fff",width:"36px"},onClick:()=>s(F=>!F)},O.default.createElement(xe.MenuRounded,null)))))};var Mt=g(a("react")),sn=g(V()),Ke=a("@mui/material"),Br=()=>{let{data:r}=(0,sn.useGetIdentity)();return r&&(r.name||r.avatar)?Mt.default.createElement(Ke.AppBar,{color:"default",position:"sticky",elevation:1},Mt.default.createElement(Ke.Toolbar,null,Mt.default.createElement(Ke.Stack,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},Mt.default.createElement(Ke.Stack,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},Mt.default.createElement(Ke.Typography,{variant:"subtitle2"},r==null?void 0:r.name),Mt.default.createElement(Ke.Avatar,{src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name}))))):null};var ln=({Sider:r,Header:o,Footer:n,OffLayoutArea:i,children:s})=>{let l=r!=null?r:Lr,u=o!=null?o:Br;return bt.default.createElement(Mr.Box,{display:"flex",flexDirection:"row"},bt.default.createElement(l,null),bt.default.createElement(Mr.Box,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"}},bt.default.createElement(u,null),bt.default.createElement(Mr.Box,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:c=>c.palette.background.default}},s),n&&bt.default.createElement(n,null)),i&&bt.default.createElement(i,null))};var lr=g(a("react")),un=g(V()),dn=a("@mui/material"),kr=({collapsed:r})=>{let{Link:o}=(0,un.useRouterContext)();return lr.default.createElement(dn.Button,{fullWidth:!0,variant:"text",disableRipple:!0},lr.default.createElement(o,{to:"/"},r?lr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",width:"28px",style:{maxHeight:"38px"}}):lr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))};var Z=g(a("react")),yn=g(zt()),K=a("@mui/material"),Fr=g(V()),xn=()=>{var u;let{register:r,handleSubmit:o,formState:{errors:n}}=(0,yn.useForm)(),{mutate:i,isLoading:s}=(0,Fr.useLogin)(),l=(0,Fr.useTranslate)();return Z.createElement(Z.Fragment,null,Z.createElement(K.Box,{component:"div",sx:{background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"}},Z.createElement(K.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},Z.createElement(K.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},Z.createElement("div",null,Z.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo",style:{maxWidth:200}})),Z.createElement(K.Box,{mt:4},Z.createElement(K.Card,null,Z.createElement(K.CardContent,{sx:{paddingX:"32px"}},Z.createElement(K.Typography,{component:"h1",variant:"h5",align:"center",sx:{fontWeight:"700",margin:"12px 0"}},l("pages.login.title","Sign in your account")),Z.createElement(K.Box,{component:"form",onSubmit:o(c=>{i(c)}),gap:"16px"},Z.createElement(K.TextField,{...r("username",{required:!0}),id:"username",margin:"normal",size:"small",fullWidth:!0,label:l("pages.login.username","Username"),name:"username",autoComplete:"username",autoFocus:!0}),Z.createElement(K.TextField,{...r("password",{required:!0}),id:"password",size:"small",margin:"normal",fullWidth:!0,name:"password",label:l("pages.login.password","Password"),helperText:(u=n==null?void 0:n.password)==null?void 0:u.message,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),Z.createElement(K.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Z.createElement(K.FormControlLabel,{sx:{span:{fontSize:"12px",color:"text.secondary"}},color:"secondary",control:Z.createElement(K.Checkbox,{size:"small",id:"remember",...r("remember")}),label:l("pages.login.remember","Remember me")}),Z.createElement(K.Link,{href:"#",sx:{fontSize:"12px",textDecoration:"none"}},Z.createElement(K.Typography,{sx:{fontSize:"12px"}},l("pages.login.forgotPassword","Forgot password?")))),Z.createElement(K.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:s},l("pages.login.signin","Sign in")),Z.createElement(K.Box,{style:{marginTop:8}},Z.createElement(K.Typography,{variant:"subtitle2"},l("pages.login.noAccount","Don\u2019t have an account?")," ",Z.createElement(K.Link,{underline:"none",href:"#",style:{fontWeight:"bold"}},l("pages.login.signup","Sign up"))))))))))))};var le=g(a("react")),ue=a("@mui/material"),hn=()=>{let r=o=>le.createElement(ue.Typography,{sx:{backgroundColor:n=>n.palette.secondary.contrastText,color:n=>n.palette.secondary.main,display:"inline-block",fontFamily:"monospace"}},o);return le.createElement(le.Fragment,null,le.createElement(ue.Grid,{container:!0,sx:{backgroundColor:o=>o.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},le.createElement(ue.Grid,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:o=>o.palette.primary.contrastText},le.createElement(ue.Typography,{display:"flex",justifyContent:"center"},le.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),le.createElement(ue.Typography,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),le.createElement(ue.Typography,{variant:"h5",mt:2},"Your configuration is completed."),le.createElement(ue.Typography,{variant:"h6",mt:2},"Now you can get started by adding your resources to the"," ",r("resources")," property of"," ",r("Refine")),le.createElement(ue.Grid,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},le.createElement(ue.Stack,{spacing:2,direction:{xs:"column",sm:"row"}},le.createElement(ue.Link,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},le.createElement(ue.Button,{variant:"outlined",fullWidth:!0},"Documentation")),le.createElement(ue.Link,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},le.createElement(ue.Button,{variant:"outlined",fullWidth:!0},"Examples")),le.createElement(ue.Link,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},le.createElement(ue.Button,{variant:"outlined",fullWidth:!0},"Community")))))))};var Re=g(a("react")),Ct=g(V()),Qe=a("@mui/material"),bn=a("@mui/icons-material"),Cn=()=>{let[r,o]=(0,Re.useState)(),{push:n}=(0,Ct.useNavigation)(),i=(0,Ct.useTranslate)(),s=["edit","create","show"],{useParams:l}=(0,Ct.useRouterContext)(),u=l(),c=(0,Ct.useResourceWithRoute)();return(0,Re.useEffect)(()=>{var h;let f=(h=u.action)!=null?h:"list",d=u.resource;if(o(i("pages.error.info",{action:f,resource:d},`You may have forgotten to add the "${f}" component to "${d}" resource.`)),d){let b=c(d);f&&s.includes(f)&&!b[f]&&o(i("pages.error.info",{action:f,resource:d},`You may have forgotten to add the "${f}" component to "${d}" resource.`))}},[u]),Re.default.createElement(Qe.Grid,{display:"flex",justifyContent:"center",alignItems:"center",mt:20},Re.default.createElement(Qe.Grid,{container:!0,direction:"column",display:"flex",alignItems:"center"},Re.default.createElement(Qe.Typography,{variant:"h1"},"404"),Re.default.createElement(Qe.Stack,{direction:"row",spacing:"2"},Re.default.createElement(Qe.Typography,null,i("pages.error.404","Sorry, the page you visited does not exist.")),r&&Re.default.createElement(Qe.Tooltip,{title:r},Re.default.createElement(bn.Info,{}))),Re.default.createElement(Qe.Button,{onClick:()=>n("/")},i("pages.error.backHome","Back Home"))))};var Ft=g(a("react"));var te=g(a("react")),Nr=g(zt()),j=a("@mui/material"),Ht=g(V());var Tt={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},Pt={textAlign:"center",fontSize:"24px",letterSpacing:"-0.04em",marginBottom:"24px",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"};var ko=({providers:r,registerLink:o,forgotPasswordLink:n,rememberMe:i,contentProps:s,wrapperProps:l,renderContent:u,formProps:c})=>{var P;let{onSubmit:f,...d}=c||{},h=(0,Nr.useForm)({...d}),{register:b,handleSubmit:y,formState:{errors:m}}=h,{mutate:x,isLoading:p}=(0,Ht.useLogin)(),C=(0,Ht.useTranslate)(),{Link:v}=(0,Ht.useRouterContext)(),T=()=>r&&r.length>0?te.createElement(te.Fragment,null,r.map(E=>te.createElement(j.Button,{key:E.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>x({providerName:E.name}),startIcon:E.icon},E.label)),te.createElement(j.Divider,{style:{fontSize:12}},C("pages.login.divider","or"))):null,S=te.createElement(j.Card,{...s!=null?s:{}},te.createElement(j.CardContent,{sx:{paddingX:"32px"}},te.createElement(j.Typography,{component:"h1",variant:"h5",align:"center",style:Pt,color:"primary"},C("pages.login.title","Sign in to your account")),te.createElement(j.Box,{component:"form",onSubmit:y(E=>f?f(E):x(E)),gap:"16px"},T(),te.createElement(j.TextField,{...b("email",{required:!0}),id:"email",margin:"normal",fullWidth:!0,label:C("pages.login.fields.email","Email"),error:!!m.email,name:"email",type:"email",autoComplete:"email"}),te.createElement(j.TextField,{...b("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:C("pages.login.fields.password","Password"),helperText:(P=m==null?void 0:m.password)==null?void 0:P.message,error:!!m.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),te.createElement(j.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i!=null?i:te.createElement(j.FormControlLabel,{sx:{span:{fontSize:"14px",color:"text.secondary"}},color:"secondary",control:te.createElement(j.Checkbox,{size:"small",id:"remember",...b("remember")}),label:C("pages.login.buttons.rememberMe","Remember me")}),n!=null?n:te.createElement(j.Link,{variant:"body2",component:v,underline:"none",to:"/forgot-password"},C("pages.login.buttons.forgotPassword","Forgot password?"))),te.createElement(j.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:p},C("pages.login.signin","Sign in")),o!=null?o:te.createElement(j.Box,{style:{marginTop:8}},te.createElement(j.Typography,{variant:"body2",component:"span"},C("pages.login.buttons.noAccount","Don\u2019t have an account?")),te.createElement(j.Link,{ml:"8px",variant:"body2",component:v,underline:"none",to:"/register",fontWeight:"bold"},C("pages.login.signup","Sign up"))))));return te.createElement(Nr.FormProvider,{...h},te.createElement(j.Box,{component:"div",style:Tt,...l!=null?l:{}},te.createElement(j.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},te.createElement(j.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},u?u(S):S))))};var ve=g(a("react")),Tn=g(zt()),oe=a("@mui/material"),Vt=g(V());var Bo=({loginLink:r,wrapperProps:o,contentProps:n,renderContent:i,providers:s,formProps:l})=>{let{onSubmit:u,...c}=l||{},{register:f,handleSubmit:d,formState:{errors:h}}=(0,Tn.useForm)({...c}),{mutate:b,isLoading:y}=(0,Vt.useRegister)(),m=(0,Vt.useTranslate)(),{Link:x}=(0,Vt.useRouterContext)(),p=()=>s&&s.length>0?ve.createElement(ve.Fragment,null,s.map(v=>ve.createElement(oe.Button,{key:v.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>b({providerName:v.name}),startIcon:v.icon},v.label)),ve.createElement(oe.Divider,{style:{fontSize:12}},m("pages.login.divider","or"))):null,C=ve.createElement(oe.Card,{...n!=null?n:{}},ve.createElement(oe.CardContent,{sx:{paddingX:"32px"}},ve.createElement(oe.Typography,{component:"h1",variant:"h5",align:"center",style:Pt,color:"primary"},m("pages.register.title","Sign up for your account")),p(),ve.createElement(oe.Box,{component:"form",onSubmit:d(v=>u?u(v):b(v)),gap:"16px"},ve.createElement(oe.TextField,{...f("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:m("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:m("pages.register.email","Email"),error:!!h.email,helperText:h.email?h.email.message:"",name:"email",autoComplete:"email"}),ve.createElement(oe.TextField,{...f("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:m("pages.register.fields.password","Password"),helperText:h.password?h.password.message:"",error:!!h.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),r!=null?r:ve.createElement(oe.Box,{display:"flex",justifyContent:"flex-end"},ve.createElement(oe.Typography,{variant:"body2",component:"span"},m("pages.login.buttons.haveAccount","Have an account?")),ve.createElement(oe.Link,{ml:"6px",variant:"body2",component:x,underline:"none",to:"/login",fontWeight:"bold"},m("pages.login.signin","Sign in"))),ve.createElement(oe.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:y},m("pages.register.signup","Sign up")))));return ve.createElement(oe.Box,{component:"div",style:Tt,...o!=null?o:{}},ve.createElement(oe.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},i?i(C):C))};var Se=g(a("react")),Pn=g(zt()),fe=a("@mui/material"),jt=g(V());var Mo=({loginLink:r,wrapperProps:o,contentProps:n,renderContent:i,formProps:s})=>{let{onSubmit:l,...u}=s||{},{register:c,handleSubmit:f,formState:{errors:d}}=(0,Pn.useForm)({...u}),{mutate:h,isLoading:b}=(0,jt.useForgotPassword)(),y=(0,jt.useTranslate)(),{Link:m}=(0,jt.useRouterContext)(),x=Se.createElement(fe.Card,{...n!=null?n:{}},Se.createElement(fe.CardContent,{sx:{paddingX:"32px"}},Se.createElement(fe.Typography,{component:"h1",variant:"h5",align:"center",style:Pt,color:"primary"},y("pages.forgotPassword.title","Forgot your password?")),Se.createElement(fe.Box,{component:"form",onSubmit:f(p=>l?l(p):h(p)),gap:"16px"},Se.createElement(fe.TextField,{...c("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:y("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:y("pages.forgotPassword.fields.email","Email"),name:"email",type:"email",error:!!d.email,autoComplete:"email"}),r!=null?r:Se.createElement(fe.Box,{textAlign:"right"},Se.createElement(fe.Typography,{variant:"body2",component:"span"},y("pages.register.buttons.haveAccount","Have an account?"))," ",Se.createElement(fe.Link,{variant:"body2",component:m,underline:"none",to:"/register",fontWeight:"bold"},y("pages.login.signin","Sign in"))),Se.createElement(fe.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:b},y("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Se.createElement(Se.Fragment,null,Se.createElement(fe.Box,{component:"div",style:Tt,...o!=null?o:{}},Se.createElement(fe.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},i?i(x):x)))};var Ae=g(a("react")),Sn=g(zt()),be=a("@mui/material"),qr=g(V());var Fo=({wrapperProps:r,contentProps:o,renderContent:n,formProps:i})=>{var x,p;let{onSubmit:s,...l}=i||{},{register:u,watch:c,handleSubmit:f,formState:{errors:d}}=(0,Sn.useForm)({...l}),{mutate:h,isLoading:b}=(0,qr.useUpdatePassword)(),y=(0,qr.useTranslate)(),m=Ae.createElement(be.Card,{...o!=null?o:{}},Ae.createElement(be.CardContent,{sx:{paddingX:"32px"}},Ae.createElement(be.Typography,{component:"h1",variant:"h5",align:"center",style:Pt,color:"primary"},y("pages.updatePassword.title","Set New Password")),Ae.createElement(be.Box,{component:"form",onSubmit:f(C=>s?s(C):h(C)),gap:"16px"},Ae.createElement(be.TextField,{...u("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:y("pages.updatePassword.fields.password","New Password"),helperText:(x=d==null?void 0:d.password)==null?void 0:x.message,error:!!(d!=null&&d.password),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),Ae.createElement(be.TextField,{...u("confirmPassword",{required:!0,validate:C=>c("password")!==C?y("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):!0}),id:"confirmPassword",margin:"normal",fullWidth:!0,name:"confirmPassword",label:y("pages.updatePassword.fields.confirmPassword","Confirm New Password"),helperText:(p=d==null?void 0:d.confirmPassword)==null?void 0:p.message,error:!!(d!=null&&d.confirmPassword),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-confirm-password"}),Ae.createElement(be.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:b},y("pages.updatePassword.buttons.submit","Update")))));return Ae.createElement(Ae.Fragment,null,Ae.createElement(be.Box,{component:"div",style:Tt,...r!=null?r:{}},Ae.createElement(be.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},n?n(m):m)))};var En=r=>{let{type:o}=r;return Ft.default.createElement(Ft.default.Fragment,null,(()=>{switch(o){case"register":return Ft.default.createElement(Bo,{...r});case"forgotPassword":return Ft.default.createElement(Mo,{...r});case"updatePassword":return Ft.default.createElement(Fo,{...r});default:return Ft.default.createElement(ko,{...r})}})())};var Ie=g(a("react")),ze=g(V()),De=a("@mui/material"),wn=g(a("@mui/icons-material/ArrowBack"));var Dn=({title:r,actionButtons:o,children:n,saveButtonProps:i,resource:s,isLoading:l=!1,cardProps:u,cardHeaderProps:c,cardContentProps:f,cardActionsProps:d,breadcrumb:h,wrapperProps:b,headerProps:y,contentProps:m,headerButtonProps:x,headerButtons:p,footerButtonProps:C,footerButtons:v,goBack:T})=>{var k,q;let{goBack:S}=(0,ze.useNavigation)(),P=(0,ze.useTranslate)(),{useParams:E}=(0,ze.useRouterContext)(),{resource:D,action:w}=E(),M=(0,ze.useResourceWithRoute)()(s!=null?s:D),{options:F}=(0,ze.useRefineContext)(),R=typeof h>"u"?F==null?void 0:F.breadcrumb:h,I=typeof R<"u"?(k=Ie.default.createElement(Ie.default.Fragment,null,R))!=null?k:void 0:Ie.default.createElement(dt,null),A=Ie.default.createElement(Kt,{...l?{disabled:!0}:{},...i});return Ie.default.createElement(De.Card,{...u!=null?u:{},...b!=null?b:{}},I,Ie.default.createElement(De.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:r!=null?r:Ie.default.createElement(De.Typography,{variant:"h5"},P(`${M.name}.titles.create`,`Create ${(0,ze.userFriendlyResourceName)((q=M.label)!=null?q:M.name,"singular")}`)),avatar:typeof T<"u"?T:Ie.default.createElement(De.IconButton,{onClick:w?S:void 0},Ie.default.createElement(wn.default,null)),action:p?Ie.default.createElement(De.Box,{display:"flex",gap:"16px",...x!=null?x:{}},p?typeof p=="function"?p({defaultButtons:null}):p:null):void 0,...c!=null?c:{},...y!=null?y:{}}),Ie.default.createElement(De.CardContent,{...f!=null?f:{},...m!=null?m:{}},n),Ie.default.createElement(De.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...d!=null?d:{},...C!=null?C:{}},v?typeof v=="function"?v({defaultButtons:A}):v:o||A))};var de=g(a("react")),Le=g(V()),ke=a("@mui/material"),Ln=g(a("@mui/icons-material/ArrowBack"));var kn=({title:r,actionButtons:o,saveButtonProps:n,mutationMode:i,recordItemId:s,children:l,deleteButtonProps:u,canDelete:c,resource:f,isLoading:d=!1,cardProps:h,cardHeaderProps:b,cardContentProps:y,cardActionsProps:m,breadcrumb:x,dataProviderName:p,wrapperProps:C,headerProps:v,contentProps:T,headerButtonProps:S,headerButtons:P,footerButtonProps:E,footerButtons:D,goBack:w})=>{var it,Te;let L=(0,Le.useTranslate)(),{goBack:M,list:F}=(0,Le.useNavigation)(),R=(0,Le.useResourceWithRoute)(),{mutationMode:I}=(0,Le.useMutationMode)(),A=i!=null?i:I,{useParams:k}=(0,Le.useRouterContext)(),{resource:q,action:W,id:_}=k(),z=R(f!=null?f:q),X=c!=null?c:z.canDelete||u,{options:$}=(0,Le.useRefineContext)(),U=typeof x>"u"?$==null?void 0:$.breadcrumb:x,H=typeof U<"u"?(it=de.default.createElement(de.default.Fragment,null,U))!=null?it:void 0:de.default.createElement(dt,null),me=s!=null?s:_,Ce=de.default.createElement(de.default.Fragment,null,!s&&de.default.createElement(Zt,{...d?{disabled:!0}:{},resourceNameOrRouteName:z.route}),de.default.createElement(Yt,{...d?{disabled:!0}:{},resourceNameOrRouteName:z.route,recordItemId:me,dataProviderName:p})),We=de.default.createElement(de.default.Fragment,null,X&&de.default.createElement(_t,{...d?{disabled:!0}:{},mutationMode:A,variant:"outlined",onSuccess:()=>{var st;F((st=z.route)!=null?st:z.name)},dataProviderName:p,...u}),de.default.createElement(Kt,{...d?{disabled:!0}:{},...n}));return de.default.createElement(ke.Card,{...h!=null?h:{},...C!=null?C:{}},H,de.default.createElement(ke.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:r!=null?r:de.default.createElement(ke.Typography,{variant:"h5"},L(`${z.name}.titles.edit`,`Edit ${(0,Le.userFriendlyResourceName)((Te=z.label)!=null?Te:z.name,"singular")}`)),avatar:typeof w<"u"?w:de.default.createElement(ke.IconButton,{onClick:W?M:void 0},de.default.createElement(Ln.default,null)),action:de.default.createElement(ke.Box,{display:"flex",gap:"16px",...S!=null?S:{}},P?typeof P=="function"?P({defaultButtons:Ce}):P:Ce),...b!=null?b:{},...v!=null?v:{}}),de.default.createElement(ke.CardContent,{...y!=null?y:{},...T!=null?T:{}},l),de.default.createElement(ke.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...m!=null?m:{},...E!=null?E:{}},D?typeof D=="function"?D({defaultButtons:We}):D:o||We))};var Xe=g(a("react")),Je=g(V()),et=a("@mui/material");var Bn=({title:r,canCreate:o,children:n,createButtonProps:i,resource:s,cardProps:l,cardHeaderProps:u,cardContentProps:c,breadcrumb:f,wrapperProps:d,headerProps:h,contentProps:b,headerButtonProps:y,headerButtons:m})=>{var L,M;let{useParams:x}=(0,Je.useRouterContext)(),{resource:p}=x(),C=(0,Je.useTranslate)(),T=(0,Je.useResourceWithRoute)()(s!=null?s:p),S=o!=null?o:T.canCreate||i,{options:P}=(0,Je.useRefineContext)(),E=typeof f>"u"?P==null?void 0:P.breadcrumb:f,D=typeof E<"u"?(L=Xe.default.createElement(Xe.default.Fragment,null,E))!=null?L:void 0:Xe.default.createElement(dt,null),w=S?Xe.default.createElement(Or,{resourceNameOrRouteName:T.route,...i}):null;return Xe.default.createElement(et.Card,{...l!=null?l:{},...d!=null?d:{}},D,Xe.default.createElement(et.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:r!=null?r:Xe.default.createElement(et.Typography,{variant:"h5"},C(`${T.name}.titles.list`,(0,Je.userFriendlyResourceName)((M=T.label)!=null?M:T.name,"plural"))),action:Xe.default.createElement(et.Box,{display:"flex",gap:"16px",...y},m?typeof m=="function"?m({defaultButtons:w}):m:w),...u!=null?u:{},...h!=null?h:{}}),Xe.default.createElement(et.CardContent,{...c!=null?c:{},...b!=null?b:{}},n))};var ye=g(a("react")),He=g(V()),Be=a("@mui/material"),Mn=g(a("@mui/icons-material/ArrowBack"));var Fn=({title:r,canEdit:o,canDelete:n,actionButtons:i,isLoading:s=!1,children:l,resource:u,recordItemId:c,cardProps:f,cardHeaderProps:d,cardContentProps:h,cardActionsProps:b,breadcrumb:y,dataProviderName:m,wrapperProps:x,headerProps:p,contentProps:C,headerButtonProps:v,headerButtons:T,footerButtonProps:S,footerButtons:P,goBack:E})=>{var H,me;let D=(0,He.useTranslate)(),{goBack:w,list:L}=(0,He.useNavigation)(),M=(0,He.useResourceWithRoute)(),{useParams:F}=(0,He.useRouterContext)(),{resource:R,action:I,id:A}=F(),k=M(u!=null?u:R),q=n!=null?n:k.canDelete,W=o!=null?o:k.canEdit,{options:_}=(0,He.useRefineContext)(),z=typeof y>"u"?_==null?void 0:_.breadcrumb:y,X=typeof z<"u"?(H=ye.default.createElement(ye.default.Fragment,null,z))!=null?H:void 0:ye.default.createElement(dt,null),$=c!=null?c:A,U=ye.default.createElement(ye.default.Fragment,null,!c&&ye.default.createElement(Zt,{...s?{disabled:!0}:{},resourceNameOrRouteName:k.route}),W&&ye.default.createElement(Rr,{...s?{disabled:!0}:{},resourceNameOrRouteName:k.route,recordItemId:$}),q&&ye.default.createElement(_t,{...s?{disabled:!0}:{},resourceNameOrRouteName:k.route,recordItemId:$,onSuccess:()=>{var Ce;return L((Ce=k.route)!=null?Ce:k.name)},dataProviderName:m}),ye.default.createElement(Yt,{...s?{disabled:!0}:{},resourceNameOrRouteName:k.route,recordItemId:$,dataProviderName:m}));return ye.default.createElement(Be.Card,{...f!=null?f:{},...x!=null?x:{}},X,ye.default.createElement(Be.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:r!=null?r:ye.default.createElement(Be.Typography,{variant:"h5"},D(`${k.name}.titles.show`,`Show ${(0,He.userFriendlyResourceName)((me=k.label)!=null?me:k.name,"singular")}`)),avatar:typeof E<"u"?E:ye.default.createElement(Be.IconButton,{onClick:I?w:void 0},ye.default.createElement(Mn.default,null)),action:ye.default.createElement(Be.Box,{display:"flex",gap:"16px",...v!=null?v:{}},T?typeof T=="function"?T({defaultButtons:U}):T:U),...d!=null?d:{},...p!=null?p:{}}),ye.default.createElement(Be.CardContent,{...h!=null?h:{},...C!=null?C:{}},l),ye.default.createElement(Be.CardActions,{sx:{padding:"16px"},...b!=null?b:{},...S!=null?S:{}},P?typeof P=="function"?P({defaultButtons:null}):P:i||null,i||null))};var dr=g(a("react")),tt=g(V()),On=g(Ye()),Rn=a("@mui/material"),qo=a("@mui/icons-material"),Or=({resourceNameOrRouteName:r,hideText:o=!1,accessControl:n,ignoreAccessControlProvider:i=!1,svgIconProps:s,children:l,onClick:u,...c})=>{var P,E;let f=(P=n==null?void 0:n.enabled)!=null?P:!i,d=(E=n==null?void 0:n.hideIfUnauthorized)!=null?E:!1,{resource:h,resourceName:b}=(0,tt.useResource)({resourceNameOrRouteName:r}),{Link:y}=(0,tt.useRouterContext)(),{createUrl:m}=(0,tt.useNavigation)(),x=(0,tt.useTranslate)(),{data:p}=(0,tt.useCan)({resource:b,action:"create",queryOptions:{enabled:f},params:{resource:h}}),C=()=>p!=null&&p.can?"":p!=null&&p.reason?p.reason:x("buttons.notAccessTitle","You don't have permission to access"),v=m(h.route),{sx:T,...S}=c;return f&&d&&!(p!=null&&p.can)?null:dr.default.createElement(y,{to:v,replace:!1,onClick:D=>{if((p==null?void 0:p.can)===!1){D.preventDefault();return}u&&(D.preventDefault(),u(D))},style:{textDecoration:"none"}},dr.default.createElement(Rn.Button,{disabled:(p==null?void 0:p.can)===!1,startIcon:!o&&dr.default.createElement(qo.AddBoxOutlined,{...s}),title:C(),variant:"contained",sx:{minWidth:0,...T},...S},o?dr.default.createElement(qo.AddBoxOutlined,{fontSize:"small",...s}):l!=null?l:x("buttons.create","Create")))};var mr=g(a("react")),rt=g(V()),An=g(Ye()),In=a("@mui/material"),Oo=a("@mui/icons-material"),Rr=({resourceNameOrRouteName:r,recordItemId:o,hideText:n=!1,accessControl:i,ignoreAccessControlProvider:s=!1,svgIconProps:l,children:u,onClick:c,...f})=>{var D,w;let d=(D=i==null?void 0:i.enabled)!=null?D:!s,h=(w=i==null?void 0:i.hideIfUnauthorized)!=null?w:!1,{resourceName:b,resource:y,id:m}=(0,rt.useResource)({resourceNameOrRouteName:r,recordItemId:o}),x=(0,rt.useTranslate)(),{editUrl:p}=(0,rt.useNavigation)(),{Link:C}=(0,rt.useRouterContext)(),{data:v}=(0,rt.useCan)({resource:b,action:"edit",params:{id:m,resource:y},queryOptions:{enabled:d}}),T=()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:x("buttons.notAccessTitle","You don't have permission to access"),S=p(y.route,m),{sx:P,...E}=f;return d&&h&&!(v!=null&&v.can)?null:mr.default.createElement(C,{to:S,replace:!1,onClick:L=>{if((v==null?void 0:v.can)===!1){L.preventDefault();return}c&&(L.preventDefault(),c(L))},style:{textDecoration:"none"}},mr.default.createElement(In.Button,{disabled:(v==null?void 0:v.can)===!1,startIcon:!n&&mr.default.createElement(Oo.EditOutlined,{sx:{selfAlign:"center"},...l}),title:T(),sx:{minWidth:0,...P},...E},n?mr.default.createElement(Oo.EditOutlined,{fontSize:"small",...l}):u!=null?u:x("buttons.edit","Edit")))};var Ze=g(a("react")),ot=g(V()),Wn=g(Ye()),mt=a("@mui/material"),$n=a("@mui/lab"),Ro=a("@mui/icons-material"),_t=({resourceNameOrRouteName:r,recordItemId:o,onSuccess:n,mutationMode:i,children:s,successNotification:l,errorNotification:u,hideText:c=!1,accessControl:f,ignoreAccessControlProvider:d=!1,metaData:h,dataProviderName:b,confirmTitle:y,confirmOkText:m,confirmCancelText:x,svgIconProps:p,invalidates:C,...v})=>{var U,H;let T=(U=f==null?void 0:f.enabled)!=null?U:!d,S=(H=f==null?void 0:f.hideIfUnauthorized)!=null?H:!1,{resourceName:P,id:E,resource:D}=(0,ot.useResource)({resourceNameOrRouteName:r,recordItemId:o}),w=(0,ot.useTranslate)(),{mutationMode:L}=(0,ot.useMutationMode)(),M=i!=null?i:L,{mutate:F,isLoading:R,variables:I}=(0,ot.useDelete)(),{data:A}=(0,ot.useCan)({resource:P,action:"delete",params:{id:E,resource:D},queryOptions:{enabled:T}}),[k,q]=Ze.default.useState(!1),W=()=>{q(!0)},_=()=>{q(!1)},z=()=>{q(!1),F({id:E!=null?E:"",resource:P,mutationMode:M,successNotification:l,errorNotification:u,metaData:h,dataProviderName:b,invalidates:C},{onSuccess:me=>{n&&n(me)}})},{sx:X,...$}=v;return T&&S&&!(A!=null&&A.can)?null:Ze.default.createElement("div",null,Ze.default.createElement($n.LoadingButton,{color:"error",onClick:W,disabled:(A==null?void 0:A.can)===!1,loading:E===(I==null?void 0:I.id)&&R,startIcon:!c&&Ze.default.createElement(Ro.DeleteOutline,{...p}),sx:{minWidth:0,...X},loadingPosition:c?"center":"start",...$},c?Ze.default.createElement(Ro.DeleteOutline,{fontSize:"small",...p}):s!=null?s:w("buttons.delete","Delete")),Ze.default.createElement(mt.Dialog,{open:k,onClose:_,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},Ze.default.createElement(mt.DialogTitle,{id:"alert-dialog-title"},y!=null?y:w("buttons.confirm","Are you sure?")),Ze.default.createElement(mt.DialogActions,{sx:{justifyContent:"center"}},Ze.default.createElement(mt.Button,{onClick:_},x!=null?x:w("buttons.cancel","Cancel")),Ze.default.createElement(mt.Button,{color:"error",onClick:z,autoFocus:!0},m!=null?m:w("buttons.delete","Delete")))))};var Ar=g(a("react")),Xt=g(V()),Un=g(Ye()),Gn=a("@mui/lab"),Ao=a("@mui/icons-material"),Yt=({resourceNameOrRouteName:r,recordItemId:o,hideText:n=!1,metaData:i,dataProviderName:s,svgIconProps:l,children:u,onClick:c,...f})=>{let{resourceName:d,id:h}=(0,Xt.useResource)({resourceNameOrRouteName:r,recordItemId:o}),b=(0,Xt.useTranslate)(),{refetch:y,isFetching:m}=(0,Xt.useOne)({resource:d,id:h!=null?h:"",queryOptions:{enabled:!1},metaData:i,liveMode:"off",dataProviderName:s}),{sx:x,...p}=f;return Ar.default.createElement(Gn.LoadingButton,{startIcon:!n&&Ar.default.createElement(Ao.RefreshOutlined,{...l}),loading:m,loadingPosition:n?"center":"start",onClick:C=>c?c(C):y(),sx:{minWidth:0,...x},...p},n?Ar.default.createElement(Ao.RefreshOutlined,{fontSize:"small",...l}):u!=null?u:b("buttons.refresh","Refresh"))};var pr=g(a("react")),at=g(V()),Qn=g(Ye()),zn=a("@mui/material"),Io=a("@mui/icons-material"),Hn=({resourceNameOrRouteName:r,recordItemId:o,hideText:n=!1,accessControl:i,ignoreAccessControlProvider:s=!1,svgIconProps:l,children:u,onClick:c,...f})=>{var D,w;let d=(D=i==null?void 0:i.enabled)!=null?D:!s,h=(w=i==null?void 0:i.hideIfUnauthorized)!=null?w:!1,{resourceName:b,id:y,resource:m}=(0,at.useResource)({resourceNameOrRouteName:r,recordItemId:o}),{showUrl:x}=(0,at.useNavigation)(),{Link:p}=(0,at.useRouterContext)(),C=(0,at.useTranslate)(),{data:v}=(0,at.useCan)({resource:b,action:"show",params:{id:y,resource:m},queryOptions:{enabled:d}}),T=()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:C("buttons.notAccessTitle","You don't have permission to access"),S=x(m.route,y),{sx:P,...E}=f;return d&&h&&!(v!=null&&v.can)?null:pr.default.createElement(p,{to:S,replace:!1,onClick:L=>{if((v==null?void 0:v.can)===!1){L.preventDefault();return}c&&(L.preventDefault(),c(L))},style:{textDecoration:"none"}},pr.default.createElement(zn.Button,{disabled:(v==null?void 0:v.can)===!1,startIcon:!n&&pr.default.createElement(Io.VisibilityOutlined,{...l}),title:T(),sx:{minWidth:0,...P},...E},n?pr.default.createElement(Io.VisibilityOutlined,{fontSize:"small",...l}):u!=null?u:C("buttons.show","Show")))};var cr=g(a("react")),Ve=g(V()),Vn=g(Ye()),jn=a("@mui/material"),Wo=a("@mui/icons-material"),Zt=({resourceNameOrRouteName:r,hideText:o=!1,accessControl:n,ignoreAccessControlProvider:i=!1,svgIconProps:s,children:l,onClick:u,...c})=>{var P,E,D;let f=(P=n==null?void 0:n.enabled)!=null?P:!i,d=(E=n==null?void 0:n.hideIfUnauthorized)!=null?E:!1,{resource:h,resourceName:b}=(0,Ve.useResource)({resourceNameOrRouteName:r}),{listUrl:y}=(0,Ve.useNavigation)(),{Link:m}=(0,Ve.useRouterContext)(),x=(0,Ve.useTranslate)(),{data:p}=(0,Ve.useCan)({resource:b,action:"list",queryOptions:{enabled:f},params:{resource:h}}),C=()=>p!=null&&p.can?"":p!=null&&p.reason?p.reason:x("buttons.notAccessTitle","You don't have permission to access"),v=y(h.route),{sx:T,...S}=c;return f&&d&&!(p!=null&&p.can)?null:cr.default.createElement(m,{to:v,replace:!1,onClick:w=>{if((p==null?void 0:p.can)===!1){w.preventDefault();return}u&&(w.preventDefault(),u(w))},style:{textDecoration:"none"}},cr.default.createElement(jn.Button,{disabled:(p==null?void 0:p.can)===!1,startIcon:!o&&cr.default.createElement(Wo.ListOutlined,{...s}),title:C(),sx:{minWidth:0,...T},...S},o?cr.default.createElement(Wo.ListOutlined,{fontSize:"small",...s}):l!=null?l:x(`${b}.titles.list`,(0,Ve.userFriendlyResourceName)((D=h.label)!=null?D:b,"plural"))))};var Ir=g(a("react")),Kn=g(V()),_n=g(Ye()),Yn=a("@mui/lab"),$o=a("@mui/icons-material"),Zn=({hideText:r=!1,children:o,loading:n=!1,svgIconProps:i,...s})=>{let l=(0,Kn.useTranslate)(),{sx:u,...c}=s;return Ir.default.createElement(Yn.LoadingButton,{...s,loading:n,startIcon:!r&&Ir.default.createElement($o.ImportExportOutlined,{...i}),loadingPosition:r?"center":"start",sx:{minWidth:0,...u},...c},r?Ir.default.createElement($o.ImportExportOutlined,{fontSize:"small",...i}):o!=null?o:l("buttons.export","Export"))};var Wr=g(a("react")),Xn=g(V()),Jn=g(Ye()),ei=a("@mui/lab"),Uo=a("@mui/icons-material"),Kt=({hideText:r=!1,svgIconProps:o,children:n,...i})=>{let s=(0,Xn.useTranslate)(),{sx:l,...u}=i;return Wr.default.createElement(ei.LoadingButton,{startIcon:!r&&Wr.default.createElement(Uo.SaveOutlined,{...o}),sx:{minWidth:0,...l},variant:"contained",...u},r?Wr.default.createElement(Uo.SaveOutlined,{fontSize:"small",...o}):n!=null?n:s("buttons.save","Save"))};var fr=g(a("react")),nt=g(V()),ti=g(Ye()),ri=a("@mui/material"),Go=a("@mui/icons-material"),oi=({resourceNameOrRouteName:r,recordItemId:o,hideText:n=!1,accessControl:i,ignoreAccessControlProvider:s=!1,svgIconProps:l,children:u,onClick:c,...f})=>{var D,w;let d=(D=i==null?void 0:i.enabled)!=null?D:!s,h=(w=i==null?void 0:i.hideIfUnauthorized)!=null?w:!1,{resourceName:b,resource:y,id:m}=(0,nt.useResource)({resourceNameOrRouteName:r,recordItemId:o}),{cloneUrl:x}=(0,nt.useNavigation)(),{Link:p}=(0,nt.useRouterContext)(),C=(0,nt.useTranslate)(),{data:v}=(0,nt.useCan)({resource:b,action:"create",params:{id:m,resource:y},queryOptions:{enabled:d}}),T=()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:C("buttons.notAccessTitle","You don't have permission to access"),S=x(y.route,m),{sx:P,...E}=f;return d&&h&&!(v!=null&&v.can)?null:fr.default.createElement(p,{to:S,replace:!1,onClick:L=>{if((v==null?void 0:v.can)===!1){L.preventDefault();return}c&&(L.preventDefault(),c(L))},style:{textDecoration:"none"}},fr.default.createElement(ri.Button,{disabled:(v==null?void 0:v.can)===!1,startIcon:!n&&fr.default.createElement(Go.AddBoxOutlined,{...l}),title:T(),sx:{minWidth:0,...P},...E},n?fr.default.createElement(Go.AddBoxOutlined,{fontSize:"small",...l}):u!=null?u:C("buttons.clone","Clone")))};var Jt=g(a("react")),ai=g(V()),ni=g(Ye()),ii=a("@mui/lab"),Qo=a("@mui/icons-material"),si=({inputProps:r,hideText:o=!1,loading:n=!1,svgIconProps:i,children:s,...l})=>{let u=(0,ai.useTranslate)(),{sx:c,...f}=l;return Jt.default.createElement("label",{htmlFor:"contained-button-file"},Jt.default.createElement("input",{...r,id:"contained-button-file",multiple:!0,hidden:!0}),Jt.default.createElement(ii.LoadingButton,{component:"span",startIcon:!o&&Jt.default.createElement(Qo.ImportExportOutlined,{...i}),loadingPosition:o?"center":"start",loading:n,sx:{minWidth:0,...c},...f},o?Jt.default.createElement(Qo.ImportExportOutlined,{fontSize:"small",...i}):s!=null?s:u("buttons.import","Import")))};var Me=g(a("react")),pt=a("@mui/material"),zo=({undoableTimeout:r,message:o})=>{let[n,i]=(0,Me.useState)(100),[s,l]=(0,Me.useState)(r);return(0,Me.useEffect)(()=>{let u=100/r,c=setInterval(()=>{l(f=>f-1),i(f=>f-u)},1e3);return s===0&&clearInterval(c),()=>{clearInterval(c)}},[s]),Me.default.createElement(Me.default.Fragment,null,Me.default.createElement(pt.Box,{sx:{position:"relative",display:"inline-flex"}},Me.default.createElement(pt.CircularProgress,{color:"inherit",variant:"determinate",value:n}),Me.default.createElement(pt.Box,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},Me.default.createElement(pt.Typography,{component:"div"},s))),Me.default.createElement(pt.Box,{sx:{marginLeft:"10px",maxWidth:{xs:"150px",md:"100%"}}},Me.default.createElement(pt.Typography,{variant:"subtitle2"},o)))};var li=g(a("react")),ui=a("@mui/material"),di=({value:r,...o})=>li.default.createElement(ui.Typography,{variant:"body2",...o},r);var mi=g(a("react")),pi=a("@mui/material"),ci=({value:r,...o})=>mi.default.createElement(pi.Chip,{label:r==null?void 0:r.toString(),...o});var Ho=g(a("react")),$r=a("@mui/material"),fi=({value:r,...o})=>Ho.default.createElement($r.Typography,{variant:"body2"},Ho.default.createElement($r.Link,{href:`mailto:${r}`,...o},r));var er=g(a("react")),gi=a("@mui/material"),Ur=a("@mui/icons-material"),vi=({value:r,valueLabelTrue:o="true",valueLabelFalse:n="false",trueIcon:i,falseIcon:s,svgIconProps:l,...u})=>er.default.createElement(gi.Tooltip,{title:r?o:n,...u},r?er.default.createElement("span",null,i!=null?i:er.default.createElement(Ur.CheckOutlined,{...l})):er.default.createElement("span",null,s!=null?s:er.default.createElement(Ur.CloseOutlined,{...l})));var yi=g(a("react")),Gr=g(a("dayjs")),xi=g(a("dayjs/plugin/localizedFormat")),hi=a("@mui/material");Gr.default.extend(xi.default);var Fp=Gr.default.locale(),bi=({value:r,locales:o,format:n="L",...i})=>yi.default.createElement(hi.Typography,{variant:"body2",...i},(0,Gr.default)(r).locale(o||Fp).format(n));var Ci=g(a("react"));var Ti=({title:r,src:o,...n})=>Ci.default.createElement(Qr,{value:o,title:r,...n},r!=null?r:o);var Vo=g(a("react")),zr=a("@mui/material"),Qr=({children:r,value:o,...n})=>Vo.default.createElement(zr.Typography,{variant:"body2"},Vo.default.createElement(zr.Link,{href:o,...n},r!=null?r:o));var Pi=g(a("react")),Si=a("@mui/material");function Np(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var Ei=({value:r,locale:o,options:n,...i})=>{let s=parseFloat(r.toString());return Pi.default.createElement(Si.Typography,{variant:"body2",...i},Np()?s.toLocaleString(o,n):s)};var wi=g(a("react")),Di=g(a("react-markdown")),Li=g(a("remark-gfm")),ki=({value:r=""})=>wi.default.createElement(Di.default,{plugins:[Li.default]},r);var St=g(a("react")),tr=g(V()),Et=a("@mui/material"),Bi=a("@mui/icons-material"),dt=({breadcrumbProps:r,showHome:o=!0,hideIcons:n=!1})=>{var c;let{breadcrumbs:i}=(0,tr.useBreadcrumb)(),{Link:s}=(0,tr.useRouterContext)(),{hasDashboard:l}=(0,tr.useRefineContext)();if(i.length===1)return null;let u=f=>St.default.createElement(Et.Link,{...f,component:s});return St.default.createElement(Et.Breadcrumbs,{"aria-label":"breadcrumb",sx:{paddingY:2,paddingX:2,...(c=r==null?void 0:r.sx)!=null?c:{}},...r},o&&l&&St.default.createElement(u,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",to:"/"},St.default.createElement(Bi.HomeOutlined,{sx:{fontSize:"18px"}})),i.map(({label:f,icon:d,href:h})=>St.default.createElement(Et.Grid,{key:f,sx:{display:"flex",alignItems:"center","& .MuiSvgIcon-root":{fontSize:"16px"}}},!n&&d,h?St.default.createElement(u,{underline:"hover",sx:{display:"flex",alignItems:"center",fontSize:"14px"},color:"inherit",to:h,variant:"subtitle1",marginLeft:.5},f):St.default.createElement(Et.Typography,{fontSize:"14px"},f))))};var Mi=g(V()),Fi=g(a("lodash-es/isEqual")),Ni=g(a("lodash-es/unionWith")),qp=r=>{var s,l;let{queryResult:o,defaultValueQueryResult:n,onSearch:i}=(0,Mi.useSelect)(r);return{autocompleteProps:{options:(0,Ni.default)(((s=o.data)==null?void 0:s.data)||[],((l=n.data)==null?void 0:l.data)||[],Fi.default),loading:o.isFetching||n.isFetching,onInputChange:(u,c)=>{(u==null?void 0:u.type)==="change"&&i(c)},filterOptions:u=>u},onSearch:i,queryResult:o,defaultValueQueryResult:n}};var Nt=a("react"),jr=g(V()),rr=a("@mui/material"),jo=g(a("lodash-es/differenceWith")),Vr=g(a("lodash-es/isEqual")),Wi=g(a("warn-once"));var Hr=a("@mui/x-data-grid"),Oi=r=>r.map(({field:n,sort:i})=>({field:n,order:i||"asc"})),Ri=r=>r.map(({field:n,order:i})=>({field:n,sort:i})),Op=r=>{if(!r)return"eq";switch(r){case"equals":case"is":case"=":return"eq";case"!=":case"not":return"ne";case">":case"after":return"gt";case">=":case"onOrAfter":return"gte";case"<":case"before":return"lt";case"<=":case"onOrBefore":return"lte";case"isEmpty":return"null";case"isNotEmpty":return"nnull";default:return r}},Ai=({items:r,linkOperator:o})=>{let n=r.map(({columnField:i,value:s,operatorValue:l})=>({field:i,value:s!=null?s:"",operator:Op(l)}));return o===Hr.GridLinkOperator.Or?[{operator:"or",value:n}]:n},qi=(r,o)=>{switch(o){case"number":switch(r){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return r}case"singleSelect":case"boolean":switch(r){case"eq":return"is";default:return r}case void 0:case"string":switch(r){case"eq":return"equals";case"contains":return"contains";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return r}case"date":case"dateTime":switch(r){case"eq":return"is";case"ne":return"not";case"gt":return"after";case"gte":return"onOrAfter";case"lt":return"before";case"lte":return"onOrBefore";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return r}default:return r}},Ii=(r,o)=>{var s;let n=[],i=r.some(l=>l.operator==="or");return o&&(i?((s=r.find(u=>u.operator==="or"))==null?void 0:s.value).map(({field:u,value:c,operator:f})=>{let d=o[u];n.push({columnField:u,operatorValue:qi(f,d),value:c===""?void 0:c,id:u+f})}):r.map(({field:l,value:u,operator:c})=>{let f=o[l];n.push({columnField:l,operatorValue:qi(c,f),value:u===""?void 0:u,id:l+c})})),{items:n,linkOperator:i?Hr.GridLinkOperator.Or:Hr.GridLinkOperator.And}};function $i({columns:r,onSearch:o,initialCurrent:n,initialPageSize:i=25,hasPagination:s=!0,initialSorter:l,permanentSorter:u,defaultSetFilterBehavior:c="replace",initialFilter:f,permanentFilter:d,syncWithLocation:h,resource:b,successNotification:y,errorNotification:m,queryOptions:x,liveMode:p,onLiveEvent:C,liveParams:v,metaData:T,dataProviderName:S}={}){let[P,E]=(0,Nt.useState)(),{tableQueryResult:D,current:w,setCurrent:L,pageSize:M,setPageSize:F,filters:R,setFilters:I,sorter:A,setSorter:k,pageCount:q,createLinkForSyncWithLocation:W}=(0,jr.useTable)({permanentSorter:u,permanentFilter:d,initialCurrent:n,initialPageSize:i,hasPagination:s,initialSorter:l,initialFilter:f,syncWithLocation:h,defaultSetFilterBehavior:c,resource:b,successNotification:y,errorNotification:m,queryOptions:x,liveMode:p,onLiveEvent:C,liveParams:v,metaData:T,dataProviderName:S}),[_,z]=(0,Nt.useState)(R);(0,Nt.useEffect)(()=>{(0,Wi.default)(!!r,"[useDataGrid]: `columns` is deprecated and will be removed in the next major version.\nFor more information, see https://github.com/refinedev/refine/pull/2072")},[]);let X=(0,rr.useTheme)(),{data:$,isFetched:U,isLoading:H}=D,me=(0,jr.useLiveMode)(p),Ce=J=>{s&&L(J+1)},We=J=>{s&&F(J)},it=J=>{let ne=Oi(J);k(ne)},Te=J=>{let ne=Ai(J);z(ne),I(ne.filter(Ee=>Ee.value!=="")),s&&L(1)},st=async J=>{if(o){let ne=await o(J);z(ne),I(ne.filter(Ee=>Ee.value!=="")),s&&L(1)}},or=(0,Nt.useMemo)(()=>s?{current:w,setCurrent:L,pageSize:M,setPageSize:F,pageCount:q}:{current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0},[s,w,M,q]),Ot=()=>s?{paginationMode:"server",page:(w!=null?w:1)-1,onPageChange:Ce,pageSize:M,onPageSizeChange:We}:{hideFooterPagination:!0};return{tableQueryResult:D,dataGridProps:{...(()=>r?{columns:r}:{})(),disableSelectionOnClick:!0,rows:($==null?void 0:$.data)||[],loading:me==="auto"?H:!U,rowCount:($==null?void 0:$.total)||0,...Ot(),sortingMode:"server",sortModel:Ri((0,jo.default)(A,u!=null?u:[],Vr.default)),onSortModelChange:it,filterMode:"server",filterModel:Ii((0,jo.default)(_,d!=null?d:[],Vr.default),P),onFilterModelChange:Te,onStateChange:J=>{let ne=Object.fromEntries(Object.entries(J.columns.lookup).map(([gt,$e])=>[gt,$e.type]));!(0,Vr.default)(ne,P)&&E(ne)},sx:{border:"none","& .MuiDataGrid-columnHeaders":{background:(0,rr.darken)(X.palette.background.paper,.05),borderBottom:`1px solid ${(0,rr.darken)(X.palette.background.paper,.1)}`},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${(0,rr.darken)(X.palette.background.paper,.05)}`}}},...or,sorter:A,setSorter:k,filters:R,setFilters:I,search:st,createLinkForSyncWithLocation:W}}var Ui=g(a("react")),Gi=g(V()),Rp=()=>{let{selectedKey:r,menuItems:o}=(0,Gi.useMenu)(),n=Ui.default.useMemo(()=>{let i=r.split("/").filter(u=>u!==""),s={},l="";for(let u=0;u<i.length-1;u++)i[u]!=="undefined"&&(l=l+`/${i[u]}`),s={...s,[l]:!s[l]};return s},[]);return{selectedKey:r,defaultOpenKeys:n,menuItems:o}};var Ko=a("@mui/material");var Qi={mode:"light",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#f0f0f0",paper:"#ffffff"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#fa541c",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#0b82f0",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#626262",secondary:"#9f9f9f",disabled:"#c1c1c1"}};var zi={mode:"dark",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#212121",paper:"#242424"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#ee2a1e",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#1890ff",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"#d1d1d1"}};var Hi={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")};var Vi={shape:{borderRadius:6},typography:{...Hi}},Ap=(0,Ko.createTheme)({...Vi,palette:Qi,components:{MuiAppBar:{styleOverrides:{colorDefault:{backgroundColor:"#fff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.01))"}}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),Ip=(0,Ko.createTheme)({...Vi,palette:zi,components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.025), rgba(255, 255, 255, 0.025))"}}},MuiAppBar:{defaultProps:{color:"transparent"}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}});var ct=g(a("react")),ji=a("notistack");var qt=a("@mui/material"),Ki=a("@mui/icons-material"),Wp=()=>{let{closeSnackbar:r,enqueueSnackbar:o}=(0,ji.useSnackbar)();return{open:({message:i,type:s,undoableTimeout:l,key:u,cancelMutation:c,description:f})=>{if(s==="progress"){let d=h=>ct.default.createElement(qt.IconButton,{onClick:()=>{c==null||c(),r(h)},color:"inherit"},ct.default.createElement(Ki.UndoOutlined,null));o(ct.default.createElement(ct.default.Fragment,null,ct.default.createElement(zo,{undoableTimeout:l!=null?l:0,message:i})),{action:d,anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,key:u,autoHideDuration:(l!=null?l:0)*1e3,disableWindowBlurListener:!0})}else o(ct.default.createElement(qt.Box,null,ct.default.createElement(qt.Typography,{variant:"subtitle2",component:"h6"},f),ct.default.createElement(qt.Typography,{variant:"caption",component:"p"},i)),{variant:s,anchorOrigin:{vertical:"top",horizontal:"right"},disableWindowBlurListener:!0})},close:i=>{r(i)}}};var _i=a("@mui/material"),Yi=a("notistack"),$p=(0,_i.styled)(Yi.SnackbarProvider)`
    &.SnackbarItem-contentRoot {
        background-color: ${r=>r.theme.palette.background.default};
        color: ${r=>r.theme.palette.primary.main};
    }
    &.SnackbarItem-variantSuccess {
        background-color: ${r=>r.theme.palette.success.main};
        color: ${r=>r.theme.palette.success.contrastText};
    }
    &.SnackbarItem-variantError {
        background-color: ${r=>r.theme.palette.error.main};
        color: ${r=>r.theme.palette.error.contrastText};
    }
    &.SnackbarItem-variantInfo {
        background-color: ${r=>r.theme.palette.info.main};
        color: ${r=>r.theme.palette.info.contrastText};
    }
    &.SnackbarItem-variantWarning {
        background-color: ${r=>r.theme.palette.warning.main};
        color: ${r=>r.theme.palette.warning.contrastText};
    }
`;})();
//# sourceMappingURL=index.js.map